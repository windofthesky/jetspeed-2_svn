# ------------------------------------------------------------------------
#
# Jetspeed Portal Engine - Test Properties
#    overrides properties in ../jetspeed.properties for testing
#
# $Id$
#

# we need internal JNDI for testing
portal.use.internal.jndi=true

# -------------------------------------------------------------------
#  L O G 4 J - L O G G I N G
# -------------------------------------------------------------------
log4j.file = /WEB-INF/conf/test/Log4j.properties

# --------------------------------------------------------------------------
# JNDI Support Service (Only needed if the current container does not support JNDI)
#---------------------------------------------------------------------------
services.JNDIService.classname=org.apache.jetspeed.cps.jndi.TyrexJNDIService
services.JNDIService.earlyInit = true


# --------------------------------------------------------------------------
# HSQL Server (Only needed if you are using HSQL)
#---------------------------------------------------------------------------
services.HSQLDBServer.classname=org.apache.jetspeed.cps.hsql.HSQLDBServer
services.HSQLDBServer.port=9001
services.HSQLDBServer.user=sa
services.HSQLDBServer.password=
# Quiet logging from HSQL
services.HSQLDBServer.silent=true
# turn DB trace in HSQL
services.HSQLDBServer.trace=false
services.HSQLDBServer.db.path=../../test/db/hsql/Registry
services.HSQLDBServer.earlyInit = true
# use the below lines to setup HSQL within a JNDI pooled Datasource
services.HSQLDBServer.use.jndi.datasource=true
services.HSQLDBServer.jndi.datasource.name=jdbc/jetspeed
services.HSQLDBServer.jndi.datasource.maxActive=25
# When the pool is exhausted do 1 of the following
# "grow"  increases the pool size by 1
# "fail"   a "noSuchElementException" is thrown
# "block"  waits for a datasource to become available
services.HSQLDBServer.jndi.datasource.when.exhausted=grow
# The amount of time block while waiting for a released
# object.  Only used if "block" is specified
# services.HSQLDBServer.jndi.datasource.max.block.wait=5000




# -------------------------------------------------------------------
#  P E R S I S T E N C E 
# -------------------------------------------------------------------
# Currently unneeded 
# services.PersistenceService.persistence.plugin.name=jetspeed-test

# -------------------------------------------------------------------
#  R E G I S T R Y  
# -------------------------------------------------------------------
#services.PortletRegistry.config.file=/WEB-INF/conf/test/registry-hsql-database.xml
# Use the persistence plugin that points to the test system
# Currently unneeded 
# services.PortletRegistry.persistence.plugin.name=jetspeed-test

# -------------------------------------------------------------------
#  C A P A B I L I T Y 
# -------------------------------------------------------------------
# Use the persistence plugin that points to the test system
# services.capability.persistence.plugin.name=jetspeed-test

# -------------------------------------------------------------------
#  P S M L 
# -------------------------------------------------------------------
services.PsmlManager.root=./test/testdata/psml

# -------------------------------------------------------------------
# Page Manager (Castor based)            
# -------------------------------------------------------------------
services.XMLPageManager.classname=org.apache.jetspeed.services.page.impl.CastorXmlPageManagerService
services.XMLPageManager.root=./test/testdata/pages
services.XMLPageManager.ext=.psml
services.XMLPageManager.mapping=/WEB-INF/conf/page-mapping.xml
# scan rate in seconds (every 2 minutes)
services.XMLPageManager.scanRate=120
# cache size - number of PSML pages to cache
services.XMLPageManager.cacheSize=100
services.XMLPageManager.fragment.impl = org.apache.jetspeed.om.page.psml.FragmentImpl
services.XMLPageManager.page.impl = org.apache.jetspeed.om.page.psml.PageImpl
services.XMLPageManager.property.impl = org.apache.jetspeed.om.page.psml.PropertyImpl

services.PageManager.root=./test/testdata/pages
services.PageManager.mapping=/WEB-INF/conf/page-mapping.xml

# -------------------------------------------------------------------
# Page Manager (DB)            
# -------------------------------------------------------------------
services.DBPageManager.classname = org.apache.jetspeed.services.page.impl.DatabasePageManagerService
services.DBPageManager.fragment.impl = org.apache.jetspeed.om.page.psml.FragmentImpl
services.DBPageManager.page.impl = org.apache.jetspeed.om.page.psml.PageImpl
services.DBPageManager.property.impl = org.apache.jetspeed.om.page.psml.PropertyImpl

# -------------------------------------------------------------------
# Profiler
# -------------------------------------------------------------------
# services.profiler.persistence.plugin.name=jetspeed-test

#--------------------------------------------------------------------
# P R E F E R E N C E S  P R O P E R T Y  S E R V I C E
#--------------------------------------------------------------------
# services.PropertyManager.persistence.plugin.name=jetspeed-test

#--------------------------------------------------------------------
# S E C U R I T Y  S E R V I C E
#--------------------------------------------------------------------
# services.UserManager.persistence.plugin.name=jetspeed-test
# services.RoleManager.persistence.plugin.name=jetspeed-test
# services.GroupManager.persistence.plugin.name=jetspeed-test
# services.PermissionManager.persistence.plugin.name=jetspeed-test


