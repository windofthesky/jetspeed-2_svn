<?xml version="1.0"?>
<!--
    Copyright 2004 The Apache Software Foundation
    
    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at
    
    http://www.apache.org/licenses/LICENSE-2.0
    
    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<document>
    <properties>
        <title>Jetspeed 2 Security - Authentication SPI</title>
        <authors>
            <person name="David Le Strat" email="dlestrat@apache.org" />
        </authors>
    </properties>
    <body>
        <section name="Authentication SPI Overview">
            <p>
                The authentication SPI provides the implementation for managing user principals and their credentials and provides the underlying
                <code>UserManager</code>
                coarsed service implementation.
            </p>
            <p>
                The authentication SPI also provides a mechanism for managing users across multiple datastore. The class diagram below describes how the
                authentication SPI relates to the
                <code>UserManager</code>
                .
            </p>
            <p>
                <img src="images/atn-spi-arch-c.gif" border="0" />
            </p>
        </section>
        <section name="Authentication SPI Components">
            <p>The authentication SPI implements the following components:</p>
            <table>
                <tr>
                    <th>Component</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>
                        <code>AuthenticationProviderProxy</code>
                    </td>
                    <td>
                        A proxy to the various
                        <code>AuthenticationProvider</code>
                        implementations. The
                        <code>AuthenticationProviderProxy</code>
                        is responsible of invoking the correct
                        <code>AuthenticationProvider</code>
                        to authenticate or manage a specific user against a specific data store.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>AuthenticationProvider</code>
                    </td>
                    <td>
                        Exposes a specific authentication and user management services implementation.  Jetspeed 2
                        provides 2 implementations: RDBMS and LDAP.  Multiple authentication providers 
                        can be provided through configuration.  For more information,
                        see the <a href="config.html#security-providers_xml">security providers</a> configuration.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>CredentialHandler</code>
                    </td>
                    <td>
                        See <a href="config.html#security-spi-atn_xml">security-spi-atn.xml</a> configuration.
                    </td>
                </tr>
                <tr>
                    <td>
                        <code>UserSecurityHandler</code>
                    </td>
                    <td>
                        See <a href="config.html#security-spi-atn_xml">security-spi-atn.xml</a> configuration.
                    </td>
                </tr>
            </table>
        </section>
    </body>
</document>