GRANT ALL ON CLASS "org.hsqldb.Library" TO PUBLIC
GRANT ALL ON CLASS "java.lang.Math" TO PUBLIC
CREATE USER SA PASSWORD "" ADMIN
CREATE ALIAS DAYNAME FOR "org.hsqldb.Library.dayname"
CREATE ALIAS SPACE FOR "org.hsqldb.Library.space"
CREATE ALIAS SUBSTRING FOR "org.hsqldb.Library.substring"
CREATE ALIAS HEXTORAW FOR "org.hsqldb.Library.hexToRaw"
CREATE ALIAS SQRT FOR "java.lang.Math.sqrt"
CREATE ALIAS ABS FOR "org.hsqldb.Library.abs"
CREATE ALIAS POWER FOR "java.lang.Math.pow"
CREATE ALIAS CHAR FOR "org.hsqldb.Library.character"
CREATE ALIAS CONCAT FOR "org.hsqldb.Library.concat"
CREATE ALIAS PI FOR "org.hsqldb.Library.pi"
CREATE ALIAS RAWTOHEX FOR "org.hsqldb.Library.rawToHex"
CREATE ALIAS SECOND FOR "org.hsqldb.Library.second"
CREATE ALIAS TRUNCATE FOR "org.hsqldb.Library.truncate"
CREATE ALIAS MONTH FOR "org.hsqldb.Library.month"
CREATE ALIAS LOWER FOR "org.hsqldb.Library.lcase"
CREATE ALIAS ATAN2 FOR "java.lang.Math.atan2"
CREATE ALIAS REPEAT FOR "org.hsqldb.Library.repeat"
CREATE ALIAS DAYOFMONTH FOR "org.hsqldb.Library.dayofmonth"
CREATE ALIAS TAN FOR "java.lang.Math.tan"
CREATE ALIAS RADIANS FOR "java.lang.Math.toRadians"
CREATE ALIAS FLOOR FOR "java.lang.Math.floor"
CREATE ALIAS NOW FOR "org.hsqldb.Library.now"
CREATE ALIAS ACOS FOR "java.lang.Math.acos"
CREATE ALIAS DAYOFWEEK FOR "org.hsqldb.Library.dayofweek"
CREATE ALIAS CEILING FOR "java.lang.Math.ceil"
CREATE ALIAS DAYOFYEAR FOR "org.hsqldb.Library.dayofyear"
CREATE ALIAS LCASE FOR "org.hsqldb.Library.lcase"
CREATE ALIAS WEEK FOR "org.hsqldb.Library.week"
CREATE ALIAS SOUNDEX FOR "org.hsqldb.Library.soundex"
CREATE ALIAS ASIN FOR "java.lang.Math.asin"
CREATE ALIAS LOCATE FOR "org.hsqldb.Library.locate"
CREATE ALIAS EXP FOR "java.lang.Math.exp"
CREATE ALIAS MONTHNAME FOR "org.hsqldb.Library.monthname"
CREATE ALIAS YEAR FOR "org.hsqldb.Library.year"
CREATE ALIAS LEFT FOR "org.hsqldb.Library.left"
CREATE ALIAS ROUNDMAGIC FOR "org.hsqldb.Library.roundMagic"
CREATE ALIAS BITOR FOR "org.hsqldb.Library.bitor"
CREATE ALIAS LTRIM FOR "org.hsqldb.Library.ltrim"
CREATE ALIAS COT FOR "org.hsqldb.Library.cot"
CREATE ALIAS COS FOR "java.lang.Math.cos"
CREATE ALIAS MOD FOR "org.hsqldb.Library.mod"
CREATE ALIAS SIGN FOR "org.hsqldb.Library.sign"
CREATE ALIAS DEGREES FOR "java.lang.Math.toDegrees"
CREATE ALIAS LOG FOR "java.lang.Math.log"
CREATE ALIAS SIN FOR "java.lang.Math.sin"
CREATE ALIAS CURTIME FOR "org.hsqldb.Library.curtime"
CREATE ALIAS DIFFERENCE FOR "org.hsqldb.Library.difference"
CREATE ALIAS INSERT FOR "org.hsqldb.Library.insert"
CREATE ALIAS SUBSTR FOR "org.hsqldb.Library.substring"
CREATE ALIAS DATABASE FOR "org.hsqldb.Library.database"
CREATE ALIAS MINUTE FOR "org.hsqldb.Library.minute"
CREATE ALIAS HOUR FOR "org.hsqldb.Library.hour"
CREATE ALIAS IDENTITY FOR "org.hsqldb.Library.identity"
CREATE ALIAS QUARTER FOR "org.hsqldb.Library.quarter"
CREATE ALIAS CURDATE FOR "org.hsqldb.Library.curdate"
CREATE ALIAS BITAND FOR "org.hsqldb.Library.bitand"
CREATE ALIAS USER FOR "org.hsqldb.Library.user"
CREATE ALIAS UCASE FOR "org.hsqldb.Library.ucase"
CREATE ALIAS RTRIM FOR "org.hsqldb.Library.rtrim"
CREATE ALIAS LOG10 FOR "org.hsqldb.Library.log10"
CREATE ALIAS RIGHT FOR "org.hsqldb.Library.right"
CREATE ALIAS ATAN FOR "java.lang.Math.atan"
CREATE ALIAS UPPER FOR "org.hsqldb.Library.ucase"
CREATE ALIAS ASCII FOR "org.hsqldb.Library.ascii"
CREATE ALIAS RAND FOR "java.lang.Math.random"
CREATE ALIAS LENGTH FOR "org.hsqldb.Library.length"
CREATE ALIAS ROUND FOR "org.hsqldb.Library.round"
CREATE ALIAS REPLACE FOR "org.hsqldb.Library.replace"
/*C1*/CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
DROP TABLE SECURITY IF EXISTS
DROP TABLE SKIN IF EXISTS
DROP TABLE CONTROL IF EXISTS
DROP TABLE LAYOUT IF EXISTS
DROP TABLE PSML_ENTRY IF EXISTS
DROP TABLE PSML IF EXISTS
DROP TABLE OJB_HL_SEQ IF EXISTS
DROP TABLE OJB_LOCKENTRY IF EXISTS
DROP TABLE OJB_NRM IF EXISTS
DROP TABLE OJB_DLIST IF EXISTS
DROP TABLE OJB_DLIST_ENTRIES IF EXISTS
DROP TABLE OJB_DSET IF EXISTS
DROP TABLE OJB_DSET_ENTRIES IF EXISTS
DROP TABLE OJB_DMAP IF EXISTS
DROP TABLE OJB_DMAP_ENTRIES IF EXISTS
DROP TABLE CAPABILITY IF EXISTS
DROP TABLE MIMETYPE IF EXISTS
DROP TABLE CLIENT IF EXISTS
DROP TABLE MEDIA_TYPE IF EXISTS
DROP TABLE CLIENT_TO_CAPABILITY IF EXISTS
DROP TABLE CLIENT_TO_MIMETYPE IF EXISTS
DROP TABLE MEDIATYPE_TO_CAPABILITY IF EXISTS
DROP TABLE MEDIATYPE_TO_MIMETYPE IF EXISTS
DROP TABLE DESKTOP IF EXISTS
DROP TABLE DESKTOP_PAGES IF EXISTS
DROP TABLE SUB_PAGES IF EXISTS
DROP TABLE PAGE IF EXISTS
DROP TABLE FRAGMENT IF EXISTS
DROP TABLE PAGE_FRAGMENTS IF EXISTS
DROP TABLE SUB_FRAGMENTS IF EXISTS
DROP TABLE FRAGMENT_PARAMETER IF EXISTS
DROP TABLE FRAGMENT_REF IF EXISTS
DROP TABLE FRAGMENT_REFS IF EXISTS
DROP TABLE PROFILING_RULE IF EXISTS
DROP TABLE RULE_CRITERION IF EXISTS
DROP TABLE PRINCIPAL_RULE_ASSOC IF EXISTS
DROP TABLE PROFILE_DESKTOP_ASSOC IF EXISTS
DROP TABLE PROFILE_PAGE_ASSOC IF EXISTS
DROP TABLE pref_property_value IF EXISTS
DROP TABLE pref_property_key IF EXISTS
DROP TABLE pref_node IF EXISTS
DROP TABLE pref_property_set_def IF EXISTS
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE OJB_HL_SEQ(TABLENAME VARCHAR(175) NOT NULL,FIELDNAME VARCHAR(70) NOT NULL,MAX_KEY INTEGER,GRAB_SIZE INTEGER,VERSION INTEGER,CONSTRAINT SYS_PK_OJB_HL_SEQ PRIMARY KEY(TABLENAME,FIELDNAME))
CREATE TABLE OJB_LOCKENTRY(OID_ VARCHAR(250) NOT NULL,TX_ID VARCHAR(50) NOT NULL,TIMESTAMP_ TIMESTAMP,ISOLATIONLEVEL INTEGER,LOCKTYPE INTEGER,CONSTRAINT SYS_PK_OJB_LOCKENTRY PRIMARY KEY(OID_,TX_ID))
CREATE TABLE OJB_NRM(NAME VARCHAR(250) NOT NULL PRIMARY KEY,OID_ LONGVARBINARY)
CREATE TABLE OJB_DLIST(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DLIST_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DSET(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DSET_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DMAP(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DMAP_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DMAP_ID INTEGER,KEY_OID BINARY,VALUE_OID BINARY)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE MEDIA_TYPE( MEDIATYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, CHARACTER_SET VARCHAR(40), TITLE VARCHAR(80), DESCRIPTION LONGVARCHAR )
CREATE TABLE CLIENT( CLIENT_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR(80), VERSION VARCHAR(40), PREFERRED_MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE MIMETYPE( MIMETYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL )
CREATE TABLE  CAPABILITY( CAPABILITY_ID INTEGER NOT NULL PRIMARY KEY, CAPABILITY VARCHAR(80) NOT NULL )
CREATE TABLE  CLIENT_TO_CAPABILITY( CLIENT_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  CLIENT_TO_MIMETYPE( CLIENT_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_CAPABILITY( MEDIATYPE_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_MIMETYPE( MEDIATYPE_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), DEFAULT_PAGE_ID VARCHAR(80), DEFAULT_THEME VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), UNIQUE(DESKTOP_ID) )
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR(80) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR(80) NOT NULL, SUB_PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
CREATE TABLE PAGE ( PAGE_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), DEFAULT_SKIN VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), ACL VARCHAR(80), UNIQUE(PAGE_ID) )
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR(80) NOT NULL PRIMARY KEY, COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), TITLE VARCHAR(100), TYPE VARCHAR(40), SKIN VARCHAR(80), DECORATOR VARCHAR(80), STATE VARCHAR(40) )
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR(80) NOT NULL, SUB_FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID INTEGER PRIMARY KEY, FRAGMENT_ID INTEGER NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE LONGVARCHAR NOT NULL )
CREATE UNIQUE INDEX IX_FRAGMENT_PARAMETER_1 ON FRAGMENT_PARAMETER (FRAGMENT_ID, PARAMETER_ID)
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL PRIMARY KEY, FRAGMENT_ID VARCHAR(80) NOT NULL, NAME VARCHAR(80) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR(80) PRIMARY KEY, CLASS_NAME VARCHAR(100) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR(80) PRIMARY KEY, RULE_ID VARCHAR(80) NOT NULL, FALLBACK_ORDER INTEGER NOT NULL, REQUEST_TYPE VARCHAR(40) NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE VARCHAR(128), FALLBACK_TYPE  INTEGER default 1 )
CREATE INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION(RULE_ID, FALLBACK_ORDER)
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR(80) NOT NULL, RULE_ID VARCHAR(80) NOT NULL, UNIQUE(PRINCIPAL_NAME) )
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, DESKTOP_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_DESKTOP_1 ON PROFILE_DESKTOP_ASSOC(LOCATOR_HASH, DESKTOP_ID)
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_PAGE_1 ON PROFILE_PAGE_ASSOC(LOCATOR_HASH, PAGE_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE PREF_PROPERTY_SET_DEF ( property_set_def_id INTEGER NOT NULL PRIMARY KEY, property_set_name VARCHAR(100), property_set_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_NODE ( node_id INTEGER NOT NULL PRIMARY KEY, parent_node_id INTEGER NULL, property_set_def_id INTEGER NULL, node_name VARCHAR(100), node_type SMALLINT, full_path VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_VALUE ( property_value_id INTEGER NOT NULL PRIMARY KEY, property_key_id INTEGER, node_id INTEGER, boolean_value BIT, datetime_value TIMESTAMP, long_value INTEGER, double_value DOUBLE, text_value VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_KEY ( property_key_id INTEGER NOT NULL PRIMARY KEY, property_set_def_id INTEGER, property_name VARCHAR(100), property_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK1 FOREIGN KEY (parent_node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_2 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_1 FOREIGN KEY (node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_2 FOREIGN KEY (property_key_id) REFERENCES PREF_PROPERTY_KEY (property_key_id)
ALTER TABLE PREF_PROPERTY_KEY ADD CONSTRAINT PREF_PROPERTY_KEY_FK_1 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(0,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(1,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(2,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(3,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(5,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(6,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(7,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(12,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(16,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(20,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(21,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(22,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(23,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(26,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(27,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(28,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(32,'WML_1_0')
INSERT INTO CAPABILITY VALUES(33,'WML_1_1')
INSERT INTO CAPABILITY VALUES(34,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(35,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(36,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(37,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(38,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(39,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(40,'HTML_XML')
INSERT INTO CAPABILITY VALUES(41,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(42,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(0,'text/html')
INSERT INTO MIMETYPE VALUES(1,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(2,'text/vxml')
INSERT INTO MIMETYPE VALUES(3,'text/xml')
INSERT INTO MIMETYPE VALUES(4,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',0)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',0)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',0)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',0)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',1)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',1)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',1)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',1)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',1)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',1)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',2)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',3)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',0)
INSERT INTO MEDIA_TYPE VALUES(0,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(1,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(2,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(3,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,20)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,22)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(0,0)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C2*/CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
DROP TABLE SECURITY IF EXISTS
DROP TABLE SKIN IF EXISTS
DROP TABLE CONTROL IF EXISTS
DROP TABLE LAYOUT IF EXISTS
DROP TABLE PSML_ENTRY IF EXISTS
DROP TABLE PSML IF EXISTS
DROP TABLE OJB_HL_SEQ IF EXISTS
DROP TABLE OJB_LOCKENTRY IF EXISTS
DROP TABLE OJB_NRM IF EXISTS
DROP TABLE OJB_DLIST IF EXISTS
DROP TABLE OJB_DLIST_ENTRIES IF EXISTS
DROP TABLE OJB_DSET IF EXISTS
DROP TABLE OJB_DSET_ENTRIES IF EXISTS
DROP TABLE OJB_DMAP IF EXISTS
DROP TABLE OJB_DMAP_ENTRIES IF EXISTS
DROP TABLE CAPABILITY IF EXISTS
DROP TABLE MIMETYPE IF EXISTS
DROP TABLE CLIENT IF EXISTS
DROP TABLE MEDIA_TYPE IF EXISTS
DROP TABLE CLIENT_TO_CAPABILITY IF EXISTS
DROP TABLE CLIENT_TO_MIMETYPE IF EXISTS
DROP TABLE MEDIATYPE_TO_CAPABILITY IF EXISTS
DROP TABLE MEDIATYPE_TO_MIMETYPE IF EXISTS
DROP TABLE DESKTOP IF EXISTS
DROP TABLE DESKTOP_PAGES IF EXISTS
DROP TABLE SUB_PAGES IF EXISTS
DROP TABLE PAGE IF EXISTS
DROP TABLE FRAGMENT IF EXISTS
DROP TABLE PAGE_FRAGMENTS IF EXISTS
DROP TABLE SUB_FRAGMENTS IF EXISTS
DROP TABLE FRAGMENT_PARAMETER IF EXISTS
DROP TABLE FRAGMENT_REF IF EXISTS
DROP TABLE FRAGMENT_REFS IF EXISTS
DROP TABLE PROFILING_RULE IF EXISTS
DROP TABLE RULE_CRITERION IF EXISTS
DROP TABLE PRINCIPAL_RULE_ASSOC IF EXISTS
DROP TABLE PROFILE_DESKTOP_ASSOC IF EXISTS
DROP TABLE PROFILE_PAGE_ASSOC IF EXISTS
DROP TABLE pref_property_value IF EXISTS
DROP TABLE pref_property_key IF EXISTS
DROP TABLE pref_node IF EXISTS
DROP TABLE pref_property_set_def IF EXISTS
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE OJB_HL_SEQ(TABLENAME VARCHAR(175) NOT NULL,FIELDNAME VARCHAR(70) NOT NULL,MAX_KEY INTEGER,GRAB_SIZE INTEGER,VERSION INTEGER,CONSTRAINT SYS_PK_OJB_HL_SEQ PRIMARY KEY(TABLENAME,FIELDNAME))
CREATE TABLE OJB_LOCKENTRY(OID_ VARCHAR(250) NOT NULL,TX_ID VARCHAR(50) NOT NULL,TIMESTAMP_ TIMESTAMP,ISOLATIONLEVEL INTEGER,LOCKTYPE INTEGER,CONSTRAINT SYS_PK_OJB_LOCKENTRY PRIMARY KEY(OID_,TX_ID))
CREATE TABLE OJB_NRM(NAME VARCHAR(250) NOT NULL PRIMARY KEY,OID_ LONGVARBINARY)
CREATE TABLE OJB_DLIST(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DLIST_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DSET(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DSET_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DMAP(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DMAP_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DMAP_ID INTEGER,KEY_OID BINARY,VALUE_OID BINARY)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE MEDIA_TYPE( MEDIATYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, CHARACTER_SET VARCHAR(40), TITLE VARCHAR(80), DESCRIPTION LONGVARCHAR )
CREATE TABLE CLIENT( CLIENT_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR(80), VERSION VARCHAR(40), PREFERRED_MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE MIMETYPE( MIMETYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL )
CREATE TABLE  CAPABILITY( CAPABILITY_ID INTEGER NOT NULL PRIMARY KEY, CAPABILITY VARCHAR(80) NOT NULL )
CREATE TABLE  CLIENT_TO_CAPABILITY( CLIENT_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  CLIENT_TO_MIMETYPE( CLIENT_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_CAPABILITY( MEDIATYPE_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_MIMETYPE( MEDIATYPE_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), DEFAULT_PAGE_ID VARCHAR(80), DEFAULT_THEME VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), UNIQUE(DESKTOP_ID) )
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR(80) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR(80) NOT NULL, SUB_PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
CREATE TABLE PAGE ( PAGE_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), DEFAULT_SKIN VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), ACL VARCHAR(80), UNIQUE(PAGE_ID) )
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR(80) NOT NULL PRIMARY KEY, COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), TITLE VARCHAR(100), TYPE VARCHAR(40), SKIN VARCHAR(80), DECORATOR VARCHAR(80), STATE VARCHAR(40) )
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR(80) NOT NULL, SUB_FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID INTEGER PRIMARY KEY, FRAGMENT_ID INTEGER NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE LONGVARCHAR NOT NULL )
CREATE UNIQUE INDEX IX_FRAGMENT_PARAMETER_1 ON FRAGMENT_PARAMETER (FRAGMENT_ID, PARAMETER_ID)
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL PRIMARY KEY, FRAGMENT_ID VARCHAR(80) NOT NULL, NAME VARCHAR(80) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR(80) PRIMARY KEY, CLASS_NAME VARCHAR(100) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR(80) PRIMARY KEY, RULE_ID VARCHAR(80) NOT NULL, FALLBACK_ORDER INTEGER NOT NULL, REQUEST_TYPE VARCHAR(40) NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE VARCHAR(128), FALLBACK_TYPE  INTEGER default 1 )
CREATE INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION(RULE_ID, FALLBACK_ORDER)
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR(80) NOT NULL, RULE_ID VARCHAR(80) NOT NULL, UNIQUE(PRINCIPAL_NAME) )
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, DESKTOP_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_DESKTOP_1 ON PROFILE_DESKTOP_ASSOC(LOCATOR_HASH, DESKTOP_ID)
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_PAGE_1 ON PROFILE_PAGE_ASSOC(LOCATOR_HASH, PAGE_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE PREF_PROPERTY_SET_DEF ( property_set_def_id INTEGER NOT NULL PRIMARY KEY, property_set_name VARCHAR(100), property_set_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_NODE ( node_id INTEGER NOT NULL PRIMARY KEY, parent_node_id INTEGER NULL, property_set_def_id INTEGER NULL, node_name VARCHAR(100), node_type SMALLINT, full_path VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_VALUE ( property_value_id INTEGER NOT NULL PRIMARY KEY, property_key_id INTEGER, node_id INTEGER, boolean_value BIT, datetime_value TIMESTAMP, long_value INTEGER, double_value DOUBLE, text_value VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_KEY ( property_key_id INTEGER NOT NULL PRIMARY KEY, property_set_def_id INTEGER, property_name VARCHAR(100), property_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK1 FOREIGN KEY (parent_node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_2 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_1 FOREIGN KEY (node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_2 FOREIGN KEY (property_key_id) REFERENCES PREF_PROPERTY_KEY (property_key_id)
ALTER TABLE PREF_PROPERTY_KEY ADD CONSTRAINT PREF_PROPERTY_KEY_FK_1 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(0,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(1,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(2,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(3,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(5,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(6,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(7,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(12,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(16,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(20,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(21,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(22,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(23,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(26,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(27,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(28,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(32,'WML_1_0')
INSERT INTO CAPABILITY VALUES(33,'WML_1_1')
INSERT INTO CAPABILITY VALUES(34,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(35,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(36,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(37,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(38,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(39,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(40,'HTML_XML')
INSERT INTO CAPABILITY VALUES(41,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(42,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(0,'text/html')
INSERT INTO MIMETYPE VALUES(1,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(2,'text/vxml')
INSERT INTO MIMETYPE VALUES(3,'text/xml')
INSERT INTO MIMETYPE VALUES(4,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',0)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',0)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',0)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',0)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',1)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',1)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',1)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',1)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',1)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',1)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',2)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',3)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',0)
INSERT INTO MEDIA_TYPE VALUES(0,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(1,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(2,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(3,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,20)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,22)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(0,0)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
DROP TABLE SECURITY IF EXISTS
DROP TABLE SKIN IF EXISTS
DROP TABLE CONTROL IF EXISTS
DROP TABLE LAYOUT IF EXISTS
DROP TABLE PSML_ENTRY IF EXISTS
DROP TABLE PSML IF EXISTS
DROP TABLE OJB_HL_SEQ IF EXISTS
DROP TABLE OJB_LOCKENTRY IF EXISTS
DROP TABLE OJB_NRM IF EXISTS
DROP TABLE OJB_DLIST IF EXISTS
DROP TABLE OJB_DLIST_ENTRIES IF EXISTS
DROP TABLE OJB_DSET IF EXISTS
DROP TABLE OJB_DSET_ENTRIES IF EXISTS
DROP TABLE OJB_DMAP IF EXISTS
DROP TABLE OJB_DMAP_ENTRIES IF EXISTS
DROP TABLE CAPABILITY IF EXISTS
DROP TABLE MIMETYPE IF EXISTS
DROP TABLE CLIENT IF EXISTS
DROP TABLE MEDIA_TYPE IF EXISTS
DROP TABLE CLIENT_TO_CAPABILITY IF EXISTS
DROP TABLE CLIENT_TO_MIMETYPE IF EXISTS
DROP TABLE MEDIATYPE_TO_CAPABILITY IF EXISTS
DROP TABLE MEDIATYPE_TO_MIMETYPE IF EXISTS
DROP TABLE DESKTOP IF EXISTS
DROP TABLE DESKTOP_PAGES IF EXISTS
DROP TABLE SUB_PAGES IF EXISTS
DROP TABLE PAGE IF EXISTS
DROP TABLE FRAGMENT IF EXISTS
DROP TABLE PAGE_FRAGMENTS IF EXISTS
DROP TABLE SUB_FRAGMENTS IF EXISTS
DROP TABLE FRAGMENT_PARAMETER IF EXISTS
DROP TABLE FRAGMENT_REF IF EXISTS
DROP TABLE FRAGMENT_REFS IF EXISTS
DROP TABLE PROFILING_RULE IF EXISTS
DROP TABLE RULE_CRITERION IF EXISTS
DROP TABLE PRINCIPAL_RULE_ASSOC IF EXISTS
DROP TABLE PROFILE_DESKTOP_ASSOC IF EXISTS
DROP TABLE PROFILE_PAGE_ASSOC IF EXISTS
DROP TABLE pref_property_value IF EXISTS
DROP TABLE pref_property_key IF EXISTS
DROP TABLE pref_node IF EXISTS
DROP TABLE pref_property_set_def IF EXISTS
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE OJB_HL_SEQ(TABLENAME VARCHAR(175) NOT NULL,FIELDNAME VARCHAR(70) NOT NULL,MAX_KEY INTEGER,GRAB_SIZE INTEGER,VERSION INTEGER,CONSTRAINT SYS_PK_OJB_HL_SEQ PRIMARY KEY(TABLENAME,FIELDNAME))
CREATE TABLE OJB_LOCKENTRY(OID_ VARCHAR(250) NOT NULL,TX_ID VARCHAR(50) NOT NULL,TIMESTAMP_ TIMESTAMP,ISOLATIONLEVEL INTEGER,LOCKTYPE INTEGER,CONSTRAINT SYS_PK_OJB_LOCKENTRY PRIMARY KEY(OID_,TX_ID))
CREATE TABLE OJB_NRM(NAME VARCHAR(250) NOT NULL PRIMARY KEY,OID_ LONGVARBINARY)
CREATE TABLE OJB_DLIST(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DLIST_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DSET(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DSET_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DMAP(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DMAP_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DMAP_ID INTEGER,KEY_OID BINARY,VALUE_OID BINARY)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE MEDIA_TYPE( MEDIATYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, CHARACTER_SET VARCHAR(40), TITLE VARCHAR(80), DESCRIPTION LONGVARCHAR )
CREATE TABLE CLIENT( CLIENT_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR(80), VERSION VARCHAR(40), PREFERRED_MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE MIMETYPE( MIMETYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL )
CREATE TABLE  CAPABILITY( CAPABILITY_ID INTEGER NOT NULL PRIMARY KEY, CAPABILITY VARCHAR(80) NOT NULL )
CREATE TABLE  CLIENT_TO_CAPABILITY( CLIENT_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  CLIENT_TO_MIMETYPE( CLIENT_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_CAPABILITY( MEDIATYPE_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_MIMETYPE( MEDIATYPE_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), DEFAULT_PAGE_ID VARCHAR(80), DEFAULT_THEME VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), UNIQUE(DESKTOP_ID) )
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR(80) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR(80) NOT NULL, SUB_PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
CREATE TABLE PAGE ( PAGE_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), DEFAULT_SKIN VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), ACL VARCHAR(80), UNIQUE(PAGE_ID) )
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR(80) NOT NULL PRIMARY KEY, COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), TITLE VARCHAR(100), TYPE VARCHAR(40), SKIN VARCHAR(80), DECORATOR VARCHAR(80), STATE VARCHAR(40) )
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR(80) NOT NULL, SUB_FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID INTEGER PRIMARY KEY, FRAGMENT_ID INTEGER NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE LONGVARCHAR NOT NULL )
CREATE UNIQUE INDEX IX_FRAGMENT_PARAMETER_1 ON FRAGMENT_PARAMETER (FRAGMENT_ID, PARAMETER_ID)
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL PRIMARY KEY, FRAGMENT_ID VARCHAR(80) NOT NULL, NAME VARCHAR(80) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR(80) PRIMARY KEY, CLASS_NAME VARCHAR(100) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR(80) PRIMARY KEY, RULE_ID VARCHAR(80) NOT NULL, FALLBACK_ORDER INTEGER NOT NULL, REQUEST_TYPE VARCHAR(40) NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE VARCHAR(128), FALLBACK_TYPE  INTEGER default 1 )
CREATE INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION(RULE_ID, FALLBACK_ORDER)
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR(80) NOT NULL, RULE_ID VARCHAR(80) NOT NULL, UNIQUE(PRINCIPAL_NAME) )
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, DESKTOP_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_DESKTOP_1 ON PROFILE_DESKTOP_ASSOC(LOCATOR_HASH, DESKTOP_ID)
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_PAGE_1 ON PROFILE_PAGE_ASSOC(LOCATOR_HASH, PAGE_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE PREF_PROPERTY_SET_DEF ( property_set_def_id INTEGER NOT NULL PRIMARY KEY, property_set_name VARCHAR(100), property_set_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_NODE ( node_id INTEGER NOT NULL PRIMARY KEY, parent_node_id INTEGER NULL, property_set_def_id INTEGER NULL, node_name VARCHAR(100), node_type SMALLINT, full_path VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_VALUE ( property_value_id INTEGER NOT NULL PRIMARY KEY, property_key_id INTEGER, node_id INTEGER, boolean_value BIT, datetime_value TIMESTAMP, long_value INTEGER, double_value DOUBLE, text_value VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_KEY ( property_key_id INTEGER NOT NULL PRIMARY KEY, property_set_def_id INTEGER, property_name VARCHAR(100), property_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK1 FOREIGN KEY (parent_node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_2 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_1 FOREIGN KEY (node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_2 FOREIGN KEY (property_key_id) REFERENCES PREF_PROPERTY_KEY (property_key_id)
ALTER TABLE PREF_PROPERTY_KEY ADD CONSTRAINT PREF_PROPERTY_KEY_FK_1 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(0,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(1,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(2,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(3,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(5,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(6,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(7,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(12,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(16,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(20,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(21,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(22,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(23,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(26,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(27,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(28,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(32,'WML_1_0')
INSERT INTO CAPABILITY VALUES(33,'WML_1_1')
INSERT INTO CAPABILITY VALUES(34,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(35,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(36,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(37,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(38,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(39,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(40,'HTML_XML')
INSERT INTO CAPABILITY VALUES(41,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(42,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(0,'text/html')
INSERT INTO MIMETYPE VALUES(1,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(2,'text/vxml')
INSERT INTO MIMETYPE VALUES(3,'text/xml')
INSERT INTO MIMETYPE VALUES(4,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',0)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',0)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',0)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',0)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',1)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',1)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',1)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',1)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',1)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',1)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',2)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',3)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',0)
INSERT INTO MEDIA_TYPE VALUES(0,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(1,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(2,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(3,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,20)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,22)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(0,0)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
DROP TABLE SECURITY IF EXISTS
DROP TABLE SKIN IF EXISTS
DROP TABLE CONTROL IF EXISTS
DROP TABLE LAYOUT IF EXISTS
DROP TABLE PSML_ENTRY IF EXISTS
DROP TABLE PSML IF EXISTS
DROP TABLE OJB_HL_SEQ IF EXISTS
DROP TABLE OJB_LOCKENTRY IF EXISTS
DROP TABLE OJB_NRM IF EXISTS
DROP TABLE OJB_DLIST IF EXISTS
DROP TABLE OJB_DLIST_ENTRIES IF EXISTS
DROP TABLE OJB_DSET IF EXISTS
DROP TABLE OJB_DSET_ENTRIES IF EXISTS
DROP TABLE OJB_DMAP IF EXISTS
DROP TABLE OJB_DMAP_ENTRIES IF EXISTS
DROP TABLE CAPABILITY IF EXISTS
DROP TABLE MIMETYPE IF EXISTS
DROP TABLE CLIENT IF EXISTS
DROP TABLE MEDIA_TYPE IF EXISTS
DROP TABLE CLIENT_TO_CAPABILITY IF EXISTS
DROP TABLE CLIENT_TO_MIMETYPE IF EXISTS
DROP TABLE MEDIATYPE_TO_CAPABILITY IF EXISTS
DROP TABLE MEDIATYPE_TO_MIMETYPE IF EXISTS
DROP TABLE DESKTOP IF EXISTS
DROP TABLE DESKTOP_PAGES IF EXISTS
DROP TABLE SUB_PAGES IF EXISTS
DROP TABLE PAGE IF EXISTS
DROP TABLE FRAGMENT IF EXISTS
DROP TABLE PAGE_FRAGMENTS IF EXISTS
DROP TABLE SUB_FRAGMENTS IF EXISTS
DROP TABLE FRAGMENT_PARAMETER IF EXISTS
DROP TABLE FRAGMENT_REF IF EXISTS
DROP TABLE FRAGMENT_REFS IF EXISTS
DROP TABLE PROFILING_RULE IF EXISTS
DROP TABLE RULE_CRITERION IF EXISTS
DROP TABLE PRINCIPAL_RULE_ASSOC IF EXISTS
DROP TABLE PROFILE_DESKTOP_ASSOC IF EXISTS
DROP TABLE PROFILE_PAGE_ASSOC IF EXISTS
DROP TABLE pref_property_value IF EXISTS
DROP TABLE pref_property_key IF EXISTS
DROP TABLE pref_node IF EXISTS
DROP TABLE pref_property_set_def IF EXISTS
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE OJB_HL_SEQ(TABLENAME VARCHAR(175) NOT NULL,FIELDNAME VARCHAR(70) NOT NULL,MAX_KEY INTEGER,GRAB_SIZE INTEGER,VERSION INTEGER,CONSTRAINT SYS_PK_OJB_HL_SEQ PRIMARY KEY(TABLENAME,FIELDNAME))
CREATE TABLE OJB_LOCKENTRY(OID_ VARCHAR(250) NOT NULL,TX_ID VARCHAR(50) NOT NULL,TIMESTAMP_ TIMESTAMP,ISOLATIONLEVEL INTEGER,LOCKTYPE INTEGER,CONSTRAINT SYS_PK_OJB_LOCKENTRY PRIMARY KEY(OID_,TX_ID))
CREATE TABLE OJB_NRM(NAME VARCHAR(250) NOT NULL PRIMARY KEY,OID_ LONGVARBINARY)
CREATE TABLE OJB_DLIST(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DLIST_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DSET(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DSET_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DMAP(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DMAP_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DMAP_ID INTEGER,KEY_OID BINARY,VALUE_OID BINARY)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE MEDIA_TYPE( MEDIATYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, CHARACTER_SET VARCHAR(40), TITLE VARCHAR(80), DESCRIPTION LONGVARCHAR )
CREATE TABLE CLIENT( CLIENT_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR(80), VERSION VARCHAR(40), PREFERRED_MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE MIMETYPE( MIMETYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL )
CREATE TABLE  CAPABILITY( CAPABILITY_ID INTEGER NOT NULL PRIMARY KEY, CAPABILITY VARCHAR(80) NOT NULL )
CREATE TABLE  CLIENT_TO_CAPABILITY( CLIENT_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  CLIENT_TO_MIMETYPE( CLIENT_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_CAPABILITY( MEDIATYPE_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_MIMETYPE( MEDIATYPE_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), DEFAULT_PAGE_ID VARCHAR(80), DEFAULT_THEME VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), UNIQUE(DESKTOP_ID) )
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR(80) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR(80) NOT NULL, SUB_PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
CREATE TABLE PAGE ( PAGE_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), DEFAULT_SKIN VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), ACL VARCHAR(80), UNIQUE(PAGE_ID) )
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR(80) NOT NULL PRIMARY KEY, COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), TITLE VARCHAR(100), TYPE VARCHAR(40), SKIN VARCHAR(80), DECORATOR VARCHAR(80), STATE VARCHAR(40) )
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR(80) NOT NULL, SUB_FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID INTEGER PRIMARY KEY, FRAGMENT_ID INTEGER NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE LONGVARCHAR NOT NULL )
CREATE UNIQUE INDEX IX_FRAGMENT_PARAMETER_1 ON FRAGMENT_PARAMETER (FRAGMENT_ID, PARAMETER_ID)
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL PRIMARY KEY, FRAGMENT_ID VARCHAR(80) NOT NULL, NAME VARCHAR(80) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR(80) PRIMARY KEY, CLASS_NAME VARCHAR(100) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR(80) PRIMARY KEY, RULE_ID VARCHAR(80) NOT NULL, FALLBACK_ORDER INTEGER NOT NULL, REQUEST_TYPE VARCHAR(40) NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE VARCHAR(128), FALLBACK_TYPE  INTEGER default 1 )
CREATE INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION(RULE_ID, FALLBACK_ORDER)
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR(80) NOT NULL, RULE_ID VARCHAR(80) NOT NULL, UNIQUE(PRINCIPAL_NAME) )
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, DESKTOP_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_DESKTOP_1 ON PROFILE_DESKTOP_ASSOC(LOCATOR_HASH, DESKTOP_ID)
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_PAGE_1 ON PROFILE_PAGE_ASSOC(LOCATOR_HASH, PAGE_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE PREF_PROPERTY_SET_DEF ( property_set_def_id INTEGER NOT NULL PRIMARY KEY, property_set_name VARCHAR(100), property_set_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_NODE ( node_id INTEGER NOT NULL PRIMARY KEY, parent_node_id INTEGER NULL, property_set_def_id INTEGER NULL, node_name VARCHAR(100), node_type SMALLINT, full_path VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_VALUE ( property_value_id INTEGER NOT NULL PRIMARY KEY, property_key_id INTEGER, node_id INTEGER, boolean_value BIT, datetime_value TIMESTAMP, long_value INTEGER, double_value DOUBLE, text_value VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_KEY ( property_key_id INTEGER NOT NULL PRIMARY KEY, property_set_def_id INTEGER, property_name VARCHAR(100), property_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK1 FOREIGN KEY (parent_node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_2 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_1 FOREIGN KEY (node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_2 FOREIGN KEY (property_key_id) REFERENCES PREF_PROPERTY_KEY (property_key_id)
ALTER TABLE PREF_PROPERTY_KEY ADD CONSTRAINT PREF_PROPERTY_KEY_FK_1 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(0,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(1,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(2,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(3,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(5,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(6,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(7,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(12,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(16,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(20,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(21,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(22,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(23,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(26,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(27,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(28,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(32,'WML_1_0')
INSERT INTO CAPABILITY VALUES(33,'WML_1_1')
INSERT INTO CAPABILITY VALUES(34,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(35,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(36,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(37,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(38,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(39,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(40,'HTML_XML')
INSERT INTO CAPABILITY VALUES(41,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(42,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(0,'text/html')
INSERT INTO MIMETYPE VALUES(1,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(2,'text/vxml')
INSERT INTO MIMETYPE VALUES(3,'text/xml')
INSERT INTO MIMETYPE VALUES(4,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',0)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',0)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',0)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',0)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',1)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',1)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',1)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',1)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',1)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',1)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',2)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',3)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',0)
INSERT INTO MEDIA_TYPE VALUES(0,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(1,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(2,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(3,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,20)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,22)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(0,0)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
DROP TABLE SECURITY IF EXISTS
DROP TABLE SKIN IF EXISTS
DROP TABLE CONTROL IF EXISTS
DROP TABLE LAYOUT IF EXISTS
DROP TABLE PSML_ENTRY IF EXISTS
DROP TABLE PSML IF EXISTS
DROP TABLE OJB_HL_SEQ IF EXISTS
DROP TABLE OJB_LOCKENTRY IF EXISTS
DROP TABLE OJB_NRM IF EXISTS
DROP TABLE OJB_DLIST IF EXISTS
DROP TABLE OJB_DLIST_ENTRIES IF EXISTS
DROP TABLE OJB_DSET IF EXISTS
DROP TABLE OJB_DSET_ENTRIES IF EXISTS
DROP TABLE OJB_DMAP IF EXISTS
DROP TABLE OJB_DMAP_ENTRIES IF EXISTS
DROP TABLE CAPABILITY IF EXISTS
DROP TABLE MIMETYPE IF EXISTS
DROP TABLE CLIENT IF EXISTS
DROP TABLE MEDIA_TYPE IF EXISTS
DROP TABLE CLIENT_TO_CAPABILITY IF EXISTS
DROP TABLE CLIENT_TO_MIMETYPE IF EXISTS
DROP TABLE MEDIATYPE_TO_CAPABILITY IF EXISTS
DROP TABLE MEDIATYPE_TO_MIMETYPE IF EXISTS
DROP TABLE DESKTOP IF EXISTS
DROP TABLE DESKTOP_PAGES IF EXISTS
DROP TABLE SUB_PAGES IF EXISTS
DROP TABLE PAGE IF EXISTS
DROP TABLE FRAGMENT IF EXISTS
DROP TABLE PAGE_FRAGMENTS IF EXISTS
DROP TABLE SUB_FRAGMENTS IF EXISTS
DROP TABLE FRAGMENT_PARAMETER IF EXISTS
DROP TABLE FRAGMENT_REF IF EXISTS
DROP TABLE FRAGMENT_REFS IF EXISTS
DROP TABLE PROFILING_RULE IF EXISTS
DROP TABLE RULE_CRITERION IF EXISTS
DROP TABLE PRINCIPAL_RULE_ASSOC IF EXISTS
DROP TABLE PROFILE_DESKTOP_ASSOC IF EXISTS
DROP TABLE PROFILE_PAGE_ASSOC IF EXISTS
DROP TABLE pref_property_value IF EXISTS
DROP TABLE pref_property_key IF EXISTS
DROP TABLE pref_node IF EXISTS
DROP TABLE pref_property_set_def IF EXISTS
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE OJB_HL_SEQ(TABLENAME VARCHAR(175) NOT NULL,FIELDNAME VARCHAR(70) NOT NULL,MAX_KEY INTEGER,GRAB_SIZE INTEGER,VERSION INTEGER,CONSTRAINT SYS_PK_OJB_HL_SEQ PRIMARY KEY(TABLENAME,FIELDNAME))
CREATE TABLE OJB_LOCKENTRY(OID_ VARCHAR(250) NOT NULL,TX_ID VARCHAR(50) NOT NULL,TIMESTAMP_ TIMESTAMP,ISOLATIONLEVEL INTEGER,LOCKTYPE INTEGER,CONSTRAINT SYS_PK_OJB_LOCKENTRY PRIMARY KEY(OID_,TX_ID))
CREATE TABLE OJB_NRM(NAME VARCHAR(250) NOT NULL PRIMARY KEY,OID_ LONGVARBINARY)
CREATE TABLE OJB_DLIST(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DLIST_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DSET(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DSET_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DMAP(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DMAP_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DMAP_ID INTEGER,KEY_OID BINARY,VALUE_OID BINARY)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE MEDIA_TYPE( MEDIATYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, CHARACTER_SET VARCHAR(40), TITLE VARCHAR(80), DESCRIPTION LONGVARCHAR )
CREATE TABLE CLIENT( CLIENT_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR(80), VERSION VARCHAR(40), PREFERRED_MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE MIMETYPE( MIMETYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL )
CREATE TABLE  CAPABILITY( CAPABILITY_ID INTEGER NOT NULL PRIMARY KEY, CAPABILITY VARCHAR(80) NOT NULL )
CREATE TABLE  CLIENT_TO_CAPABILITY( CLIENT_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  CLIENT_TO_MIMETYPE( CLIENT_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_CAPABILITY( MEDIATYPE_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_MIMETYPE( MEDIATYPE_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), DEFAULT_PAGE_ID VARCHAR(80), DEFAULT_THEME VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), UNIQUE(DESKTOP_ID) )
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR(80) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR(80) NOT NULL, SUB_PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
CREATE TABLE PAGE ( PAGE_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), DEFAULT_SKIN VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), ACL VARCHAR(80), UNIQUE(PAGE_ID) )
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR(80) NOT NULL PRIMARY KEY, COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), TITLE VARCHAR(100), TYPE VARCHAR(40), SKIN VARCHAR(80), DECORATOR VARCHAR(80), STATE VARCHAR(40) )
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR(80) NOT NULL, SUB_FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID INTEGER PRIMARY KEY, FRAGMENT_ID INTEGER NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE LONGVARCHAR NOT NULL )
CREATE UNIQUE INDEX IX_FRAGMENT_PARAMETER_1 ON FRAGMENT_PARAMETER (FRAGMENT_ID, PARAMETER_ID)
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL PRIMARY KEY, FRAGMENT_ID VARCHAR(80) NOT NULL, NAME VARCHAR(80) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR(80) PRIMARY KEY, CLASS_NAME VARCHAR(100) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR(80) PRIMARY KEY, RULE_ID VARCHAR(80) NOT NULL, FALLBACK_ORDER INTEGER NOT NULL, REQUEST_TYPE VARCHAR(40) NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE VARCHAR(128), FALLBACK_TYPE  INTEGER default 1 )
CREATE INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION(RULE_ID, FALLBACK_ORDER)
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR(80) NOT NULL, RULE_ID VARCHAR(80) NOT NULL, UNIQUE(PRINCIPAL_NAME) )
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, DESKTOP_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_DESKTOP_1 ON PROFILE_DESKTOP_ASSOC(LOCATOR_HASH, DESKTOP_ID)
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_PAGE_1 ON PROFILE_PAGE_ASSOC(LOCATOR_HASH, PAGE_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE PREF_PROPERTY_SET_DEF ( property_set_def_id INTEGER NOT NULL PRIMARY KEY, property_set_name VARCHAR(100), property_set_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_NODE ( node_id INTEGER NOT NULL PRIMARY KEY, parent_node_id INTEGER NULL, property_set_def_id INTEGER NULL, node_name VARCHAR(100), node_type SMALLINT, full_path VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_VALUE ( property_value_id INTEGER NOT NULL PRIMARY KEY, property_key_id INTEGER, node_id INTEGER, boolean_value BIT, datetime_value TIMESTAMP, long_value INTEGER, double_value DOUBLE, text_value VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_KEY ( property_key_id INTEGER NOT NULL PRIMARY KEY, property_set_def_id INTEGER, property_name VARCHAR(100), property_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK1 FOREIGN KEY (parent_node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_2 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_1 FOREIGN KEY (node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_2 FOREIGN KEY (property_key_id) REFERENCES PREF_PROPERTY_KEY (property_key_id)
ALTER TABLE PREF_PROPERTY_KEY ADD CONSTRAINT PREF_PROPERTY_KEY_FK_1 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(0,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(1,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(2,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(3,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(5,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(6,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(7,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(12,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(16,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(20,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(21,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(22,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(23,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(26,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(27,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(28,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(32,'WML_1_0')
INSERT INTO CAPABILITY VALUES(33,'WML_1_1')
INSERT INTO CAPABILITY VALUES(34,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(35,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(36,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(37,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(38,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(39,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(40,'HTML_XML')
INSERT INTO CAPABILITY VALUES(41,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(42,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(0,'text/html')
INSERT INTO MIMETYPE VALUES(1,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(2,'text/vxml')
INSERT INTO MIMETYPE VALUES(3,'text/xml')
INSERT INTO MIMETYPE VALUES(4,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',0)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',0)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',0)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',0)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',1)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',1)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',1)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',1)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',1)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',1)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',2)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',3)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',0)
INSERT INTO MEDIA_TYPE VALUES(0,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(1,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(2,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(3,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,20)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,22)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(0,0)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C3*/CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
DROP TABLE SECURITY IF EXISTS
DROP TABLE SKIN IF EXISTS
DROP TABLE CONTROL IF EXISTS
DROP TABLE LAYOUT IF EXISTS
DROP TABLE PSML_ENTRY IF EXISTS
DROP TABLE PSML IF EXISTS
DROP TABLE OJB_HL_SEQ IF EXISTS
DROP TABLE OJB_LOCKENTRY IF EXISTS
DROP TABLE OJB_NRM IF EXISTS
DROP TABLE OJB_DLIST IF EXISTS
DROP TABLE OJB_DLIST_ENTRIES IF EXISTS
DROP TABLE OJB_DSET IF EXISTS
DROP TABLE OJB_DSET_ENTRIES IF EXISTS
DROP TABLE OJB_DMAP IF EXISTS
DROP TABLE OJB_DMAP_ENTRIES IF EXISTS
DROP TABLE CAPABILITY IF EXISTS
DROP TABLE MIMETYPE IF EXISTS
DROP TABLE CLIENT IF EXISTS
DROP TABLE MEDIA_TYPE IF EXISTS
DROP TABLE CLIENT_TO_CAPABILITY IF EXISTS
DROP TABLE CLIENT_TO_MIMETYPE IF EXISTS
DROP TABLE MEDIATYPE_TO_CAPABILITY IF EXISTS
DROP TABLE MEDIATYPE_TO_MIMETYPE IF EXISTS
DROP TABLE DESKTOP IF EXISTS
DROP TABLE DESKTOP_PAGES IF EXISTS
DROP TABLE SUB_PAGES IF EXISTS
DROP TABLE PAGE IF EXISTS
DROP TABLE FRAGMENT IF EXISTS
DROP TABLE PAGE_FRAGMENTS IF EXISTS
DROP TABLE SUB_FRAGMENTS IF EXISTS
DROP TABLE FRAGMENT_PARAMETER IF EXISTS
DROP TABLE FRAGMENT_REF IF EXISTS
DROP TABLE FRAGMENT_REFS IF EXISTS
DROP TABLE PROFILING_RULE IF EXISTS
DROP TABLE RULE_CRITERION IF EXISTS
DROP TABLE PRINCIPAL_RULE_ASSOC IF EXISTS
DROP TABLE PROFILE_DESKTOP_ASSOC IF EXISTS
DROP TABLE PROFILE_PAGE_ASSOC IF EXISTS
DROP TABLE pref_property_value IF EXISTS
DROP TABLE pref_property_key IF EXISTS
DROP TABLE pref_node IF EXISTS
DROP TABLE pref_property_set_def IF EXISTS
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE OJB_HL_SEQ(TABLENAME VARCHAR(175) NOT NULL,FIELDNAME VARCHAR(70) NOT NULL,MAX_KEY INTEGER,GRAB_SIZE INTEGER,VERSION INTEGER,CONSTRAINT SYS_PK_OJB_HL_SEQ PRIMARY KEY(TABLENAME,FIELDNAME))
CREATE TABLE OJB_LOCKENTRY(OID_ VARCHAR(250) NOT NULL,TX_ID VARCHAR(50) NOT NULL,TIMESTAMP_ TIMESTAMP,ISOLATIONLEVEL INTEGER,LOCKTYPE INTEGER,CONSTRAINT SYS_PK_OJB_LOCKENTRY PRIMARY KEY(OID_,TX_ID))
CREATE TABLE OJB_NRM(NAME VARCHAR(250) NOT NULL PRIMARY KEY,OID_ LONGVARBINARY)
CREATE TABLE OJB_DLIST(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DLIST_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DSET(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DSET_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DMAP(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DMAP_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DMAP_ID INTEGER,KEY_OID BINARY,VALUE_OID BINARY)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE MEDIA_TYPE( MEDIATYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, CHARACTER_SET VARCHAR(40), TITLE VARCHAR(80), DESCRIPTION LONGVARCHAR )
CREATE TABLE CLIENT( CLIENT_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR(80), VERSION VARCHAR(40), PREFERRED_MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE MIMETYPE( MIMETYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL )
CREATE TABLE  CAPABILITY( CAPABILITY_ID INTEGER NOT NULL PRIMARY KEY, CAPABILITY VARCHAR(80) NOT NULL )
CREATE TABLE  CLIENT_TO_CAPABILITY( CLIENT_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  CLIENT_TO_MIMETYPE( CLIENT_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_CAPABILITY( MEDIATYPE_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_MIMETYPE( MEDIATYPE_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), DEFAULT_PAGE_ID VARCHAR(80), DEFAULT_THEME VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), UNIQUE(DESKTOP_ID) )
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR(80) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR(80) NOT NULL, SUB_PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
CREATE TABLE PAGE ( PAGE_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), DEFAULT_SKIN VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), ACL VARCHAR(80), UNIQUE(PAGE_ID) )
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR(80) NOT NULL PRIMARY KEY, COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), TITLE VARCHAR(100), TYPE VARCHAR(40), SKIN VARCHAR(80), DECORATOR VARCHAR(80), STATE VARCHAR(40) )
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR(80) NOT NULL, SUB_FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID INTEGER PRIMARY KEY, FRAGMENT_ID INTEGER NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE LONGVARCHAR NOT NULL )
CREATE UNIQUE INDEX IX_FRAGMENT_PARAMETER_1 ON FRAGMENT_PARAMETER (FRAGMENT_ID, PARAMETER_ID)
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL PRIMARY KEY, FRAGMENT_ID VARCHAR(80) NOT NULL, NAME VARCHAR(80) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR(80) PRIMARY KEY, CLASS_NAME VARCHAR(100) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR(80) PRIMARY KEY, RULE_ID VARCHAR(80) NOT NULL, FALLBACK_ORDER INTEGER NOT NULL, REQUEST_TYPE VARCHAR(40) NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE VARCHAR(128), FALLBACK_TYPE  INTEGER default 1 )
CREATE INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION(RULE_ID, FALLBACK_ORDER)
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR(80) NOT NULL, RULE_ID VARCHAR(80) NOT NULL, UNIQUE(PRINCIPAL_NAME) )
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, DESKTOP_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_DESKTOP_1 ON PROFILE_DESKTOP_ASSOC(LOCATOR_HASH, DESKTOP_ID)
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_PAGE_1 ON PROFILE_PAGE_ASSOC(LOCATOR_HASH, PAGE_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE PREF_PROPERTY_SET_DEF ( property_set_def_id INTEGER NOT NULL PRIMARY KEY, property_set_name VARCHAR(100), property_set_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_NODE ( node_id INTEGER NOT NULL PRIMARY KEY, parent_node_id INTEGER NULL, property_set_def_id INTEGER NULL, node_name VARCHAR(100), node_type SMALLINT, full_path VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_VALUE ( property_value_id INTEGER NOT NULL PRIMARY KEY, property_key_id INTEGER, node_id INTEGER, boolean_value BIT, datetime_value TIMESTAMP, long_value INTEGER, double_value DOUBLE, text_value VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_KEY ( property_key_id INTEGER NOT NULL PRIMARY KEY, property_set_def_id INTEGER, property_name VARCHAR(100), property_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK1 FOREIGN KEY (parent_node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_2 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_1 FOREIGN KEY (node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_2 FOREIGN KEY (property_key_id) REFERENCES PREF_PROPERTY_KEY (property_key_id)
ALTER TABLE PREF_PROPERTY_KEY ADD CONSTRAINT PREF_PROPERTY_KEY_FK_1 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(0,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(1,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(2,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(3,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(5,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(6,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(7,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(12,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(16,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(20,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(21,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(22,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(23,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(26,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(27,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(28,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(32,'WML_1_0')
INSERT INTO CAPABILITY VALUES(33,'WML_1_1')
INSERT INTO CAPABILITY VALUES(34,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(35,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(36,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(37,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(38,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(39,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(40,'HTML_XML')
INSERT INTO CAPABILITY VALUES(41,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(42,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(0,'text/html')
INSERT INTO MIMETYPE VALUES(1,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(2,'text/vxml')
INSERT INTO MIMETYPE VALUES(3,'text/xml')
INSERT INTO MIMETYPE VALUES(4,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',0)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',0)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',0)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',0)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',1)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',1)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',1)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',1)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',1)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',1)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',2)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',3)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',0)
INSERT INTO MEDIA_TYPE VALUES(0,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(1,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(2,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(3,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,20)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,22)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(0,0)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C4*/CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
DROP TABLE SECURITY IF EXISTS
DROP TABLE SKIN IF EXISTS
DROP TABLE CONTROL IF EXISTS
DROP TABLE LAYOUT IF EXISTS
DROP TABLE PSML_ENTRY IF EXISTS
DROP TABLE PSML IF EXISTS
DROP TABLE OJB_HL_SEQ IF EXISTS
DROP TABLE OJB_LOCKENTRY IF EXISTS
DROP TABLE OJB_NRM IF EXISTS
DROP TABLE OJB_DLIST IF EXISTS
DROP TABLE OJB_DLIST_ENTRIES IF EXISTS
DROP TABLE OJB_DSET IF EXISTS
DROP TABLE OJB_DSET_ENTRIES IF EXISTS
DROP TABLE OJB_DMAP IF EXISTS
DROP TABLE OJB_DMAP_ENTRIES IF EXISTS
DROP TABLE CAPABILITY IF EXISTS
DROP TABLE MIMETYPE IF EXISTS
DROP TABLE CLIENT IF EXISTS
DROP TABLE MEDIA_TYPE IF EXISTS
DROP TABLE CLIENT_TO_CAPABILITY IF EXISTS
DROP TABLE CLIENT_TO_MIMETYPE IF EXISTS
DROP TABLE MEDIATYPE_TO_CAPABILITY IF EXISTS
DROP TABLE MEDIATYPE_TO_MIMETYPE IF EXISTS
DROP TABLE DESKTOP IF EXISTS
DROP TABLE DESKTOP_PAGES IF EXISTS
DROP TABLE SUB_PAGES IF EXISTS
DROP TABLE PAGE IF EXISTS
DROP TABLE FRAGMENT IF EXISTS
DROP TABLE PAGE_FRAGMENTS IF EXISTS
DROP TABLE SUB_FRAGMENTS IF EXISTS
DROP TABLE FRAGMENT_PARAMETER IF EXISTS
DROP TABLE FRAGMENT_REF IF EXISTS
DROP TABLE FRAGMENT_REFS IF EXISTS
DROP TABLE PROFILING_RULE IF EXISTS
DROP TABLE RULE_CRITERION IF EXISTS
DROP TABLE PRINCIPAL_RULE_ASSOC IF EXISTS
DROP TABLE PROFILE_DESKTOP_ASSOC IF EXISTS
DROP TABLE PROFILE_PAGE_ASSOC IF EXISTS
DROP TABLE pref_property_value IF EXISTS
DROP TABLE pref_property_key IF EXISTS
DROP TABLE pref_node IF EXISTS
DROP TABLE pref_property_set_def IF EXISTS
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE OJB_HL_SEQ(TABLENAME VARCHAR(175) NOT NULL,FIELDNAME VARCHAR(70) NOT NULL,MAX_KEY INTEGER,GRAB_SIZE INTEGER,VERSION INTEGER,CONSTRAINT SYS_PK_OJB_HL_SEQ PRIMARY KEY(TABLENAME,FIELDNAME))
CREATE TABLE OJB_LOCKENTRY(OID_ VARCHAR(250) NOT NULL,TX_ID VARCHAR(50) NOT NULL,TIMESTAMP_ TIMESTAMP,ISOLATIONLEVEL INTEGER,LOCKTYPE INTEGER,CONSTRAINT SYS_PK_OJB_LOCKENTRY PRIMARY KEY(OID_,TX_ID))
CREATE TABLE OJB_NRM(NAME VARCHAR(250) NOT NULL PRIMARY KEY,OID_ LONGVARBINARY)
CREATE TABLE OJB_DLIST(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DLIST_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DSET(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DSET_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DMAP(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DMAP_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DMAP_ID INTEGER,KEY_OID BINARY,VALUE_OID BINARY)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE MEDIA_TYPE( MEDIATYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, CHARACTER_SET VARCHAR(40), TITLE VARCHAR(80), DESCRIPTION LONGVARCHAR )
CREATE TABLE CLIENT( CLIENT_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR(80), VERSION VARCHAR(40), PREFERRED_MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE MIMETYPE( MIMETYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL )
CREATE TABLE  CAPABILITY( CAPABILITY_ID INTEGER NOT NULL PRIMARY KEY, CAPABILITY VARCHAR(80) NOT NULL )
CREATE TABLE  CLIENT_TO_CAPABILITY( CLIENT_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  CLIENT_TO_MIMETYPE( CLIENT_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_CAPABILITY( MEDIATYPE_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_MIMETYPE( MEDIATYPE_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), DEFAULT_PAGE_ID VARCHAR(80), DEFAULT_THEME VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), UNIQUE(DESKTOP_ID) )
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR(80) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR(80) NOT NULL, SUB_PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
CREATE TABLE PAGE ( PAGE_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), DEFAULT_SKIN VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), ACL VARCHAR(80), UNIQUE(PAGE_ID) )
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR(80) NOT NULL PRIMARY KEY, COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), TITLE VARCHAR(100), TYPE VARCHAR(40), SKIN VARCHAR(80), DECORATOR VARCHAR(80), STATE VARCHAR(40) )
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR(80) NOT NULL, SUB_FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID INTEGER PRIMARY KEY, FRAGMENT_ID INTEGER NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE LONGVARCHAR NOT NULL )
CREATE UNIQUE INDEX IX_FRAGMENT_PARAMETER_1 ON FRAGMENT_PARAMETER (FRAGMENT_ID, PARAMETER_ID)
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL PRIMARY KEY, FRAGMENT_ID VARCHAR(80) NOT NULL, NAME VARCHAR(80) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR(80) PRIMARY KEY, CLASS_NAME VARCHAR(100) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR(80) PRIMARY KEY, RULE_ID VARCHAR(80) NOT NULL, FALLBACK_ORDER INTEGER NOT NULL, REQUEST_TYPE VARCHAR(40) NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE VARCHAR(128), FALLBACK_TYPE  INTEGER default 1 )
CREATE INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION(RULE_ID, FALLBACK_ORDER)
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR(80) NOT NULL, RULE_ID VARCHAR(80) NOT NULL, UNIQUE(PRINCIPAL_NAME) )
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, DESKTOP_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_DESKTOP_1 ON PROFILE_DESKTOP_ASSOC(LOCATOR_HASH, DESKTOP_ID)
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_PAGE_1 ON PROFILE_PAGE_ASSOC(LOCATOR_HASH, PAGE_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE PREF_PROPERTY_SET_DEF ( property_set_def_id INTEGER NOT NULL PRIMARY KEY, property_set_name VARCHAR(100), property_set_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_NODE ( node_id INTEGER NOT NULL PRIMARY KEY, parent_node_id INTEGER NULL, property_set_def_id INTEGER NULL, node_name VARCHAR(100), node_type SMALLINT, full_path VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_VALUE ( property_value_id INTEGER NOT NULL PRIMARY KEY, property_key_id INTEGER, node_id INTEGER, boolean_value BIT, datetime_value TIMESTAMP, long_value INTEGER, double_value DOUBLE, text_value VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_KEY ( property_key_id INTEGER NOT NULL PRIMARY KEY, property_set_def_id INTEGER, property_name VARCHAR(100), property_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK1 FOREIGN KEY (parent_node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_2 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_1 FOREIGN KEY (node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_2 FOREIGN KEY (property_key_id) REFERENCES PREF_PROPERTY_KEY (property_key_id)
ALTER TABLE PREF_PROPERTY_KEY ADD CONSTRAINT PREF_PROPERTY_KEY_FK_1 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(0,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(1,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(2,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(3,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(5,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(6,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(7,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(12,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(16,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(20,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(21,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(22,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(23,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(26,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(27,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(28,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(32,'WML_1_0')
INSERT INTO CAPABILITY VALUES(33,'WML_1_1')
INSERT INTO CAPABILITY VALUES(34,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(35,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(36,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(37,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(38,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(39,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(40,'HTML_XML')
INSERT INTO CAPABILITY VALUES(41,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(42,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(0,'text/html')
INSERT INTO MIMETYPE VALUES(1,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(2,'text/vxml')
INSERT INTO MIMETYPE VALUES(3,'text/xml')
INSERT INTO MIMETYPE VALUES(4,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',0)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',0)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',0)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',0)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',1)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',1)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',1)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',1)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',1)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',1)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',2)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',3)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',0)
INSERT INTO MEDIA_TYPE VALUES(0,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(1,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(2,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(3,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,20)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,22)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(0,0)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
DROP TABLE SECURITY IF EXISTS
DROP TABLE SKIN IF EXISTS
DROP TABLE CONTROL IF EXISTS
DROP TABLE LAYOUT IF EXISTS
DROP TABLE PSML_ENTRY IF EXISTS
DROP TABLE PSML IF EXISTS
DROP TABLE OJB_HL_SEQ IF EXISTS
DROP TABLE OJB_LOCKENTRY IF EXISTS
DROP TABLE OJB_NRM IF EXISTS
DROP TABLE OJB_DLIST IF EXISTS
DROP TABLE OJB_DLIST_ENTRIES IF EXISTS
DROP TABLE OJB_DSET IF EXISTS
DROP TABLE OJB_DSET_ENTRIES IF EXISTS
DROP TABLE OJB_DMAP IF EXISTS
DROP TABLE OJB_DMAP_ENTRIES IF EXISTS
DROP TABLE CAPABILITY IF EXISTS
DROP TABLE MIMETYPE IF EXISTS
DROP TABLE CLIENT IF EXISTS
DROP TABLE MEDIA_TYPE IF EXISTS
DROP TABLE CLIENT_TO_CAPABILITY IF EXISTS
DROP TABLE CLIENT_TO_MIMETYPE IF EXISTS
DROP TABLE MEDIATYPE_TO_CAPABILITY IF EXISTS
DROP TABLE MEDIATYPE_TO_MIMETYPE IF EXISTS
DROP TABLE DESKTOP IF EXISTS
DROP TABLE DESKTOP_PAGES IF EXISTS
DROP TABLE SUB_PAGES IF EXISTS
DROP TABLE PAGE IF EXISTS
DROP TABLE FRAGMENT IF EXISTS
DROP TABLE PAGE_FRAGMENTS IF EXISTS
DROP TABLE SUB_FRAGMENTS IF EXISTS
DROP TABLE FRAGMENT_PARAMETER IF EXISTS
DROP TABLE FRAGMENT_REF IF EXISTS
DROP TABLE FRAGMENT_REFS IF EXISTS
DROP TABLE PROFILING_RULE IF EXISTS
DROP TABLE RULE_CRITERION IF EXISTS
DROP TABLE PRINCIPAL_RULE_ASSOC IF EXISTS
DROP TABLE PROFILE_DESKTOP_ASSOC IF EXISTS
DROP TABLE PROFILE_PAGE_ASSOC IF EXISTS
DROP TABLE pref_property_value IF EXISTS
DROP TABLE pref_property_key IF EXISTS
DROP TABLE pref_node IF EXISTS
DROP TABLE pref_property_set_def IF EXISTS
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE OJB_HL_SEQ(TABLENAME VARCHAR(175) NOT NULL,FIELDNAME VARCHAR(70) NOT NULL,MAX_KEY INTEGER,GRAB_SIZE INTEGER,VERSION INTEGER,CONSTRAINT SYS_PK_OJB_HL_SEQ PRIMARY KEY(TABLENAME,FIELDNAME))
CREATE TABLE OJB_LOCKENTRY(OID_ VARCHAR(250) NOT NULL,TX_ID VARCHAR(50) NOT NULL,TIMESTAMP_ TIMESTAMP,ISOLATIONLEVEL INTEGER,LOCKTYPE INTEGER,CONSTRAINT SYS_PK_OJB_LOCKENTRY PRIMARY KEY(OID_,TX_ID))
CREATE TABLE OJB_NRM(NAME VARCHAR(250) NOT NULL PRIMARY KEY,OID_ LONGVARBINARY)
CREATE TABLE OJB_DLIST(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DLIST_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DSET(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DSET_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DMAP(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DMAP_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DMAP_ID INTEGER,KEY_OID BINARY,VALUE_OID BINARY)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE MEDIA_TYPE( MEDIATYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, CHARACTER_SET VARCHAR(40), TITLE VARCHAR(80), DESCRIPTION LONGVARCHAR )
CREATE TABLE CLIENT( CLIENT_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR(80), VERSION VARCHAR(40), PREFERRED_MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE MIMETYPE( MIMETYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL )
CREATE TABLE  CAPABILITY( CAPABILITY_ID INTEGER NOT NULL PRIMARY KEY, CAPABILITY VARCHAR(80) NOT NULL )
CREATE TABLE  CLIENT_TO_CAPABILITY( CLIENT_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  CLIENT_TO_MIMETYPE( CLIENT_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_CAPABILITY( MEDIATYPE_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_MIMETYPE( MEDIATYPE_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), DEFAULT_PAGE_ID VARCHAR(80), DEFAULT_THEME VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), UNIQUE(DESKTOP_ID) )
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR(80) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR(80) NOT NULL, SUB_PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
CREATE TABLE PAGE ( PAGE_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), DEFAULT_SKIN VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), ACL VARCHAR(80), UNIQUE(PAGE_ID) )
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR(80) NOT NULL PRIMARY KEY, COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), TITLE VARCHAR(100), TYPE VARCHAR(40), SKIN VARCHAR(80), DECORATOR VARCHAR(80), STATE VARCHAR(40) )
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR(80) NOT NULL, SUB_FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID INTEGER PRIMARY KEY, FRAGMENT_ID INTEGER NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE LONGVARCHAR NOT NULL )
CREATE UNIQUE INDEX IX_FRAGMENT_PARAMETER_1 ON FRAGMENT_PARAMETER (FRAGMENT_ID, PARAMETER_ID)
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL PRIMARY KEY, FRAGMENT_ID VARCHAR(80) NOT NULL, NAME VARCHAR(80) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR(80) PRIMARY KEY, CLASS_NAME VARCHAR(100) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR(80) PRIMARY KEY, RULE_ID VARCHAR(80) NOT NULL, FALLBACK_ORDER INTEGER NOT NULL, REQUEST_TYPE VARCHAR(40) NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE VARCHAR(128), FALLBACK_TYPE  INTEGER default 1 )
CREATE INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION(RULE_ID, FALLBACK_ORDER)
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR(80) NOT NULL, RULE_ID VARCHAR(80) NOT NULL, UNIQUE(PRINCIPAL_NAME) )
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, DESKTOP_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_DESKTOP_1 ON PROFILE_DESKTOP_ASSOC(LOCATOR_HASH, DESKTOP_ID)
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_PAGE_1 ON PROFILE_PAGE_ASSOC(LOCATOR_HASH, PAGE_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE PREF_PROPERTY_SET_DEF ( property_set_def_id INTEGER NOT NULL PRIMARY KEY, property_set_name VARCHAR(100), property_set_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_NODE ( node_id INTEGER NOT NULL PRIMARY KEY, parent_node_id INTEGER NULL, property_set_def_id INTEGER NULL, node_name VARCHAR(100), node_type SMALLINT, full_path VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_VALUE ( property_value_id INTEGER NOT NULL PRIMARY KEY, property_key_id INTEGER, node_id INTEGER, boolean_value BIT, datetime_value TIMESTAMP, long_value INTEGER, double_value DOUBLE, text_value VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_KEY ( property_key_id INTEGER NOT NULL PRIMARY KEY, property_set_def_id INTEGER, property_name VARCHAR(100), property_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK1 FOREIGN KEY (parent_node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_2 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_1 FOREIGN KEY (node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_2 FOREIGN KEY (property_key_id) REFERENCES PREF_PROPERTY_KEY (property_key_id)
ALTER TABLE PREF_PROPERTY_KEY ADD CONSTRAINT PREF_PROPERTY_KEY_FK_1 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(0,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(1,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(2,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(3,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(5,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(6,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(7,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(12,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(16,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(20,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(21,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(22,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(23,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(26,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(27,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(28,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(32,'WML_1_0')
INSERT INTO CAPABILITY VALUES(33,'WML_1_1')
INSERT INTO CAPABILITY VALUES(34,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(35,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(36,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(37,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(38,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(39,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(40,'HTML_XML')
INSERT INTO CAPABILITY VALUES(41,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(42,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(0,'text/html')
INSERT INTO MIMETYPE VALUES(1,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(2,'text/vxml')
INSERT INTO MIMETYPE VALUES(3,'text/xml')
INSERT INTO MIMETYPE VALUES(4,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',0)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',0)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',0)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',0)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',1)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',1)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',1)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',1)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',1)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',1)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',2)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',3)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',0)
INSERT INTO MEDIA_TYPE VALUES(0,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(1,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(2,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(3,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,20)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,22)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(0,0)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
DROP TABLE SECURITY IF EXISTS
DROP TABLE SKIN IF EXISTS
DROP TABLE CONTROL IF EXISTS
DROP TABLE LAYOUT IF EXISTS
DROP TABLE PSML_ENTRY IF EXISTS
DROP TABLE PSML IF EXISTS
DROP TABLE OJB_HL_SEQ IF EXISTS
DROP TABLE OJB_LOCKENTRY IF EXISTS
DROP TABLE OJB_NRM IF EXISTS
DROP TABLE OJB_DLIST IF EXISTS
DROP TABLE OJB_DLIST_ENTRIES IF EXISTS
DROP TABLE OJB_DSET IF EXISTS
DROP TABLE OJB_DSET_ENTRIES IF EXISTS
DROP TABLE OJB_DMAP IF EXISTS
DROP TABLE OJB_DMAP_ENTRIES IF EXISTS
DROP TABLE CAPABILITY IF EXISTS
DROP TABLE MIMETYPE IF EXISTS
DROP TABLE CLIENT IF EXISTS
DROP TABLE MEDIA_TYPE IF EXISTS
DROP TABLE CLIENT_TO_CAPABILITY IF EXISTS
DROP TABLE CLIENT_TO_MIMETYPE IF EXISTS
DROP TABLE MEDIATYPE_TO_CAPABILITY IF EXISTS
DROP TABLE MEDIATYPE_TO_MIMETYPE IF EXISTS
DROP TABLE DESKTOP IF EXISTS
DROP TABLE DESKTOP_PAGES IF EXISTS
DROP TABLE SUB_PAGES IF EXISTS
DROP TABLE PAGE IF EXISTS
DROP TABLE FRAGMENT IF EXISTS
DROP TABLE PAGE_FRAGMENTS IF EXISTS
DROP TABLE SUB_FRAGMENTS IF EXISTS
DROP TABLE FRAGMENT_PARAMETER IF EXISTS
DROP TABLE FRAGMENT_REF IF EXISTS
DROP TABLE FRAGMENT_REFS IF EXISTS
DROP TABLE PROFILING_RULE IF EXISTS
DROP TABLE RULE_CRITERION IF EXISTS
DROP TABLE PRINCIPAL_RULE_ASSOC IF EXISTS
DROP TABLE PROFILE_DESKTOP_ASSOC IF EXISTS
DROP TABLE PROFILE_PAGE_ASSOC IF EXISTS
DROP TABLE pref_property_value IF EXISTS
DROP TABLE pref_property_key IF EXISTS
DROP TABLE pref_node IF EXISTS
DROP TABLE pref_property_set_def IF EXISTS
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE OJB_HL_SEQ(TABLENAME VARCHAR(175) NOT NULL,FIELDNAME VARCHAR(70) NOT NULL,MAX_KEY INTEGER,GRAB_SIZE INTEGER,VERSION INTEGER,CONSTRAINT SYS_PK_OJB_HL_SEQ PRIMARY KEY(TABLENAME,FIELDNAME))
CREATE TABLE OJB_LOCKENTRY(OID_ VARCHAR(250) NOT NULL,TX_ID VARCHAR(50) NOT NULL,TIMESTAMP_ TIMESTAMP,ISOLATIONLEVEL INTEGER,LOCKTYPE INTEGER,CONSTRAINT SYS_PK_OJB_LOCKENTRY PRIMARY KEY(OID_,TX_ID))
CREATE TABLE OJB_NRM(NAME VARCHAR(250) NOT NULL PRIMARY KEY,OID_ LONGVARBINARY)
CREATE TABLE OJB_DLIST(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DLIST_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DSET(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DSET_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DMAP(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DMAP_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DMAP_ID INTEGER,KEY_OID BINARY,VALUE_OID BINARY)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE MEDIA_TYPE( MEDIATYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, CHARACTER_SET VARCHAR(40), TITLE VARCHAR(80), DESCRIPTION LONGVARCHAR )
CREATE TABLE CLIENT( CLIENT_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR(80), VERSION VARCHAR(40), PREFERRED_MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE MIMETYPE( MIMETYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL )
CREATE TABLE  CAPABILITY( CAPABILITY_ID INTEGER NOT NULL PRIMARY KEY, CAPABILITY VARCHAR(80) NOT NULL )
CREATE TABLE  CLIENT_TO_CAPABILITY( CLIENT_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  CLIENT_TO_MIMETYPE( CLIENT_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_CAPABILITY( MEDIATYPE_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_MIMETYPE( MEDIATYPE_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), DEFAULT_PAGE_ID VARCHAR(80), DEFAULT_THEME VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), UNIQUE(DESKTOP_ID) )
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR(80) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR(80) NOT NULL, SUB_PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
CREATE TABLE PAGE ( PAGE_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), DEFAULT_SKIN VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), ACL VARCHAR(80), UNIQUE(PAGE_ID) )
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR(80) NOT NULL PRIMARY KEY, COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), TITLE VARCHAR(100), TYPE VARCHAR(40), SKIN VARCHAR(80), DECORATOR VARCHAR(80), STATE VARCHAR(40) )
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR(80) NOT NULL, SUB_FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID INTEGER PRIMARY KEY, FRAGMENT_ID INTEGER NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE LONGVARCHAR NOT NULL )
CREATE UNIQUE INDEX IX_FRAGMENT_PARAMETER_1 ON FRAGMENT_PARAMETER (FRAGMENT_ID, PARAMETER_ID)
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL PRIMARY KEY, FRAGMENT_ID VARCHAR(80) NOT NULL, NAME VARCHAR(80) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR(80) PRIMARY KEY, CLASS_NAME VARCHAR(100) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR(80) PRIMARY KEY, RULE_ID VARCHAR(80) NOT NULL, FALLBACK_ORDER INTEGER NOT NULL, REQUEST_TYPE VARCHAR(40) NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE VARCHAR(128), FALLBACK_TYPE  INTEGER default 1 )
CREATE INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION(RULE_ID, FALLBACK_ORDER)
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR(80) NOT NULL, RULE_ID VARCHAR(80) NOT NULL, UNIQUE(PRINCIPAL_NAME) )
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, DESKTOP_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_DESKTOP_1 ON PROFILE_DESKTOP_ASSOC(LOCATOR_HASH, DESKTOP_ID)
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_PAGE_1 ON PROFILE_PAGE_ASSOC(LOCATOR_HASH, PAGE_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE PREF_PROPERTY_SET_DEF ( property_set_def_id INTEGER NOT NULL PRIMARY KEY, property_set_name VARCHAR(100), property_set_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_NODE ( node_id INTEGER NOT NULL PRIMARY KEY, parent_node_id INTEGER NULL, property_set_def_id INTEGER NULL, node_name VARCHAR(100), node_type SMALLINT, full_path VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_VALUE ( property_value_id INTEGER NOT NULL PRIMARY KEY, property_key_id INTEGER, node_id INTEGER, boolean_value BIT, datetime_value TIMESTAMP, long_value INTEGER, double_value DOUBLE, text_value VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_KEY ( property_key_id INTEGER NOT NULL PRIMARY KEY, property_set_def_id INTEGER, property_name VARCHAR(100), property_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK1 FOREIGN KEY (parent_node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_2 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_1 FOREIGN KEY (node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_2 FOREIGN KEY (property_key_id) REFERENCES PREF_PROPERTY_KEY (property_key_id)
ALTER TABLE PREF_PROPERTY_KEY ADD CONSTRAINT PREF_PROPERTY_KEY_FK_1 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(0,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(1,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(2,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(3,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(5,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(6,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(7,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(12,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(16,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(20,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(21,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(22,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(23,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(26,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(27,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(28,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(32,'WML_1_0')
INSERT INTO CAPABILITY VALUES(33,'WML_1_1')
INSERT INTO CAPABILITY VALUES(34,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(35,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(36,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(37,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(38,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(39,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(40,'HTML_XML')
INSERT INTO CAPABILITY VALUES(41,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(42,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(0,'text/html')
INSERT INTO MIMETYPE VALUES(1,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(2,'text/vxml')
INSERT INTO MIMETYPE VALUES(3,'text/xml')
INSERT INTO MIMETYPE VALUES(4,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',0)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',0)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',0)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',0)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',1)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',1)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',1)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',1)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',1)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',1)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',2)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',3)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',0)
INSERT INTO MEDIA_TYPE VALUES(0,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(1,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(2,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(3,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,20)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,22)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(0,0)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
DROP TABLE SECURITY IF EXISTS
DROP TABLE SKIN IF EXISTS
DROP TABLE CONTROL IF EXISTS
DROP TABLE LAYOUT IF EXISTS
DROP TABLE PSML_ENTRY IF EXISTS
DROP TABLE PSML IF EXISTS
DROP TABLE OJB_HL_SEQ IF EXISTS
DROP TABLE OJB_LOCKENTRY IF EXISTS
DROP TABLE OJB_NRM IF EXISTS
DROP TABLE OJB_DLIST IF EXISTS
DROP TABLE OJB_DLIST_ENTRIES IF EXISTS
DROP TABLE OJB_DSET IF EXISTS
DROP TABLE OJB_DSET_ENTRIES IF EXISTS
DROP TABLE OJB_DMAP IF EXISTS
DROP TABLE OJB_DMAP_ENTRIES IF EXISTS
DROP TABLE CAPABILITY IF EXISTS
DROP TABLE MIMETYPE IF EXISTS
DROP TABLE CLIENT IF EXISTS
DROP TABLE MEDIA_TYPE IF EXISTS
DROP TABLE CLIENT_TO_CAPABILITY IF EXISTS
DROP TABLE CLIENT_TO_MIMETYPE IF EXISTS
DROP TABLE MEDIATYPE_TO_CAPABILITY IF EXISTS
DROP TABLE MEDIATYPE_TO_MIMETYPE IF EXISTS
DROP TABLE DESKTOP IF EXISTS
DROP TABLE DESKTOP_PAGES IF EXISTS
DROP TABLE SUB_PAGES IF EXISTS
DROP TABLE PAGE IF EXISTS
DROP TABLE FRAGMENT IF EXISTS
DROP TABLE PAGE_FRAGMENTS IF EXISTS
DROP TABLE SUB_FRAGMENTS IF EXISTS
DROP TABLE FRAGMENT_PARAMETER IF EXISTS
DROP TABLE FRAGMENT_REF IF EXISTS
DROP TABLE FRAGMENT_REFS IF EXISTS
DROP TABLE PROFILING_RULE IF EXISTS
DROP TABLE RULE_CRITERION IF EXISTS
DROP TABLE PRINCIPAL_RULE_ASSOC IF EXISTS
DROP TABLE PROFILE_DESKTOP_ASSOC IF EXISTS
DROP TABLE PROFILE_PAGE_ASSOC IF EXISTS
DROP TABLE pref_property_value IF EXISTS
DROP TABLE pref_property_key IF EXISTS
DROP TABLE pref_node IF EXISTS
DROP TABLE pref_property_set_def IF EXISTS
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE OJB_HL_SEQ(TABLENAME VARCHAR(175) NOT NULL,FIELDNAME VARCHAR(70) NOT NULL,MAX_KEY INTEGER,GRAB_SIZE INTEGER,VERSION INTEGER,CONSTRAINT SYS_PK_OJB_HL_SEQ PRIMARY KEY(TABLENAME,FIELDNAME))
CREATE TABLE OJB_LOCKENTRY(OID_ VARCHAR(250) NOT NULL,TX_ID VARCHAR(50) NOT NULL,TIMESTAMP_ TIMESTAMP,ISOLATIONLEVEL INTEGER,LOCKTYPE INTEGER,CONSTRAINT SYS_PK_OJB_LOCKENTRY PRIMARY KEY(OID_,TX_ID))
CREATE TABLE OJB_NRM(NAME VARCHAR(250) NOT NULL PRIMARY KEY,OID_ LONGVARBINARY)
CREATE TABLE OJB_DLIST(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DLIST_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DSET(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DSET_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DMAP(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DMAP_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DMAP_ID INTEGER,KEY_OID BINARY,VALUE_OID BINARY)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE MEDIA_TYPE( MEDIATYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, CHARACTER_SET VARCHAR(40), TITLE VARCHAR(80), DESCRIPTION LONGVARCHAR )
CREATE TABLE CLIENT( CLIENT_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR(80), VERSION VARCHAR(40), PREFERRED_MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE MIMETYPE( MIMETYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL )
CREATE TABLE  CAPABILITY( CAPABILITY_ID INTEGER NOT NULL PRIMARY KEY, CAPABILITY VARCHAR(80) NOT NULL )
CREATE TABLE  CLIENT_TO_CAPABILITY( CLIENT_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  CLIENT_TO_MIMETYPE( CLIENT_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_CAPABILITY( MEDIATYPE_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_MIMETYPE( MEDIATYPE_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), DEFAULT_PAGE_ID VARCHAR(80), DEFAULT_THEME VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), UNIQUE(DESKTOP_ID) )
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR(80) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR(80) NOT NULL, SUB_PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
CREATE TABLE PAGE ( PAGE_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), DEFAULT_SKIN VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), ACL VARCHAR(80), UNIQUE(PAGE_ID) )
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR(80) NOT NULL PRIMARY KEY, COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), TITLE VARCHAR(100), TYPE VARCHAR(40), SKIN VARCHAR(80), DECORATOR VARCHAR(80), STATE VARCHAR(40) )
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR(80) NOT NULL, SUB_FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID INTEGER PRIMARY KEY, FRAGMENT_ID INTEGER NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE LONGVARCHAR NOT NULL )
CREATE UNIQUE INDEX IX_FRAGMENT_PARAMETER_1 ON FRAGMENT_PARAMETER (FRAGMENT_ID, PARAMETER_ID)
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL PRIMARY KEY, FRAGMENT_ID VARCHAR(80) NOT NULL, NAME VARCHAR(80) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR(80) PRIMARY KEY, CLASS_NAME VARCHAR(100) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR(80) PRIMARY KEY, RULE_ID VARCHAR(80) NOT NULL, FALLBACK_ORDER INTEGER NOT NULL, REQUEST_TYPE VARCHAR(40) NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE VARCHAR(128), FALLBACK_TYPE  INTEGER default 1 )
CREATE INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION(RULE_ID, FALLBACK_ORDER)
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR(80) NOT NULL, RULE_ID VARCHAR(80) NOT NULL, UNIQUE(PRINCIPAL_NAME) )
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, DESKTOP_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_DESKTOP_1 ON PROFILE_DESKTOP_ASSOC(LOCATOR_HASH, DESKTOP_ID)
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_PAGE_1 ON PROFILE_PAGE_ASSOC(LOCATOR_HASH, PAGE_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE PREF_PROPERTY_SET_DEF ( property_set_def_id INTEGER NOT NULL PRIMARY KEY, property_set_name VARCHAR(100), property_set_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_NODE ( node_id INTEGER NOT NULL PRIMARY KEY, parent_node_id INTEGER NULL, property_set_def_id INTEGER NULL, node_name VARCHAR(100), node_type SMALLINT, full_path VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_VALUE ( property_value_id INTEGER NOT NULL PRIMARY KEY, property_key_id INTEGER, node_id INTEGER, boolean_value BIT, datetime_value TIMESTAMP, long_value INTEGER, double_value DOUBLE, text_value VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_KEY ( property_key_id INTEGER NOT NULL PRIMARY KEY, property_set_def_id INTEGER, property_name VARCHAR(100), property_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK1 FOREIGN KEY (parent_node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_2 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_1 FOREIGN KEY (node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_2 FOREIGN KEY (property_key_id) REFERENCES PREF_PROPERTY_KEY (property_key_id)
ALTER TABLE PREF_PROPERTY_KEY ADD CONSTRAINT PREF_PROPERTY_KEY_FK_1 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(0,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(1,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(2,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(3,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(5,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(6,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(7,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(12,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(16,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(20,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(21,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(22,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(23,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(26,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(27,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(28,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(32,'WML_1_0')
INSERT INTO CAPABILITY VALUES(33,'WML_1_1')
INSERT INTO CAPABILITY VALUES(34,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(35,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(36,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(37,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(38,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(39,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(40,'HTML_XML')
INSERT INTO CAPABILITY VALUES(41,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(42,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(0,'text/html')
INSERT INTO MIMETYPE VALUES(1,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(2,'text/vxml')
INSERT INTO MIMETYPE VALUES(3,'text/xml')
INSERT INTO MIMETYPE VALUES(4,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',0)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',0)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',0)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',0)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',1)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',1)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',1)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',1)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',1)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',1)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',2)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',3)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',0)
INSERT INTO MEDIA_TYPE VALUES(0,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(1,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(2,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(3,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,20)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,22)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(0,0)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C5*/CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
DROP TABLE SECURITY IF EXISTS
DROP TABLE SKIN IF EXISTS
DROP TABLE CONTROL IF EXISTS
DROP TABLE LAYOUT IF EXISTS
DROP TABLE PSML_ENTRY IF EXISTS
DROP TABLE PSML IF EXISTS
DROP TABLE OJB_HL_SEQ IF EXISTS
DROP TABLE OJB_LOCKENTRY IF EXISTS
DROP TABLE OJB_NRM IF EXISTS
DROP TABLE OJB_DLIST IF EXISTS
DROP TABLE OJB_DLIST_ENTRIES IF EXISTS
DROP TABLE OJB_DSET IF EXISTS
DROP TABLE OJB_DSET_ENTRIES IF EXISTS
DROP TABLE OJB_DMAP IF EXISTS
DROP TABLE OJB_DMAP_ENTRIES IF EXISTS
DROP TABLE CAPABILITY IF EXISTS
DROP TABLE MIMETYPE IF EXISTS
DROP TABLE CLIENT IF EXISTS
DROP TABLE MEDIA_TYPE IF EXISTS
DROP TABLE CLIENT_TO_CAPABILITY IF EXISTS
DROP TABLE CLIENT_TO_MIMETYPE IF EXISTS
DROP TABLE MEDIATYPE_TO_CAPABILITY IF EXISTS
DROP TABLE MEDIATYPE_TO_MIMETYPE IF EXISTS
DROP TABLE DESKTOP IF EXISTS
DROP TABLE DESKTOP_PAGES IF EXISTS
DROP TABLE SUB_PAGES IF EXISTS
DROP TABLE PAGE IF EXISTS
DROP TABLE FRAGMENT IF EXISTS
DROP TABLE PAGE_FRAGMENTS IF EXISTS
DROP TABLE SUB_FRAGMENTS IF EXISTS
DROP TABLE FRAGMENT_PARAMETER IF EXISTS
DROP TABLE FRAGMENT_REF IF EXISTS
DROP TABLE FRAGMENT_REFS IF EXISTS
DROP TABLE PROFILING_RULE IF EXISTS
DROP TABLE RULE_CRITERION IF EXISTS
DROP TABLE PRINCIPAL_RULE_ASSOC IF EXISTS
DROP TABLE PROFILE_DESKTOP_ASSOC IF EXISTS
DROP TABLE PROFILE_PAGE_ASSOC IF EXISTS
DROP TABLE pref_property_value IF EXISTS
DROP TABLE pref_property_key IF EXISTS
DROP TABLE pref_node IF EXISTS
DROP TABLE pref_property_set_def IF EXISTS
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE OJB_HL_SEQ(TABLENAME VARCHAR(175) NOT NULL,FIELDNAME VARCHAR(70) NOT NULL,MAX_KEY INTEGER,GRAB_SIZE INTEGER,VERSION INTEGER,CONSTRAINT SYS_PK_OJB_HL_SEQ PRIMARY KEY(TABLENAME,FIELDNAME))
CREATE TABLE OJB_LOCKENTRY(OID_ VARCHAR(250) NOT NULL,TX_ID VARCHAR(50) NOT NULL,TIMESTAMP_ TIMESTAMP,ISOLATIONLEVEL INTEGER,LOCKTYPE INTEGER,CONSTRAINT SYS_PK_OJB_LOCKENTRY PRIMARY KEY(OID_,TX_ID))
CREATE TABLE OJB_NRM(NAME VARCHAR(250) NOT NULL PRIMARY KEY,OID_ LONGVARBINARY)
CREATE TABLE OJB_DLIST(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DLIST_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DSET(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DSET_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DMAP(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DMAP_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DMAP_ID INTEGER,KEY_OID BINARY,VALUE_OID BINARY)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE MEDIA_TYPE( MEDIATYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, CHARACTER_SET VARCHAR(40), TITLE VARCHAR(80), DESCRIPTION LONGVARCHAR )
CREATE TABLE CLIENT( CLIENT_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR(80), VERSION VARCHAR(40), PREFERRED_MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE MIMETYPE( MIMETYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL )
CREATE TABLE  CAPABILITY( CAPABILITY_ID INTEGER NOT NULL PRIMARY KEY, CAPABILITY VARCHAR(80) NOT NULL )
CREATE TABLE  CLIENT_TO_CAPABILITY( CLIENT_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  CLIENT_TO_MIMETYPE( CLIENT_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_CAPABILITY( MEDIATYPE_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_MIMETYPE( MEDIATYPE_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), DEFAULT_PAGE_ID VARCHAR(80), DEFAULT_THEME VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), UNIQUE(DESKTOP_ID) )
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR(80) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR(80) NOT NULL, SUB_PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
CREATE TABLE PAGE ( PAGE_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), DEFAULT_SKIN VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), ACL VARCHAR(80), UNIQUE(PAGE_ID) )
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR(80) NOT NULL PRIMARY KEY, COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), TITLE VARCHAR(100), TYPE VARCHAR(40), SKIN VARCHAR(80), DECORATOR VARCHAR(80), STATE VARCHAR(40) )
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR(80) NOT NULL, SUB_FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID INTEGER PRIMARY KEY, FRAGMENT_ID INTEGER NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE LONGVARCHAR NOT NULL )
CREATE UNIQUE INDEX IX_FRAGMENT_PARAMETER_1 ON FRAGMENT_PARAMETER (FRAGMENT_ID, PARAMETER_ID)
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL PRIMARY KEY, FRAGMENT_ID VARCHAR(80) NOT NULL, NAME VARCHAR(80) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR(80) PRIMARY KEY, CLASS_NAME VARCHAR(100) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR(80) PRIMARY KEY, RULE_ID VARCHAR(80) NOT NULL, FALLBACK_ORDER INTEGER NOT NULL, REQUEST_TYPE VARCHAR(40) NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE VARCHAR(128), FALLBACK_TYPE  INTEGER default 1 )
CREATE INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION(RULE_ID, FALLBACK_ORDER)
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR(80) NOT NULL, RULE_ID VARCHAR(80) NOT NULL, UNIQUE(PRINCIPAL_NAME) )
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, DESKTOP_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_DESKTOP_1 ON PROFILE_DESKTOP_ASSOC(LOCATOR_HASH, DESKTOP_ID)
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_PAGE_1 ON PROFILE_PAGE_ASSOC(LOCATOR_HASH, PAGE_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE PREF_PROPERTY_SET_DEF ( property_set_def_id INTEGER NOT NULL PRIMARY KEY, property_set_name VARCHAR(100), property_set_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_NODE ( node_id INTEGER NOT NULL PRIMARY KEY, parent_node_id INTEGER NULL, property_set_def_id INTEGER NULL, node_name VARCHAR(100), node_type SMALLINT, full_path VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_VALUE ( property_value_id INTEGER NOT NULL PRIMARY KEY, property_key_id INTEGER, node_id INTEGER, boolean_value BIT, datetime_value TIMESTAMP, long_value INTEGER, double_value DOUBLE, text_value VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_KEY ( property_key_id INTEGER NOT NULL PRIMARY KEY, property_set_def_id INTEGER, property_name VARCHAR(100), property_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK1 FOREIGN KEY (parent_node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_2 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_1 FOREIGN KEY (node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_2 FOREIGN KEY (property_key_id) REFERENCES PREF_PROPERTY_KEY (property_key_id)
ALTER TABLE PREF_PROPERTY_KEY ADD CONSTRAINT PREF_PROPERTY_KEY_FK_1 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(0,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(1,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(2,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(3,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(5,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(6,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(7,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(12,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(16,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(20,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(21,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(22,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(23,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(26,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(27,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(28,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(32,'WML_1_0')
INSERT INTO CAPABILITY VALUES(33,'WML_1_1')
INSERT INTO CAPABILITY VALUES(34,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(35,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(36,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(37,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(38,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(39,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(40,'HTML_XML')
INSERT INTO CAPABILITY VALUES(41,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(42,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(0,'text/html')
INSERT INTO MIMETYPE VALUES(1,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(2,'text/vxml')
INSERT INTO MIMETYPE VALUES(3,'text/xml')
INSERT INTO MIMETYPE VALUES(4,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',0)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',0)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',0)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',0)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',1)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',1)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',1)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',1)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',1)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',1)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',2)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',3)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',0)
INSERT INTO MEDIA_TYPE VALUES(0,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(1,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(2,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(3,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,20)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,22)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(0,0)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C6*/CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
DROP TABLE SECURITY IF EXISTS
DROP TABLE SKIN IF EXISTS
DROP TABLE CONTROL IF EXISTS
DROP TABLE LAYOUT IF EXISTS
DROP TABLE PSML_ENTRY IF EXISTS
DROP TABLE PSML IF EXISTS
DROP TABLE OJB_HL_SEQ IF EXISTS
DROP TABLE OJB_LOCKENTRY IF EXISTS
DROP TABLE OJB_NRM IF EXISTS
DROP TABLE OJB_DLIST IF EXISTS
DROP TABLE OJB_DLIST_ENTRIES IF EXISTS
DROP TABLE OJB_DSET IF EXISTS
DROP TABLE OJB_DSET_ENTRIES IF EXISTS
DROP TABLE OJB_DMAP IF EXISTS
DROP TABLE OJB_DMAP_ENTRIES IF EXISTS
DROP TABLE CAPABILITY IF EXISTS
DROP TABLE MIMETYPE IF EXISTS
DROP TABLE CLIENT IF EXISTS
DROP TABLE MEDIA_TYPE IF EXISTS
DROP TABLE CLIENT_TO_CAPABILITY IF EXISTS
DROP TABLE CLIENT_TO_MIMETYPE IF EXISTS
DROP TABLE MEDIATYPE_TO_CAPABILITY IF EXISTS
DROP TABLE MEDIATYPE_TO_MIMETYPE IF EXISTS
DROP TABLE DESKTOP IF EXISTS
DROP TABLE DESKTOP_PAGES IF EXISTS
DROP TABLE SUB_PAGES IF EXISTS
DROP TABLE PAGE IF EXISTS
DROP TABLE FRAGMENT IF EXISTS
DROP TABLE PAGE_FRAGMENTS IF EXISTS
DROP TABLE SUB_FRAGMENTS IF EXISTS
DROP TABLE FRAGMENT_PARAMETER IF EXISTS
DROP TABLE FRAGMENT_REF IF EXISTS
DROP TABLE FRAGMENT_REFS IF EXISTS
DROP TABLE PROFILING_RULE IF EXISTS
DROP TABLE RULE_CRITERION IF EXISTS
DROP TABLE PRINCIPAL_RULE_ASSOC IF EXISTS
DROP TABLE PROFILE_DESKTOP_ASSOC IF EXISTS
DROP TABLE PROFILE_PAGE_ASSOC IF EXISTS
DROP TABLE pref_property_value IF EXISTS
DROP TABLE pref_property_key IF EXISTS
DROP TABLE pref_node IF EXISTS
DROP TABLE pref_property_set_def IF EXISTS
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE OJB_HL_SEQ(TABLENAME VARCHAR(175) NOT NULL,FIELDNAME VARCHAR(70) NOT NULL,MAX_KEY INTEGER,GRAB_SIZE INTEGER,VERSION INTEGER,CONSTRAINT SYS_PK_OJB_HL_SEQ PRIMARY KEY(TABLENAME,FIELDNAME))
CREATE TABLE OJB_LOCKENTRY(OID_ VARCHAR(250) NOT NULL,TX_ID VARCHAR(50) NOT NULL,TIMESTAMP_ TIMESTAMP,ISOLATIONLEVEL INTEGER,LOCKTYPE INTEGER,CONSTRAINT SYS_PK_OJB_LOCKENTRY PRIMARY KEY(OID_,TX_ID))
CREATE TABLE OJB_NRM(NAME VARCHAR(250) NOT NULL PRIMARY KEY,OID_ LONGVARBINARY)
CREATE TABLE OJB_DLIST(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DLIST_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DSET(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DSET_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DMAP(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DMAP_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DMAP_ID INTEGER,KEY_OID BINARY,VALUE_OID BINARY)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE MEDIA_TYPE( MEDIATYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, CHARACTER_SET VARCHAR(40), TITLE VARCHAR(80), DESCRIPTION LONGVARCHAR )
CREATE TABLE CLIENT( CLIENT_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR(80), VERSION VARCHAR(40), PREFERRED_MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE MIMETYPE( MIMETYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL )
CREATE TABLE  CAPABILITY( CAPABILITY_ID INTEGER NOT NULL PRIMARY KEY, CAPABILITY VARCHAR(80) NOT NULL )
CREATE TABLE  CLIENT_TO_CAPABILITY( CLIENT_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  CLIENT_TO_MIMETYPE( CLIENT_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_CAPABILITY( MEDIATYPE_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_MIMETYPE( MEDIATYPE_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), DEFAULT_PAGE_ID VARCHAR(80), DEFAULT_THEME VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), UNIQUE(DESKTOP_ID) )
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR(80) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR(80) NOT NULL, SUB_PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
CREATE TABLE PAGE ( PAGE_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), DEFAULT_SKIN VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), ACL VARCHAR(80), UNIQUE(PAGE_ID) )
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR(80) NOT NULL PRIMARY KEY, COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), TITLE VARCHAR(100), TYPE VARCHAR(40), SKIN VARCHAR(80), DECORATOR VARCHAR(80), STATE VARCHAR(40) )
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR(80) NOT NULL, SUB_FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID INTEGER PRIMARY KEY, FRAGMENT_ID INTEGER NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE LONGVARCHAR NOT NULL )
CREATE UNIQUE INDEX IX_FRAGMENT_PARAMETER_1 ON FRAGMENT_PARAMETER (FRAGMENT_ID, PARAMETER_ID)
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL PRIMARY KEY, FRAGMENT_ID VARCHAR(80) NOT NULL, NAME VARCHAR(80) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR(80) PRIMARY KEY, CLASS_NAME VARCHAR(100) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR(80) PRIMARY KEY, RULE_ID VARCHAR(80) NOT NULL, FALLBACK_ORDER INTEGER NOT NULL, REQUEST_TYPE VARCHAR(40) NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE VARCHAR(128), FALLBACK_TYPE  INTEGER default 1 )
CREATE INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION(RULE_ID, FALLBACK_ORDER)
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR(80) NOT NULL, RULE_ID VARCHAR(80) NOT NULL, UNIQUE(PRINCIPAL_NAME) )
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, DESKTOP_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_DESKTOP_1 ON PROFILE_DESKTOP_ASSOC(LOCATOR_HASH, DESKTOP_ID)
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_PAGE_1 ON PROFILE_PAGE_ASSOC(LOCATOR_HASH, PAGE_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE PREF_PROPERTY_SET_DEF ( property_set_def_id INTEGER NOT NULL PRIMARY KEY, property_set_name VARCHAR(100), property_set_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_NODE ( node_id INTEGER NOT NULL PRIMARY KEY, parent_node_id INTEGER NULL, property_set_def_id INTEGER NULL, node_name VARCHAR(100), node_type SMALLINT, full_path VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_VALUE ( property_value_id INTEGER NOT NULL PRIMARY KEY, property_key_id INTEGER, node_id INTEGER, boolean_value BIT, datetime_value TIMESTAMP, long_value INTEGER, double_value DOUBLE, text_value VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_KEY ( property_key_id INTEGER NOT NULL PRIMARY KEY, property_set_def_id INTEGER, property_name VARCHAR(100), property_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK1 FOREIGN KEY (parent_node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_2 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_1 FOREIGN KEY (node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_2 FOREIGN KEY (property_key_id) REFERENCES PREF_PROPERTY_KEY (property_key_id)
ALTER TABLE PREF_PROPERTY_KEY ADD CONSTRAINT PREF_PROPERTY_KEY_FK_1 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(0,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(1,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(2,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(3,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(5,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(6,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(7,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(12,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(16,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(20,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(21,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(22,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(23,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(26,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(27,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(28,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(32,'WML_1_0')
INSERT INTO CAPABILITY VALUES(33,'WML_1_1')
INSERT INTO CAPABILITY VALUES(34,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(35,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(36,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(37,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(38,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(39,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(40,'HTML_XML')
INSERT INTO CAPABILITY VALUES(41,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(42,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(0,'text/html')
INSERT INTO MIMETYPE VALUES(1,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(2,'text/vxml')
INSERT INTO MIMETYPE VALUES(3,'text/xml')
INSERT INTO MIMETYPE VALUES(4,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',0)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',0)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',0)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',0)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',1)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',1)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',1)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',1)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',1)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',1)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',2)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',3)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',0)
INSERT INTO MEDIA_TYPE VALUES(0,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(1,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(2,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(3,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,20)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,22)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(0,0)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C7*/CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
DROP TABLE SECURITY IF EXISTS
DROP TABLE SKIN IF EXISTS
DROP TABLE CONTROL IF EXISTS
DROP TABLE LAYOUT IF EXISTS
DROP TABLE PSML_ENTRY IF EXISTS
DROP TABLE PSML IF EXISTS
DROP TABLE OJB_HL_SEQ IF EXISTS
DROP TABLE OJB_LOCKENTRY IF EXISTS
DROP TABLE OJB_NRM IF EXISTS
DROP TABLE OJB_DLIST IF EXISTS
DROP TABLE OJB_DLIST_ENTRIES IF EXISTS
DROP TABLE OJB_DSET IF EXISTS
DROP TABLE OJB_DSET_ENTRIES IF EXISTS
DROP TABLE OJB_DMAP IF EXISTS
DROP TABLE OJB_DMAP_ENTRIES IF EXISTS
DROP TABLE CAPABILITY IF EXISTS
DROP TABLE MIMETYPE IF EXISTS
DROP TABLE CLIENT IF EXISTS
DROP TABLE MEDIA_TYPE IF EXISTS
DROP TABLE CLIENT_TO_CAPABILITY IF EXISTS
DROP TABLE CLIENT_TO_MIMETYPE IF EXISTS
DROP TABLE MEDIATYPE_TO_CAPABILITY IF EXISTS
DROP TABLE MEDIATYPE_TO_MIMETYPE IF EXISTS
DROP TABLE DESKTOP IF EXISTS
DROP TABLE DESKTOP_PAGES IF EXISTS
DROP TABLE SUB_PAGES IF EXISTS
DROP TABLE PAGE IF EXISTS
DROP TABLE FRAGMENT IF EXISTS
DROP TABLE PAGE_FRAGMENTS IF EXISTS
DROP TABLE SUB_FRAGMENTS IF EXISTS
DROP TABLE FRAGMENT_PARAMETER IF EXISTS
DROP TABLE FRAGMENT_REF IF EXISTS
DROP TABLE FRAGMENT_REFS IF EXISTS
DROP TABLE PROFILING_RULE IF EXISTS
DROP TABLE RULE_CRITERION IF EXISTS
DROP TABLE PRINCIPAL_RULE_ASSOC IF EXISTS
DROP TABLE PROFILE_DESKTOP_ASSOC IF EXISTS
DROP TABLE PROFILE_PAGE_ASSOC IF EXISTS
DROP TABLE pref_property_value IF EXISTS
DROP TABLE pref_property_key IF EXISTS
DROP TABLE pref_node IF EXISTS
DROP TABLE pref_property_set_def IF EXISTS
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE OJB_HL_SEQ(TABLENAME VARCHAR(175) NOT NULL,FIELDNAME VARCHAR(70) NOT NULL,MAX_KEY INTEGER,GRAB_SIZE INTEGER,VERSION INTEGER,CONSTRAINT SYS_PK_OJB_HL_SEQ PRIMARY KEY(TABLENAME,FIELDNAME))
CREATE TABLE OJB_LOCKENTRY(OID_ VARCHAR(250) NOT NULL,TX_ID VARCHAR(50) NOT NULL,TIMESTAMP_ TIMESTAMP,ISOLATIONLEVEL INTEGER,LOCKTYPE INTEGER,CONSTRAINT SYS_PK_OJB_LOCKENTRY PRIMARY KEY(OID_,TX_ID))
CREATE TABLE OJB_NRM(NAME VARCHAR(250) NOT NULL PRIMARY KEY,OID_ LONGVARBINARY)
CREATE TABLE OJB_DLIST(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DLIST_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DSET(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DSET_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DMAP(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DMAP_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DMAP_ID INTEGER,KEY_OID BINARY,VALUE_OID BINARY)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE MEDIA_TYPE( MEDIATYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, CHARACTER_SET VARCHAR(40), TITLE VARCHAR(80), DESCRIPTION LONGVARCHAR )
CREATE TABLE CLIENT( CLIENT_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR(80), VERSION VARCHAR(40), PREFERRED_MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE MIMETYPE( MIMETYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL )
CREATE TABLE  CAPABILITY( CAPABILITY_ID INTEGER NOT NULL PRIMARY KEY, CAPABILITY VARCHAR(80) NOT NULL )
CREATE TABLE  CLIENT_TO_CAPABILITY( CLIENT_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  CLIENT_TO_MIMETYPE( CLIENT_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_CAPABILITY( MEDIATYPE_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_MIMETYPE( MEDIATYPE_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), DEFAULT_PAGE_ID VARCHAR(80), DEFAULT_THEME VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), UNIQUE(DESKTOP_ID) )
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR(80) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR(80) NOT NULL, SUB_PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
CREATE TABLE PAGE ( PAGE_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), DEFAULT_SKIN VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), ACL VARCHAR(80), UNIQUE(PAGE_ID) )
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR(80) NOT NULL PRIMARY KEY, COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), TITLE VARCHAR(100), TYPE VARCHAR(40), SKIN VARCHAR(80), DECORATOR VARCHAR(80), STATE VARCHAR(40) )
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR(80) NOT NULL, SUB_FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID INTEGER PRIMARY KEY, FRAGMENT_ID INTEGER NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE LONGVARCHAR NOT NULL )
CREATE UNIQUE INDEX IX_FRAGMENT_PARAMETER_1 ON FRAGMENT_PARAMETER (FRAGMENT_ID, PARAMETER_ID)
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL PRIMARY KEY, FRAGMENT_ID VARCHAR(80) NOT NULL, NAME VARCHAR(80) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR(80) PRIMARY KEY, CLASS_NAME VARCHAR(100) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR(80) PRIMARY KEY, RULE_ID VARCHAR(80) NOT NULL, FALLBACK_ORDER INTEGER NOT NULL, REQUEST_TYPE VARCHAR(40) NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE VARCHAR(128), FALLBACK_TYPE  INTEGER default 1 )
CREATE INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION(RULE_ID, FALLBACK_ORDER)
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR(80) NOT NULL, RULE_ID VARCHAR(80) NOT NULL, UNIQUE(PRINCIPAL_NAME) )
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, DESKTOP_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_DESKTOP_1 ON PROFILE_DESKTOP_ASSOC(LOCATOR_HASH, DESKTOP_ID)
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_PAGE_1 ON PROFILE_PAGE_ASSOC(LOCATOR_HASH, PAGE_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE PREF_PROPERTY_SET_DEF ( property_set_def_id INTEGER NOT NULL PRIMARY KEY, property_set_name VARCHAR(100), property_set_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_NODE ( node_id INTEGER NOT NULL PRIMARY KEY, parent_node_id INTEGER NULL, property_set_def_id INTEGER NULL, node_name VARCHAR(100), node_type SMALLINT, full_path VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_VALUE ( property_value_id INTEGER NOT NULL PRIMARY KEY, property_key_id INTEGER, node_id INTEGER, boolean_value BIT, datetime_value TIMESTAMP, long_value INTEGER, double_value DOUBLE, text_value VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_KEY ( property_key_id INTEGER NOT NULL PRIMARY KEY, property_set_def_id INTEGER, property_name VARCHAR(100), property_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK1 FOREIGN KEY (parent_node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_2 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_1 FOREIGN KEY (node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_2 FOREIGN KEY (property_key_id) REFERENCES PREF_PROPERTY_KEY (property_key_id)
ALTER TABLE PREF_PROPERTY_KEY ADD CONSTRAINT PREF_PROPERTY_KEY_FK_1 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(0,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(1,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(2,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(3,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(5,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(6,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(7,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(12,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(16,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(20,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(21,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(22,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(23,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(26,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(27,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(28,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(32,'WML_1_0')
INSERT INTO CAPABILITY VALUES(33,'WML_1_1')
INSERT INTO CAPABILITY VALUES(34,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(35,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(36,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(37,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(38,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(39,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(40,'HTML_XML')
INSERT INTO CAPABILITY VALUES(41,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(42,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(0,'text/html')
INSERT INTO MIMETYPE VALUES(1,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(2,'text/vxml')
INSERT INTO MIMETYPE VALUES(3,'text/xml')
INSERT INTO MIMETYPE VALUES(4,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',0)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',0)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',0)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',0)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',1)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',1)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',1)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',1)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',1)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',1)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',2)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',3)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',0)
INSERT INTO MEDIA_TYPE VALUES(0,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(1,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(2,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(3,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,20)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,0)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,11)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,16)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,39)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,22)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,0)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(0,0)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C8*/CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_CAPABILITY','deprecatedColumn',62,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_MIMETYPE','deprecatedColumn',24,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_MEDIA_TYPE','deprecatedColumn',23,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
DROP TABLE SECURITY IF EXISTS
DROP TABLE SKIN IF EXISTS
DROP TABLE CONTROL IF EXISTS
DROP TABLE LAYOUT IF EXISTS
DROP TABLE PSML_ENTRY IF EXISTS
DROP TABLE PSML IF EXISTS
DROP TABLE OJB_HL_SEQ IF EXISTS
DROP TABLE OJB_LOCKENTRY IF EXISTS
DROP TABLE OJB_NRM IF EXISTS
DROP TABLE OJB_DLIST IF EXISTS
DROP TABLE OJB_DLIST_ENTRIES IF EXISTS
DROP TABLE OJB_DSET IF EXISTS
DROP TABLE OJB_DSET_ENTRIES IF EXISTS
DROP TABLE OJB_DMAP IF EXISTS
DROP TABLE OJB_DMAP_ENTRIES IF EXISTS
DROP TABLE CAPABILITY IF EXISTS
DROP TABLE MIMETYPE IF EXISTS
DROP TABLE CLIENT IF EXISTS
DROP TABLE MEDIA_TYPE IF EXISTS
DROP TABLE CLIENT_TO_CAPABILITY IF EXISTS
DROP TABLE CLIENT_TO_MIMETYPE IF EXISTS
DROP TABLE MEDIATYPE_TO_CAPABILITY IF EXISTS
DROP TABLE MEDIATYPE_TO_MIMETYPE IF EXISTS
DROP TABLE DESKTOP IF EXISTS
DROP TABLE DESKTOP_PAGES IF EXISTS
DROP TABLE SUB_PAGES IF EXISTS
DROP TABLE PAGE IF EXISTS
DROP TABLE FRAGMENT IF EXISTS
DROP TABLE PAGE_FRAGMENTS IF EXISTS
DROP TABLE SUB_FRAGMENTS IF EXISTS
DROP TABLE FRAGMENT_PARAMETER IF EXISTS
DROP TABLE FRAGMENT_REF IF EXISTS
DROP TABLE FRAGMENT_REFS IF EXISTS
DROP TABLE PROFILING_RULE IF EXISTS
DROP TABLE RULE_CRITERION IF EXISTS
DROP TABLE PRINCIPAL_RULE_ASSOC IF EXISTS
DROP TABLE PROFILE_DESKTOP_ASSOC IF EXISTS
DROP TABLE PROFILE_PAGE_ASSOC IF EXISTS
DROP TABLE pref_property_value IF EXISTS
DROP TABLE pref_property_key IF EXISTS
DROP TABLE pref_node IF EXISTS
DROP TABLE pref_property_set_def IF EXISTS
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE OJB_HL_SEQ(TABLENAME VARCHAR(175) NOT NULL,FIELDNAME VARCHAR(70) NOT NULL,MAX_KEY INTEGER,GRAB_SIZE INTEGER,VERSION INTEGER,CONSTRAINT SYS_PK_OJB_HL_SEQ PRIMARY KEY(TABLENAME,FIELDNAME))
CREATE TABLE OJB_LOCKENTRY(OID_ VARCHAR(250) NOT NULL,TX_ID VARCHAR(50) NOT NULL,TIMESTAMP_ TIMESTAMP,ISOLATIONLEVEL INTEGER,LOCKTYPE INTEGER,CONSTRAINT SYS_PK_OJB_LOCKENTRY PRIMARY KEY(OID_,TX_ID))
CREATE TABLE OJB_NRM(NAME VARCHAR(250) NOT NULL PRIMARY KEY,OID_ LONGVARBINARY)
CREATE TABLE OJB_DLIST(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DLIST_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DSET(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DSET_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DMAP(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DMAP_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DMAP_ID INTEGER,KEY_OID BINARY,VALUE_OID BINARY)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE MEDIA_TYPE( MEDIATYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, CHARACTER_SET VARCHAR(40), TITLE VARCHAR(80), DESCRIPTION LONGVARCHAR )
CREATE TABLE CLIENT( CLIENT_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR(80), VERSION VARCHAR(40), PREFERRED_MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE MIMETYPE( MIMETYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL )
CREATE TABLE  CAPABILITY( CAPABILITY_ID INTEGER NOT NULL PRIMARY KEY, CAPABILITY VARCHAR(80) NOT NULL )
CREATE TABLE  CLIENT_TO_CAPABILITY( CLIENT_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  CLIENT_TO_MIMETYPE( CLIENT_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_CAPABILITY( MEDIATYPE_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_MIMETYPE( MEDIATYPE_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), DEFAULT_PAGE_ID VARCHAR(80), DEFAULT_THEME VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), UNIQUE(DESKTOP_ID) )
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR(80) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR(80) NOT NULL, SUB_PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
CREATE TABLE PAGE ( PAGE_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), DEFAULT_SKIN VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), ACL VARCHAR(80), UNIQUE(PAGE_ID) )
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR(80) NOT NULL PRIMARY KEY, COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), TITLE VARCHAR(100), TYPE VARCHAR(40), SKIN VARCHAR(80), DECORATOR VARCHAR(80), STATE VARCHAR(40) )
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR(80) NOT NULL, SUB_FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID INTEGER PRIMARY KEY, FRAGMENT_ID INTEGER NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE LONGVARCHAR NOT NULL )
CREATE UNIQUE INDEX IX_FRAGMENT_PARAMETER_1 ON FRAGMENT_PARAMETER (FRAGMENT_ID, PARAMETER_ID)
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL PRIMARY KEY, FRAGMENT_ID VARCHAR(80) NOT NULL, NAME VARCHAR(80) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR(80) PRIMARY KEY, CLASS_NAME VARCHAR(100) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR(80) PRIMARY KEY, RULE_ID VARCHAR(80) NOT NULL, FALLBACK_ORDER INTEGER NOT NULL, REQUEST_TYPE VARCHAR(40) NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE VARCHAR(128), FALLBACK_TYPE  INTEGER default 1 )
CREATE INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION(RULE_ID, FALLBACK_ORDER)
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR(80) NOT NULL, RULE_ID VARCHAR(80) NOT NULL, UNIQUE(PRINCIPAL_NAME) )
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, DESKTOP_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_DESKTOP_1 ON PROFILE_DESKTOP_ASSOC(LOCATOR_HASH, DESKTOP_ID)
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_PAGE_1 ON PROFILE_PAGE_ASSOC(LOCATOR_HASH, PAGE_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE PREF_PROPERTY_SET_DEF ( property_set_def_id INTEGER NOT NULL PRIMARY KEY, property_set_name VARCHAR(100), property_set_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_NODE ( node_id INTEGER NOT NULL PRIMARY KEY, parent_node_id INTEGER NULL, property_set_def_id INTEGER NULL, node_name VARCHAR(100), node_type SMALLINT, full_path VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_VALUE ( property_value_id INTEGER NOT NULL PRIMARY KEY, property_key_id INTEGER, node_id INTEGER, boolean_value BIT, datetime_value TIMESTAMP, long_value INTEGER, double_value DOUBLE, text_value VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_KEY ( property_key_id INTEGER NOT NULL PRIMARY KEY, property_set_def_id INTEGER, property_name VARCHAR(100), property_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK1 FOREIGN KEY (parent_node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_2 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_1 FOREIGN KEY (node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_2 FOREIGN KEY (property_key_id) REFERENCES PREF_PROPERTY_KEY (property_key_id)
ALTER TABLE PREF_PROPERTY_KEY ADD CONSTRAINT PREF_PROPERTY_KEY_FK_1 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(1,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(2,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(3,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(5,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(6,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(7,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(12,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(16,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(20,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(21,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(22,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(23,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(26,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(27,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(28,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(32,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(33,'WML_1_0')
INSERT INTO CAPABILITY VALUES(34,'WML_1_1')
INSERT INTO CAPABILITY VALUES(35,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(36,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(37,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(38,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(39,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(40,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(41,'HTML_XML')
INSERT INTO CAPABILITY VALUES(42,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(43,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(1,'text/html')
INSERT INTO MIMETYPE VALUES(2,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(3,'text/vxml')
INSERT INTO MIMETYPE VALUES(4,'text/xml')
INSERT INTO MIMETYPE VALUES(5,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',1)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',1)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',1)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',1)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',2)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',2)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',2)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',2)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',2)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',3)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',3)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',4)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',1)
INSERT INTO MEDIA_TYPE VALUES(1,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(2,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(3,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(4,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,12)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,31)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,12)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,31)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,5)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,5)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(4,4)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C9*/CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
DROP TABLE SECURITY IF EXISTS
DROP TABLE SKIN IF EXISTS
DROP TABLE CONTROL IF EXISTS
DROP TABLE LAYOUT IF EXISTS
DROP TABLE PSML_ENTRY IF EXISTS
DROP TABLE PSML IF EXISTS
DROP TABLE OJB_HL_SEQ IF EXISTS
DROP TABLE OJB_LOCKENTRY IF EXISTS
DROP TABLE OJB_NRM IF EXISTS
DROP TABLE OJB_DLIST IF EXISTS
DROP TABLE OJB_DLIST_ENTRIES IF EXISTS
DROP TABLE OJB_DSET IF EXISTS
DROP TABLE OJB_DSET_ENTRIES IF EXISTS
DROP TABLE OJB_DMAP IF EXISTS
DROP TABLE OJB_DMAP_ENTRIES IF EXISTS
DROP TABLE CAPABILITY IF EXISTS
DROP TABLE MIMETYPE IF EXISTS
DROP TABLE CLIENT IF EXISTS
DROP TABLE MEDIA_TYPE IF EXISTS
DROP TABLE CLIENT_TO_CAPABILITY IF EXISTS
DROP TABLE CLIENT_TO_MIMETYPE IF EXISTS
DROP TABLE MEDIATYPE_TO_CAPABILITY IF EXISTS
DROP TABLE MEDIATYPE_TO_MIMETYPE IF EXISTS
DROP TABLE DESKTOP IF EXISTS
DROP TABLE DESKTOP_PAGES IF EXISTS
DROP TABLE SUB_PAGES IF EXISTS
DROP TABLE PAGE IF EXISTS
DROP TABLE FRAGMENT IF EXISTS
DROP TABLE PAGE_FRAGMENTS IF EXISTS
DROP TABLE SUB_FRAGMENTS IF EXISTS
DROP TABLE FRAGMENT_PARAMETER IF EXISTS
DROP TABLE FRAGMENT_REF IF EXISTS
DROP TABLE FRAGMENT_REFS IF EXISTS
DROP TABLE PROFILING_RULE IF EXISTS
DROP TABLE RULE_CRITERION IF EXISTS
DROP TABLE PRINCIPAL_RULE_ASSOC IF EXISTS
DROP TABLE PROFILE_DESKTOP_ASSOC IF EXISTS
DROP TABLE PROFILE_PAGE_ASSOC IF EXISTS
DROP TABLE pref_property_value IF EXISTS
DROP TABLE pref_property_key IF EXISTS
DROP TABLE pref_node IF EXISTS
DROP TABLE pref_property_set_def IF EXISTS
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE OJB_HL_SEQ(TABLENAME VARCHAR(175) NOT NULL,FIELDNAME VARCHAR(70) NOT NULL,MAX_KEY INTEGER,GRAB_SIZE INTEGER,VERSION INTEGER,CONSTRAINT SYS_PK_OJB_HL_SEQ PRIMARY KEY(TABLENAME,FIELDNAME))
CREATE TABLE OJB_LOCKENTRY(OID_ VARCHAR(250) NOT NULL,TX_ID VARCHAR(50) NOT NULL,TIMESTAMP_ TIMESTAMP,ISOLATIONLEVEL INTEGER,LOCKTYPE INTEGER,CONSTRAINT SYS_PK_OJB_LOCKENTRY PRIMARY KEY(OID_,TX_ID))
CREATE TABLE OJB_NRM(NAME VARCHAR(250) NOT NULL PRIMARY KEY,OID_ LONGVARBINARY)
CREATE TABLE OJB_DLIST(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DLIST_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DSET(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DSET_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DMAP(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DMAP_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DMAP_ID INTEGER,KEY_OID BINARY,VALUE_OID BINARY)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE MEDIA_TYPE( MEDIATYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, CHARACTER_SET VARCHAR(40), TITLE VARCHAR(80), DESCRIPTION LONGVARCHAR )
CREATE TABLE CLIENT( CLIENT_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR(80), VERSION VARCHAR(40), PREFERRED_MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE MIMETYPE( MIMETYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL )
CREATE TABLE  CAPABILITY( CAPABILITY_ID INTEGER NOT NULL PRIMARY KEY, CAPABILITY VARCHAR(80) NOT NULL )
CREATE TABLE  CLIENT_TO_CAPABILITY( CLIENT_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  CLIENT_TO_MIMETYPE( CLIENT_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_CAPABILITY( MEDIATYPE_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_MIMETYPE( MEDIATYPE_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), DEFAULT_PAGE_ID VARCHAR(80), DEFAULT_THEME VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), UNIQUE(DESKTOP_ID) )
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR(80) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR(80) NOT NULL, SUB_PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
CREATE TABLE PAGE ( PAGE_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), DEFAULT_SKIN VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), ACL VARCHAR(80), UNIQUE(PAGE_ID) )
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR(80) NOT NULL PRIMARY KEY, COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), TITLE VARCHAR(100), TYPE VARCHAR(40), SKIN VARCHAR(80), DECORATOR VARCHAR(80), STATE VARCHAR(40) )
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR(80) NOT NULL, SUB_FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID INTEGER PRIMARY KEY, FRAGMENT_ID INTEGER NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE LONGVARCHAR NOT NULL )
CREATE UNIQUE INDEX IX_FRAGMENT_PARAMETER_1 ON FRAGMENT_PARAMETER (FRAGMENT_ID, PARAMETER_ID)
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL PRIMARY KEY, FRAGMENT_ID VARCHAR(80) NOT NULL, NAME VARCHAR(80) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR(80) PRIMARY KEY, CLASS_NAME VARCHAR(100) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR(80) PRIMARY KEY, RULE_ID VARCHAR(80) NOT NULL, FALLBACK_ORDER INTEGER NOT NULL, REQUEST_TYPE VARCHAR(40) NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE VARCHAR(128), FALLBACK_TYPE  INTEGER default 1 )
CREATE INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION(RULE_ID, FALLBACK_ORDER)
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR(80) NOT NULL, RULE_ID VARCHAR(80) NOT NULL, UNIQUE(PRINCIPAL_NAME) )
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, DESKTOP_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_DESKTOP_1 ON PROFILE_DESKTOP_ASSOC(LOCATOR_HASH, DESKTOP_ID)
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_PAGE_1 ON PROFILE_PAGE_ASSOC(LOCATOR_HASH, PAGE_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE PREF_PROPERTY_SET_DEF ( property_set_def_id INTEGER NOT NULL PRIMARY KEY, property_set_name VARCHAR(100), property_set_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_NODE ( node_id INTEGER NOT NULL PRIMARY KEY, parent_node_id INTEGER NULL, property_set_def_id INTEGER NULL, node_name VARCHAR(100), node_type SMALLINT, full_path VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_VALUE ( property_value_id INTEGER NOT NULL PRIMARY KEY, property_key_id INTEGER, node_id INTEGER, boolean_value BIT, datetime_value TIMESTAMP, long_value INTEGER, double_value DOUBLE, text_value VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_KEY ( property_key_id INTEGER NOT NULL PRIMARY KEY, property_set_def_id INTEGER, property_name VARCHAR(100), property_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK1 FOREIGN KEY (parent_node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_2 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_1 FOREIGN KEY (node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_2 FOREIGN KEY (property_key_id) REFERENCES PREF_PROPERTY_KEY (property_key_id)
ALTER TABLE PREF_PROPERTY_KEY ADD CONSTRAINT PREF_PROPERTY_KEY_FK_1 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(1,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(2,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(3,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(5,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(6,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(7,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(12,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(16,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(20,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(21,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(22,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(23,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(26,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(27,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(28,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(32,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(33,'WML_1_0')
INSERT INTO CAPABILITY VALUES(34,'WML_1_1')
INSERT INTO CAPABILITY VALUES(35,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(36,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(37,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(38,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(39,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(40,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(41,'HTML_XML')
INSERT INTO CAPABILITY VALUES(42,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(43,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(1,'text/html')
INSERT INTO MIMETYPE VALUES(2,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(3,'text/vxml')
INSERT INTO MIMETYPE VALUES(4,'text/xml')
INSERT INTO MIMETYPE VALUES(5,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',1)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',1)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',1)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',1)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',2)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',2)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',2)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',2)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',2)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',3)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',3)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',4)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',1)
INSERT INTO MEDIA_TYPE VALUES(1,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(2,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(3,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(4,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,12)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,31)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,12)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,31)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,5)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,5)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(4,4)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
DROP TABLE SECURITY IF EXISTS
DROP TABLE SKIN IF EXISTS
DROP TABLE CONTROL IF EXISTS
DROP TABLE LAYOUT IF EXISTS
DROP TABLE PSML_ENTRY IF EXISTS
DROP TABLE PSML IF EXISTS
DROP TABLE OJB_HL_SEQ IF EXISTS
DROP TABLE OJB_LOCKENTRY IF EXISTS
DROP TABLE OJB_NRM IF EXISTS
DROP TABLE OJB_DLIST IF EXISTS
DROP TABLE OJB_DLIST_ENTRIES IF EXISTS
DROP TABLE OJB_DSET IF EXISTS
DROP TABLE OJB_DSET_ENTRIES IF EXISTS
DROP TABLE OJB_DMAP IF EXISTS
DROP TABLE OJB_DMAP_ENTRIES IF EXISTS
DROP TABLE CAPABILITY IF EXISTS
DROP TABLE MIMETYPE IF EXISTS
DROP TABLE CLIENT IF EXISTS
DROP TABLE MEDIA_TYPE IF EXISTS
DROP TABLE CLIENT_TO_CAPABILITY IF EXISTS
DROP TABLE CLIENT_TO_MIMETYPE IF EXISTS
DROP TABLE MEDIATYPE_TO_CAPABILITY IF EXISTS
DROP TABLE MEDIATYPE_TO_MIMETYPE IF EXISTS
DROP TABLE DESKTOP IF EXISTS
DROP TABLE DESKTOP_PAGES IF EXISTS
DROP TABLE SUB_PAGES IF EXISTS
DROP TABLE PAGE IF EXISTS
DROP TABLE FRAGMENT IF EXISTS
DROP TABLE PAGE_FRAGMENTS IF EXISTS
DROP TABLE SUB_FRAGMENTS IF EXISTS
DROP TABLE FRAGMENT_PARAMETER IF EXISTS
DROP TABLE FRAGMENT_REF IF EXISTS
DROP TABLE FRAGMENT_REFS IF EXISTS
DROP TABLE PROFILING_RULE IF EXISTS
DROP TABLE RULE_CRITERION IF EXISTS
DROP TABLE PRINCIPAL_RULE_ASSOC IF EXISTS
DROP TABLE PROFILE_DESKTOP_ASSOC IF EXISTS
DROP TABLE PROFILE_PAGE_ASSOC IF EXISTS
DROP TABLE pref_property_value IF EXISTS
DROP TABLE pref_property_key IF EXISTS
DROP TABLE pref_node IF EXISTS
DROP TABLE pref_property_set_def IF EXISTS
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE OJB_HL_SEQ(TABLENAME VARCHAR(175) NOT NULL,FIELDNAME VARCHAR(70) NOT NULL,MAX_KEY INTEGER,GRAB_SIZE INTEGER,VERSION INTEGER,CONSTRAINT SYS_PK_OJB_HL_SEQ PRIMARY KEY(TABLENAME,FIELDNAME))
CREATE TABLE OJB_LOCKENTRY(OID_ VARCHAR(250) NOT NULL,TX_ID VARCHAR(50) NOT NULL,TIMESTAMP_ TIMESTAMP,ISOLATIONLEVEL INTEGER,LOCKTYPE INTEGER,CONSTRAINT SYS_PK_OJB_LOCKENTRY PRIMARY KEY(OID_,TX_ID))
CREATE TABLE OJB_NRM(NAME VARCHAR(250) NOT NULL PRIMARY KEY,OID_ LONGVARBINARY)
CREATE TABLE OJB_DLIST(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DLIST_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DSET(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DSET_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DMAP(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DMAP_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DMAP_ID INTEGER,KEY_OID BINARY,VALUE_OID BINARY)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE MEDIA_TYPE( MEDIATYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, CHARACTER_SET VARCHAR(40), TITLE VARCHAR(80), DESCRIPTION LONGVARCHAR )
CREATE TABLE CLIENT( CLIENT_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR(80), VERSION VARCHAR(40), PREFERRED_MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE MIMETYPE( MIMETYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL )
CREATE TABLE  CAPABILITY( CAPABILITY_ID INTEGER NOT NULL PRIMARY KEY, CAPABILITY VARCHAR(80) NOT NULL )
CREATE TABLE  CLIENT_TO_CAPABILITY( CLIENT_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  CLIENT_TO_MIMETYPE( CLIENT_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_CAPABILITY( MEDIATYPE_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_MIMETYPE( MEDIATYPE_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), DEFAULT_PAGE_ID VARCHAR(80), DEFAULT_THEME VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), UNIQUE(DESKTOP_ID) )
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR(80) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR(80) NOT NULL, SUB_PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
CREATE TABLE PAGE ( PAGE_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), DEFAULT_SKIN VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), ACL VARCHAR(80), UNIQUE(PAGE_ID) )
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR(80) NOT NULL PRIMARY KEY, COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), TITLE VARCHAR(100), TYPE VARCHAR(40), SKIN VARCHAR(80), DECORATOR VARCHAR(80), STATE VARCHAR(40) )
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR(80) NOT NULL, SUB_FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID INTEGER PRIMARY KEY, FRAGMENT_ID INTEGER NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE LONGVARCHAR NOT NULL )
CREATE UNIQUE INDEX IX_FRAGMENT_PARAMETER_1 ON FRAGMENT_PARAMETER (FRAGMENT_ID, PARAMETER_ID)
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL PRIMARY KEY, FRAGMENT_ID VARCHAR(80) NOT NULL, NAME VARCHAR(80) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR(80) PRIMARY KEY, CLASS_NAME VARCHAR(100) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR(80) PRIMARY KEY, RULE_ID VARCHAR(80) NOT NULL, FALLBACK_ORDER INTEGER NOT NULL, REQUEST_TYPE VARCHAR(40) NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE VARCHAR(128), FALLBACK_TYPE  INTEGER default 1 )
CREATE INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION(RULE_ID, FALLBACK_ORDER)
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR(80) NOT NULL, RULE_ID VARCHAR(80) NOT NULL, UNIQUE(PRINCIPAL_NAME) )
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, DESKTOP_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_DESKTOP_1 ON PROFILE_DESKTOP_ASSOC(LOCATOR_HASH, DESKTOP_ID)
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_PAGE_1 ON PROFILE_PAGE_ASSOC(LOCATOR_HASH, PAGE_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE PREF_PROPERTY_SET_DEF ( property_set_def_id INTEGER NOT NULL PRIMARY KEY, property_set_name VARCHAR(100), property_set_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_NODE ( node_id INTEGER NOT NULL PRIMARY KEY, parent_node_id INTEGER NULL, property_set_def_id INTEGER NULL, node_name VARCHAR(100), node_type SMALLINT, full_path VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_VALUE ( property_value_id INTEGER NOT NULL PRIMARY KEY, property_key_id INTEGER, node_id INTEGER, boolean_value BIT, datetime_value TIMESTAMP, long_value INTEGER, double_value DOUBLE, text_value VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_KEY ( property_key_id INTEGER NOT NULL PRIMARY KEY, property_set_def_id INTEGER, property_name VARCHAR(100), property_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK1 FOREIGN KEY (parent_node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_2 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_1 FOREIGN KEY (node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_2 FOREIGN KEY (property_key_id) REFERENCES PREF_PROPERTY_KEY (property_key_id)
ALTER TABLE PREF_PROPERTY_KEY ADD CONSTRAINT PREF_PROPERTY_KEY_FK_1 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(1,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(2,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(3,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(5,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(6,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(7,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(12,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(16,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(20,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(21,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(22,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(23,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(26,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(27,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(28,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(32,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(33,'WML_1_0')
INSERT INTO CAPABILITY VALUES(34,'WML_1_1')
INSERT INTO CAPABILITY VALUES(35,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(36,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(37,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(38,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(39,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(40,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(41,'HTML_XML')
INSERT INTO CAPABILITY VALUES(42,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(43,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(1,'text/html')
INSERT INTO MIMETYPE VALUES(2,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(3,'text/vxml')
INSERT INTO MIMETYPE VALUES(4,'text/xml')
INSERT INTO MIMETYPE VALUES(5,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',1)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',1)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',1)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',1)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',2)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',2)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',2)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',2)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',2)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',3)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',3)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',4)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',1)
INSERT INTO MEDIA_TYPE VALUES(1,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(2,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(3,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(4,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,12)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,31)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,12)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,31)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,5)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,5)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(4,4)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
DROP TABLE SECURITY IF EXISTS
DROP TABLE SKIN IF EXISTS
DROP TABLE CONTROL IF EXISTS
DROP TABLE LAYOUT IF EXISTS
DROP TABLE PSML_ENTRY IF EXISTS
DROP TABLE PSML IF EXISTS
DROP TABLE OJB_HL_SEQ IF EXISTS
DROP TABLE OJB_LOCKENTRY IF EXISTS
DROP TABLE OJB_NRM IF EXISTS
DROP TABLE OJB_DLIST IF EXISTS
DROP TABLE OJB_DLIST_ENTRIES IF EXISTS
DROP TABLE OJB_DSET IF EXISTS
DROP TABLE OJB_DSET_ENTRIES IF EXISTS
DROP TABLE OJB_DMAP IF EXISTS
DROP TABLE OJB_DMAP_ENTRIES IF EXISTS
DROP TABLE CAPABILITY IF EXISTS
DROP TABLE MIMETYPE IF EXISTS
DROP TABLE CLIENT IF EXISTS
DROP TABLE MEDIA_TYPE IF EXISTS
DROP TABLE CLIENT_TO_CAPABILITY IF EXISTS
DROP TABLE CLIENT_TO_MIMETYPE IF EXISTS
DROP TABLE MEDIATYPE_TO_CAPABILITY IF EXISTS
DROP TABLE MEDIATYPE_TO_MIMETYPE IF EXISTS
DROP TABLE DESKTOP IF EXISTS
DROP TABLE DESKTOP_PAGES IF EXISTS
DROP TABLE SUB_PAGES IF EXISTS
DROP TABLE PAGE IF EXISTS
DROP TABLE FRAGMENT IF EXISTS
DROP TABLE PAGE_FRAGMENTS IF EXISTS
DROP TABLE SUB_FRAGMENTS IF EXISTS
DROP TABLE FRAGMENT_PARAMETER IF EXISTS
DROP TABLE FRAGMENT_REF IF EXISTS
DROP TABLE FRAGMENT_REFS IF EXISTS
DROP TABLE PROFILING_RULE IF EXISTS
DROP TABLE RULE_CRITERION IF EXISTS
DROP TABLE PRINCIPAL_RULE_ASSOC IF EXISTS
DROP TABLE PROFILE_DESKTOP_ASSOC IF EXISTS
DROP TABLE PROFILE_PAGE_ASSOC IF EXISTS
DROP TABLE pref_property_value IF EXISTS
DROP TABLE pref_property_key IF EXISTS
DROP TABLE pref_node IF EXISTS
DROP TABLE pref_property_set_def IF EXISTS
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE OJB_HL_SEQ(TABLENAME VARCHAR(175) NOT NULL,FIELDNAME VARCHAR(70) NOT NULL,MAX_KEY INTEGER,GRAB_SIZE INTEGER,VERSION INTEGER,CONSTRAINT SYS_PK_OJB_HL_SEQ PRIMARY KEY(TABLENAME,FIELDNAME))
CREATE TABLE OJB_LOCKENTRY(OID_ VARCHAR(250) NOT NULL,TX_ID VARCHAR(50) NOT NULL,TIMESTAMP_ TIMESTAMP,ISOLATIONLEVEL INTEGER,LOCKTYPE INTEGER,CONSTRAINT SYS_PK_OJB_LOCKENTRY PRIMARY KEY(OID_,TX_ID))
CREATE TABLE OJB_NRM(NAME VARCHAR(250) NOT NULL PRIMARY KEY,OID_ LONGVARBINARY)
CREATE TABLE OJB_DLIST(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DLIST_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DSET(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DSET_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DLIST_ID INTEGER,POSITION_ INTEGER,OID_ LONGVARBINARY)
CREATE TABLE OJB_DMAP(ID INTEGER NOT NULL PRIMARY KEY,SIZE_ INTEGER)
CREATE TABLE OJB_DMAP_ENTRIES(ID INTEGER NOT NULL PRIMARY KEY,DMAP_ID INTEGER,KEY_OID BINARY,VALUE_OID BINARY)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE MEDIA_TYPE( MEDIATYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, CHARACTER_SET VARCHAR(40), TITLE VARCHAR(80), DESCRIPTION LONGVARCHAR )
CREATE TABLE CLIENT( CLIENT_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL, USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR(80), VERSION VARCHAR(40), PREFERRED_MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE MIMETYPE( MIMETYPE_ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80) NOT NULL )
CREATE TABLE  CAPABILITY( CAPABILITY_ID INTEGER NOT NULL PRIMARY KEY, CAPABILITY VARCHAR(80) NOT NULL )
CREATE TABLE  CLIENT_TO_CAPABILITY( CLIENT_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  CLIENT_TO_MIMETYPE( CLIENT_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_CAPABILITY( MEDIATYPE_ID INTEGER NOT NULL, CAPABILITY_ID INTEGER NOT NULL )
CREATE TABLE  MEDIATYPE_TO_MIMETYPE( MEDIATYPE_ID INTEGER NOT NULL, MIMETYPE_ID INTEGER NOT NULL )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), DEFAULT_PAGE_ID VARCHAR(80), DEFAULT_THEME VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), UNIQUE(DESKTOP_ID) )
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR(80) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR(80) NOT NULL, SUB_PAGE_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
CREATE TABLE PAGE ( PAGE_ID VARCHAR(80) NOT NULL PRIMARY KEY, TITLE VARCHAR(100), DEFAULT_SKIN VARCHAR(100), DEFAULT_DECORATOR VARCHAR(100), DEFAULT_PORTLET_DECORATOR VARCHAR(100), ACL VARCHAR(80), UNIQUE(PAGE_ID) )
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR(80) NOT NULL PRIMARY KEY, COMPONENT_NAME VARCHAR(100), ACL VARCHAR(80), TITLE VARCHAR(100), TYPE VARCHAR(40), SKIN VARCHAR(80), DECORATOR VARCHAR(80), STATE VARCHAR(40) )
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR(80) NOT NULL, SUB_FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID INTEGER PRIMARY KEY, FRAGMENT_ID INTEGER NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE LONGVARCHAR NOT NULL )
CREATE UNIQUE INDEX IX_FRAGMENT_PARAMETER_1 ON FRAGMENT_PARAMETER (FRAGMENT_ID, PARAMETER_ID)
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL PRIMARY KEY, FRAGMENT_ID VARCHAR(80) NOT NULL, NAME VARCHAR(80) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR(80) NOT NULL, FRAGMENT_ID VARCHAR(80) NOT NULL )
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR(80) PRIMARY KEY, CLASS_NAME VARCHAR(100) NOT NULL, TITLE VARCHAR(100) )
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR(80) PRIMARY KEY, RULE_ID VARCHAR(80) NOT NULL, FALLBACK_ORDER INTEGER NOT NULL, REQUEST_TYPE VARCHAR(40) NOT NULL, NAME VARCHAR(80) NOT NULL, VALUE VARCHAR(128), FALLBACK_TYPE  INTEGER default 1 )
CREATE INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION(RULE_ID, FALLBACK_ORDER)
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR(80) NOT NULL, RULE_ID VARCHAR(80) NOT NULL, UNIQUE(PRINCIPAL_NAME) )
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, DESKTOP_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_DESKTOP_1 ON PROFILE_DESKTOP_ASSOC(LOCATOR_HASH, DESKTOP_ID)
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR(40) NOT NULL, PAGE_ID VARCHAR(80) NOT NULL )
CREATE UNIQUE INDEX IX_PROFILE_PAGE_1 ON PROFILE_PAGE_ASSOC(LOCATOR_HASH, PAGE_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE PREF_PROPERTY_SET_DEF ( property_set_def_id INTEGER NOT NULL PRIMARY KEY, property_set_name VARCHAR(100), property_set_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_NODE ( node_id INTEGER NOT NULL PRIMARY KEY, parent_node_id INTEGER NULL, property_set_def_id INTEGER NULL, node_name VARCHAR(100), node_type SMALLINT, full_path VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_VALUE ( property_value_id INTEGER NOT NULL PRIMARY KEY, property_key_id INTEGER, node_id INTEGER, boolean_value BIT, datetime_value TIMESTAMP, long_value INTEGER, double_value DOUBLE, text_value VARCHAR(254), creation_date TIMESTAMP, modified_date TIMESTAMP )
CREATE TABLE PREF_PROPERTY_KEY ( property_key_id INTEGER NOT NULL PRIMARY KEY, property_set_def_id INTEGER, property_name VARCHAR(100), property_type SMALLINT, creation_date TIMESTAMP, modified_date TIMESTAMP )
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK1 FOREIGN KEY (parent_node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_2 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_1 FOREIGN KEY (node_id) REFERENCES PREF_NODE (node_id)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_2 FOREIGN KEY (property_key_id) REFERENCES PREF_PROPERTY_KEY (property_key_id)
ALTER TABLE PREF_PROPERTY_KEY ADD CONSTRAINT PREF_PROPERTY_KEY_FK_1 FOREIGN KEY (property_set_def_id) REFERENCES PREF_PROPERTY_SET_DEF (property_set_def_id)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(1,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(2,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(3,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(5,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(6,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(7,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(12,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(16,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(20,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(21,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(22,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(23,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(26,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(27,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(28,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(32,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(33,'WML_1_0')
INSERT INTO CAPABILITY VALUES(34,'WML_1_1')
INSERT INTO CAPABILITY VALUES(35,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(36,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(37,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(38,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(39,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(40,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(41,'HTML_XML')
INSERT INTO CAPABILITY VALUES(42,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(43,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(1,'text/html')
INSERT INTO MIMETYPE VALUES(2,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(3,'text/vxml')
INSERT INTO MIMETYPE VALUES(4,'text/xml')
INSERT INTO MIMETYPE VALUES(5,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',1)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',1)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',1)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',1)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',2)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',2)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',2)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',2)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',2)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',3)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',3)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',4)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',1)
INSERT INTO MEDIA_TYPE VALUES(1,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(2,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(3,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(4,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,12)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,31)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,12)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,31)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,5)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,5)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(4,4)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C10*/CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C11*/CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C12*/CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C13*/CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C14*/CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE PA_METADATA ( ID INTEGER NOT NULL PRIMARY KEY )
CREATE TABLE PA_METADATA_FIELDS ( ID INTEGER NOT NULL PRIMARY KEY, OBJECT_ID INTEGER NOT NULL, VALUE LONGVARCHAR NOT NULL, NAME VARCHAR(100) NOT NULL, LOCALE_STRING VARCHAR(50) NOT NULL )
CREATE TABLE PORTLET_APPLICATION ( APPLICATION_ID INTEGER NOT NULL PRIMARY KEY, APP_NAME VARCHAR(80) NOT NULL, APP_IDENTIFIER VARCHAR(80), VERSION VARCHAR(80), APP_TYPE INTEGER, DESCRIPTION VARCHAR(80), WEB_APP_ID INTEGER NOT NULL, METADATA_ID INTEGER NOT NULL )
ALTER TABLE PORTLET_APPLICATION ADD CONSTRAINT UK_APPLICATION UNIQUE (APP_NAME)
CREATE TABLE WEB_APPLICATION( ID INTEGER NOT NULL PRIMARY KEY, CONTEXT_ROOT VARCHAR(255)  NOT NULL )
CREATE TABLE PORTLET_DEFINITION( ID INTEGER NOT NULL PRIMARY KEY, NAME VARCHAR(80), CLASS_NAME VARCHAR(100), APPLICATION_ID INTEGER NOT NULL, PORTLET_IDENTIFIER VARCHAR(80), EXPIRATION_CACHE VARCHAR(30), PREFERENCE_VALIDATOR VARCHAR(255), UNIQUE(APPLICATION_ID, NAME) )
CREATE TABLE LANGUAGE( ID INTEGER NOT NULL PRIMARY KEY, PORTLET_ID INTEGER NOT NULL, TITLE VARCHAR(100), SHORT_TITLE VARCHAR(50), LOCALE_STRING VARCHAR(50) NOT NULL, KEYWORDS LONGVARCHAR )
CREATE TABLE PORTLET_CONTENT_TYPE( CONTENT_TYPE_ID INTEGER PRIMARY KEY, PORTLET_ID INTEGER NOT NULL, CONTENT_TYPE VARCHAR(30) NOT NULL, MODES LONGVARCHAR )
CREATE TABLE PARAMETER( PARAMETER_ID INTEGER PRIMARY KEY, PARENT_ID INTEGER NOT NULL, CLASS_NAME VARCHAR(30) NOT NULL, NAME VARCHAR(80) NOT NULL, PARAMETER_VALUE LONGVARCHAR NOT NULL )
CREATE TABLE PORTLET_PREFERENCE( ID INTEGER PRIMARY KEY, PARENT_ID INTEGER NOT NULL, NAME VARCHAR(80) NOT NULL, CLASS_NAME VARCHAR(50) NOT NULL, READ_ONLY CHAR(1) DEFAULT '1' )
CREATE TABLE PREFERENCE_VALUE( ID INTEGER, PREFERENCE_ID INTEGER, VALUE LONGVARCHAR, CONSTRAINT PK PRIMARY KEY (ID) )
CREATE TABLE PORTLET_ENTITY( ID INTEGER PRIMARY KEY, PORTLET_DEFINITION_ID INTEGER NOT NULL, GUID VARCHAR(255) NOT NULL )
CREATE TABLE SECURITY_ROLE_REFERENCE( ID INTEGER PRIMARY KEY, PORTLET_DEFINITION_ID INTEGER NOT NULL, ROLE_NAME VARCHAR(150), ROLE_LINK VARCHAR(150) )
CREATE TABLE LOCALIZED_DESCRIPTION( ID INTEGER PRIMARY KEY, OBJECT_ID INTEGER NOT NULL, CLASS_NAME VARCHAR(255) NOT NULL, DESCRIPTION LONGVARCHAR NOT NULL, LOCALE_STRING VARCHAR(50) NOT NULL )
CREATE TABLE LOCALIZED_DISPLAY_NAME( ID INTEGER PRIMARY KEY, OBJECT_ID INTEGER NOT NULL, CLASS_NAME VARCHAR(255), DISPLAY_NAME LONGVARCHAR NOT NULL, LOCALE_STRING VARCHAR(50) NOT NULL )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
ROLLBACK
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
ROLLBACK
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C15*/CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C16*/CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C17*/CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PORTLET_APPLICATION','deprecatedColumn',20,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PA_METADATA','deprecatedColumn',20,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_WEB_APPLICATION','deprecatedColumn',20,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PORTLET_DEFINITION','deprecatedColumn',20,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C16*/INSERT INTO PA_METADATA VALUES(1)
INSERT INTO WEB_APPLICATION VALUES(1,'/HW_App')
/*C17*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_LOCALIZED_DISPLAY_NAME','deprecatedColumn',20,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C16*/INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(1,1,'org.apache.jetspeed.om.impl.WebAppDisplayNameImpl','HW_App','en,US,')
INSERT INTO PORTLET_APPLICATION VALUES(1,'HW_App','HW_App','1.0',0,NULL,1,1)
INSERT INTO PORTLET_DEFINITION VALUES(1,'HelloPortlet','org.apache.jetspeed.portlet.helloworld.HelloWorld',1,'HelloPortlet','-1',NULL)
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,1,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','HelloWorld Portlet Wrapper','en,US,')
/*C17*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_LANGUAGE','deprecatedColumn',20,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C16*/INSERT INTO LANGUAGE VALUES(1,1,'HelloWorldTitle','This is the short title','en,US,','"Test"')
/*C17*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PORTLET_CONTENT_TYPE','deprecatedColumn',20,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C16*/INSERT INTO PORTLET_CONTENT_TYPE VALUES(1,1,'text/html','"view","help","edit"')
/*C17*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PARAMETER','deprecatedColumn',20,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C16*/INSERT INTO PARAMETER VALUES(1,1,'org.apache.jetspeed.om.impl.PortletInitParameterImpl','hello','Hello Portlet')
/*C17*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_LOCALIZED_DESCRIPTION','deprecatedColumn',20,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C16*/INSERT INTO LOCALIZED_DESCRIPTION VALUES(1,1,'org.apache.jetspeed.om.impl.ParameterDescriptionImpl','test init param','en,US,')
INSERT INTO LOCALIZED_DESCRIPTION VALUES(2,1,'org.apache.jetspeed.om.impl.PortletDescriptionImpl','This is the hello world of portlets, it doesn''t do much','en,US,')
INSERT INTO PORTLET_DEFINITION VALUES(2,'JMXPortlet','org.apache.jetspeed.demo.jmx.JMXPortlet',1,'JMXPortlet','-1',NULL)
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,2,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','JMX Registry Access portlet','en,US,')
INSERT INTO LANGUAGE VALUES(2,2,'JMX Portal Console','JMX Portlet Console','en,US,','"JMX"')
INSERT INTO PORTLET_CONTENT_TYPE VALUES(2,2,'text/html','"view"')
INSERT INTO PORTLET_DEFINITION VALUES(3,'PreferencePortlet','org.apache.jetspeed.demo.preferences.PreferencePortlet',1,'PreferencePortlet','-1',NULL)
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,3,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','PreferencePortlet','en,US,')
INSERT INTO LANGUAGE VALUES(3,3,'Preference Test','Preference Test','en,US,','"Preferences"')
INSERT INTO PORTLET_CONTENT_TYPE VALUES(3,3,'text/html','"view"')
INSERT INTO PORTLET_PREFERENCE VALUES(0,3,'pref1','org.apache.jetspeed.om.preference.impl.DefaultPreferenceImpl','FALSE')
/*C17*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PREFERENCE_VALUE','deprecatedColumn',20,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C16*/INSERT INTO PREFERENCE_VALUE VALUES(1,0,'Hello')
INSERT INTO PREFERENCE_VALUE VALUES(2,0,'Hello2')
INSERT INTO PORTLET_DEFINITION VALUES(4,'DisplayRequestPortlet','org.apache.jetspeed.portlet.ServletPortlet',1,'DisplayRequestPortlet','-1',NULL)
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,4,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','DisplayRequest Portlet Wrapper','en,US,')
INSERT INTO LANGUAGE VALUES(4,4,'Display the Portlet Request Information','Portlet Request Information','en,US,',NULL)
INSERT INTO PORTLET_CONTENT_TYPE VALUES(4,4,'text/html','"view","help"')
INSERT INTO PARAMETER VALUES(2,4,'org.apache.jetspeed.om.impl.PortletInitParameterImpl','HelpPage','/WEB-INF/demo/simple/DisplayRequestHelp.jsp')
INSERT INTO PARAMETER VALUES(3,4,'org.apache.jetspeed.om.impl.PortletInitParameterImpl','ViewPage','/WEB-INF/demo/simple/DisplayRequest.jsp')
INSERT INTO PORTLET_DEFINITION VALUES(5,'PickANumberPortlet','org.apache.jetspeed.demo.simple.PickANumberServlet',1,'PickANumberPortlet','-1',NULL)
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,5,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','Pick a number game','en,US,')
INSERT INTO LANGUAGE VALUES(5,5,'Pick a Number',NULL,'en,US,',NULL)
INSERT INTO PORTLET_CONTENT_TYPE VALUES(5,5,'text/html','"view","help"')
INSERT INTO PORTLET_DEFINITION VALUES(6,'AttributeScopePortlet','org.apache.jetspeed.demo.simple.AttributeScopeServlet',1,'AttributeScopePortlet','-1',NULL)
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,6,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','Attribute Scope Demo','en,US,')
INSERT INTO LANGUAGE VALUES(6,6,'Attribute Scope Demo Portlet',NULL,'en,US,',NULL)
INSERT INTO PORTLET_CONTENT_TYPE VALUES(6,6,'text/html','"view","help"')
INSERT INTO PORTLET_DEFINITION VALUES(7,'CustomerList','org.apache.jetspeed.demo.customerInfo.CustomerPortlet',1,'CustomerList','-1',NULL)
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,7,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','Customer List','en,US,')
INSERT INTO LANGUAGE VALUES(7,7,'Customer List','Customer List','en,US,',NULL)
INSERT INTO PORTLET_CONTENT_TYPE VALUES(7,7,'text/html','"view"')
INSERT INTO PARAMETER VALUES(4,7,'org.apache.jetspeed.om.impl.PortletInitParameterImpl','ViewPage','/WEB-INF/demo/customerInfo/Page1.jsp')
INSERT INTO PORTLET_DEFINITION VALUES(8,'CustomerInfo','org.apache.jetspeed.demo.customerInfo.CustomerPortlet',1,'CustomerInfo','-1',NULL)
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,8,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','Customer Information','en,US,')
INSERT INTO LANGUAGE VALUES(8,8,'Customer Information','Customer Info','en,US,',NULL)
INSERT INTO PORTLET_CONTENT_TYPE VALUES(8,8,'text/html','"view"')
INSERT INTO PARAMETER VALUES(5,8,'org.apache.jetspeed.om.impl.PortletInitParameterImpl','ViewPage','/WEB-INF/demo/customerInfo/Page2.jsp')
INSERT INTO PORTLET_DEFINITION VALUES(9,'CustomerDetail','org.apache.jetspeed.demo.customerInfo.CustomerPortlet',1,'CustomerDetail','-1',NULL)
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,9,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','Customer Detail','en,US,')
INSERT INTO LANGUAGE VALUES(9,9,'Customer Detail','Customer Detail','en,US,',NULL)
INSERT INTO PORTLET_CONTENT_TYPE VALUES(9,9,'text/html','"view"')
INSERT INTO PARAMETER VALUES(6,9,'org.apache.jetspeed.om.impl.PortletInitParameterImpl','ViewPage','/WEB-INF/demo/customerInfo/Page3.jsp')
INSERT INTO PORTLET_DEFINITION VALUES(10,'LoginPortlet','org.apache.jetspeed.portlet.ServletPortlet',1,'LoginPortlet','-1',NULL)
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,10,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','LoginRequest Portlet Wrapper','en,US,')
INSERT INTO LANGUAGE VALUES(10,10,'Login/Logout  Request Information','Portlet Request Information','en,US,',NULL)
INSERT INTO PORTLET_CONTENT_TYPE VALUES(10,10,'text/html','"view"')
INSERT INTO PARAMETER VALUES(7,10,'org.apache.jetspeed.om.impl.PortletInitParameterImpl','ViewPage','/WEB-INF/demo/simple/Login.jsp')
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C15*/DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,1,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','HelloWorld Portlet Wrapper','en,US,')
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
DELETE FROM LANGUAGE WHERE ID=1
DELETE FROM PORTLET_CONTENT_TYPE WHERE CONTENT_TYPE_ID=1
DELETE FROM LOCALIZED_DESCRIPTION WHERE ID=1
DELETE FROM PARAMETER WHERE PARAMETER_ID=1
DELETE FROM LOCALIZED_DESCRIPTION WHERE ID=2
DELETE FROM PORTLET_DEFINITION WHERE ID=1
DELETE FROM PORTLET_DEFINITION WHERE ID=2
DELETE FROM PREFERENCE_VALUE WHERE ID=1
DELETE FROM PREFERENCE_VALUE WHERE ID=2
DELETE FROM PORTLET_PREFERENCE WHERE ID=0
DELETE FROM PORTLET_DEFINITION WHERE ID=3
DELETE FROM PARAMETER WHERE PARAMETER_ID=2
DELETE FROM PARAMETER WHERE PARAMETER_ID=3
DELETE FROM PORTLET_DEFINITION WHERE ID=4
DELETE FROM PORTLET_DEFINITION WHERE ID=5
DELETE FROM PORTLET_DEFINITION WHERE ID=6
DELETE FROM PARAMETER WHERE PARAMETER_ID=4
DELETE FROM PORTLET_DEFINITION WHERE ID=7
DELETE FROM PARAMETER WHERE PARAMETER_ID=5
DELETE FROM PORTLET_DEFINITION WHERE ID=8
DELETE FROM PARAMETER WHERE PARAMETER_ID=6
DELETE FROM PORTLET_DEFINITION WHERE ID=9
DELETE FROM PARAMETER WHERE PARAMETER_ID=7
DELETE FROM PORTLET_DEFINITION WHERE ID=10
DELETE FROM PORTLET_APPLICATION WHERE APPLICATION_ID=1
DELETE FROM PA_METADATA WHERE ID=1
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=1
DELETE FROM WEB_APPLICATION WHERE ID=1
/*C18*/CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C19*/CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C20*/CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C21*/CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
DROP TABLE SECURITY IF EXISTS
DROP TABLE SKIN IF EXISTS
DROP TABLE CONTROL IF EXISTS
DROP TABLE LAYOUT IF EXISTS
DROP TABLE PSML_ENTRY IF EXISTS
DROP TABLE PSML IF EXISTS
DROP TABLE OJB_HL_SEQ IF EXISTS
DROP TABLE OJB_LOCKENTRY IF EXISTS
DROP TABLE OJB_NRM IF EXISTS
DROP TABLE OJB_DLIST IF EXISTS
DROP TABLE OJB_DLIST_ENTRIES IF EXISTS
DROP TABLE OJB_DSET IF EXISTS
DROP TABLE OJB_DSET_ENTRIES IF EXISTS
DROP TABLE OJB_DMAP IF EXISTS
DROP TABLE OJB_DMAP_ENTRIES IF EXISTS
DROP TABLE CAPABILITY IF EXISTS
DROP TABLE MIMETYPE IF EXISTS
DROP TABLE CLIENT IF EXISTS
DROP TABLE MEDIA_TYPE IF EXISTS
DROP TABLE CLIENT_TO_CAPABILITY IF EXISTS
DROP TABLE CLIENT_TO_MIMETYPE IF EXISTS
DROP TABLE MEDIATYPE_TO_CAPABILITY IF EXISTS
DROP TABLE MEDIATYPE_TO_MIMETYPE IF EXISTS
DROP TABLE DESKTOP IF EXISTS
DROP TABLE DESKTOP_PAGES IF EXISTS
DROP TABLE SUB_PAGES IF EXISTS
DROP TABLE PAGE IF EXISTS
DROP TABLE FRAGMENT IF EXISTS
DROP TABLE PAGE_FRAGMENTS IF EXISTS
DROP TABLE SUB_FRAGMENTS IF EXISTS
DROP TABLE FRAGMENT_PARAMETER IF EXISTS
DROP TABLE FRAGMENT_REF IF EXISTS
DROP TABLE FRAGMENT_REFS IF EXISTS
DROP TABLE PROFILING_RULE IF EXISTS
DROP TABLE RULE_CRITERION IF EXISTS
DROP TABLE PRINCIPAL_RULE_ASSOC IF EXISTS
DROP TABLE PROFILE_DESKTOP_ASSOC IF EXISTS
DROP TABLE PROFILE_PAGE_ASSOC IF EXISTS
DROP TABLE pref_property_value IF EXISTS
DROP TABLE pref_property_key IF EXISTS
DROP TABLE pref_node IF EXISTS
DROP TABLE pref_property_set_def IF EXISTS
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
DROP TABLE PA_METADATA IF EXISTS
DROP TABLE PA_METADATA_FIELDS IF EXISTS
DROP TABLE PARAMETER IF EXISTS
DROP TABLE PORTLET_CONTENT_TYPE IF EXISTS
DROP TABLE LANGUAGE IF EXISTS
DROP TABLE PORTLET_DEFINITION IF EXISTS
DROP TABLE WEB_APPLICATION IF EXISTS
DROP TABLE PORTLET_APPLICATION IF EXISTS
DROP TABLE PORTLET_PREFERENCE IF EXISTS
DROP TABLE PREFERENCE_VALUE IF EXISTS
DROP TABLE USER_PREFERENCE_VALUE IF EXISTS
DROP TABLE PORTLET_ENTITY IF EXISTS
DROP TABLE LOCALIZED_DESCRIPTION IF EXISTS
DROP TABLE LOCALIZED_DISPLAY_NAME IF EXISTS
DROP TABLE SECURITY_ROLE_REFERENCE IF EXISTS
DROP TABLE OJB_HL_SEQ IF EXISTS
DROP TABLE OJB_LOCKENTRY IF EXISTS
DROP TABLE OJB_NRM IF EXISTS
DROP TABLE OJB_DLIST IF EXISTS
DROP TABLE OJB_DLIST_ENTRIES IF EXISTS
DROP TABLE OJB_DSET IF EXISTS
DROP TABLE OJB_DSET_ENTRIES IF EXISTS
DROP TABLE OJB_DMAP IF EXISTS
DROP TABLE OJB_DMAP_ENTRIES IF EXISTS
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE OJB_HL_SEQ ( TABLENAME VARCHAR (175), FIELDNAME VARCHAR (70), MAX_KEY integer, GRAB_SIZE integer, VERSION integer, PRIMARY KEY(TABLENAME,FIELDNAME) )
CREATE TABLE OJB_LOCKENTRY ( OID_ VARCHAR (250), TX_ID VARCHAR (50), TIMESTAMP_ timestamp, ISOLATIONLEVEL integer, LOCKTYPE integer, PRIMARY KEY(OID_,TX_ID) )
CREATE TABLE OJB_NRM ( NAME VARCHAR (250), OID_ LONGVARBINARY, PRIMARY KEY(NAME) )
CREATE TABLE OJB_DLIST ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
CREATE TABLE OJB_DLIST_ENTRIES ( ID integer, DLIST_ID integer, POSITION_ integer, OID_ LONGVARBINARY, PRIMARY KEY(ID) )
CREATE TABLE OJB_DSET ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
CREATE TABLE OJB_DSET_ENTRIES ( ID integer, DLIST_ID integer, POSITION_ integer, OID_ LONGVARBINARY, PRIMARY KEY(ID) )
CREATE TABLE OJB_DMAP ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
CREATE TABLE OJB_DMAP_ENTRIES ( ID integer, DMAP_ID integer, KEY_OID BINARY, VALUE_OID BINARY, PRIMARY KEY(ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
DROP TABLE SECURITY IF EXISTS
DROP TABLE SKIN IF EXISTS
DROP TABLE CONTROL IF EXISTS
DROP TABLE LAYOUT IF EXISTS
DROP TABLE PSML_ENTRY IF EXISTS
DROP TABLE PSML IF EXISTS
DROP TABLE OJB_HL_SEQ IF EXISTS
DROP TABLE OJB_LOCKENTRY IF EXISTS
DROP TABLE OJB_NRM IF EXISTS
DROP TABLE OJB_DLIST IF EXISTS
DROP TABLE OJB_DLIST_ENTRIES IF EXISTS
DROP TABLE OJB_DSET IF EXISTS
DROP TABLE OJB_DSET_ENTRIES IF EXISTS
DROP TABLE OJB_DMAP IF EXISTS
DROP TABLE OJB_DMAP_ENTRIES IF EXISTS
DROP TABLE CAPABILITY IF EXISTS
DROP TABLE MIMETYPE IF EXISTS
DROP TABLE CLIENT IF EXISTS
DROP TABLE MEDIA_TYPE IF EXISTS
DROP TABLE CLIENT_TO_CAPABILITY IF EXISTS
DROP TABLE CLIENT_TO_MIMETYPE IF EXISTS
DROP TABLE MEDIATYPE_TO_CAPABILITY IF EXISTS
DROP TABLE MEDIATYPE_TO_MIMETYPE IF EXISTS
DROP TABLE DESKTOP IF EXISTS
DROP TABLE DESKTOP_PAGES IF EXISTS
DROP TABLE SUB_PAGES IF EXISTS
DROP TABLE PAGE IF EXISTS
DROP TABLE FRAGMENT IF EXISTS
DROP TABLE PAGE_FRAGMENTS IF EXISTS
DROP TABLE SUB_FRAGMENTS IF EXISTS
DROP TABLE FRAGMENT_PARAMETER IF EXISTS
DROP TABLE FRAGMENT_REF IF EXISTS
DROP TABLE FRAGMENT_REFS IF EXISTS
DROP TABLE PROFILING_RULE IF EXISTS
DROP TABLE RULE_CRITERION IF EXISTS
DROP TABLE PRINCIPAL_RULE_ASSOC IF EXISTS
DROP TABLE PROFILE_DESKTOP_ASSOC IF EXISTS
DROP TABLE PROFILE_PAGE_ASSOC IF EXISTS
DROP TABLE pref_property_value IF EXISTS
DROP TABLE pref_property_key IF EXISTS
DROP TABLE pref_node IF EXISTS
DROP TABLE pref_property_set_def IF EXISTS
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
DROP TABLE PA_METADATA IF EXISTS
DROP TABLE PA_METADATA_FIELDS IF EXISTS
DROP TABLE PARAMETER IF EXISTS
DROP TABLE PORTLET_CONTENT_TYPE IF EXISTS
DROP TABLE LANGUAGE IF EXISTS
DROP TABLE PORTLET_DEFINITION IF EXISTS
DROP TABLE WEB_APPLICATION IF EXISTS
DROP TABLE PORTLET_APPLICATION IF EXISTS
DROP TABLE PORTLET_PREFERENCE IF EXISTS
DROP TABLE PREFERENCE_VALUE IF EXISTS
DROP TABLE USER_PREFERENCE_VALUE IF EXISTS
DROP TABLE PORTLET_ENTITY IF EXISTS
DROP TABLE LOCALIZED_DESCRIPTION IF EXISTS
DROP TABLE LOCALIZED_DISPLAY_NAME IF EXISTS
DROP TABLE SECURITY_ROLE_REFERENCE IF EXISTS
DROP TABLE OJB_HL_SEQ IF EXISTS
DROP TABLE OJB_LOCKENTRY IF EXISTS
DROP TABLE OJB_NRM IF EXISTS
DROP TABLE OJB_DLIST IF EXISTS
DROP TABLE OJB_DLIST_ENTRIES IF EXISTS
DROP TABLE OJB_DSET IF EXISTS
DROP TABLE OJB_DSET_ENTRIES IF EXISTS
DROP TABLE OJB_DMAP IF EXISTS
DROP TABLE OJB_DMAP_ENTRIES IF EXISTS
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE OJB_HL_SEQ ( TABLENAME VARCHAR (175), FIELDNAME VARCHAR (70), MAX_KEY integer, GRAB_SIZE integer, VERSION integer, PRIMARY KEY(TABLENAME,FIELDNAME) )
CREATE TABLE OJB_LOCKENTRY ( OID_ VARCHAR (250), TX_ID VARCHAR (50), TIMESTAMP_ timestamp, ISOLATIONLEVEL integer, LOCKTYPE integer, PRIMARY KEY(OID_,TX_ID) )
CREATE TABLE OJB_NRM ( NAME VARCHAR (250), OID_ LONGVARBINARY, PRIMARY KEY(NAME) )
CREATE TABLE OJB_DLIST ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
CREATE TABLE OJB_DLIST_ENTRIES ( ID integer, DLIST_ID integer, POSITION_ integer, OID_ LONGVARBINARY, PRIMARY KEY(ID) )
CREATE TABLE OJB_DSET ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
CREATE TABLE OJB_DSET_ENTRIES ( ID integer, DLIST_ID integer, POSITION_ integer, OID_ LONGVARBINARY, PRIMARY KEY(ID) )
CREATE TABLE OJB_DMAP ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
CREATE TABLE OJB_DMAP_ENTRIES ( ID integer, DMAP_ID integer, KEY_OID BINARY, VALUE_OID BINARY, PRIMARY KEY(ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE MEDIA_TYPE ( MEDIATYPE_ID integer, NAME VARCHAR (80), CHARACTER_SET VARCHAR (40), TITLE VARCHAR (80), DESCRIPTION VARCHAR, PRIMARY KEY(MEDIATYPE_ID) )
CREATE TABLE CLIENT ( CLIENT_ID integer, NAME VARCHAR (80), USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR (80), VERSION VARCHAR (40), PREFERRED_MIMETYPE_ID integer, PRIMARY KEY(CLIENT_ID) )
CREATE TABLE MIMETYPE ( MIMETYPE_ID integer, NAME VARCHAR (80), PRIMARY KEY(MIMETYPE_ID) )
CREATE TABLE CAPABILITY ( CAPABILITY_ID integer, CAPABILITY VARCHAR (80), PRIMARY KEY(CAPABILITY_ID) )
CREATE TABLE CLIENT_TO_CAPABILITY ( CLIENT_ID integer, CAPABILITY_ID integer )
CREATE TABLE CLIENT_TO_MIMETYPE ( CLIENT_ID integer, MIMETYPE_ID integer )
CREATE TABLE MEDIATYPE_TO_CAPABILITY ( MEDIATYPE_ID integer, CAPABILITY_ID integer )
CREATE TABLE MEDIATYPE_TO_MIMETYPE ( MEDIATYPE_ID integer, MIMETYPE_ID integer )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR (80), TITLE VARCHAR (100), COMPONENT_NAME VARCHAR (100), ACL VARCHAR (80), DEFAULT_PAGE_ID VARCHAR (80), DEFAULT_THEME VARCHAR (100), DEFAULT_DECORATOR VARCHAR (100), DEFAULT_PORTLET_DECORATOR VARCHAR (100), PRIMARY KEY(DESKTOP_ID) )
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR (80), PAGE_ID VARCHAR (80) )
CREATE  INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR (80), SUB_PAGE_ID VARCHAR (80) )
CREATE  INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
CREATE TABLE PAGE ( PAGE_ID VARCHAR (80), TITLE VARCHAR (100), DEFAULT_SKIN VARCHAR (100), DEFAULT_DECORATOR VARCHAR (100), DEFAULT_PORTLET_DECORATOR VARCHAR (100), ACL VARCHAR (80), PRIMARY KEY(PAGE_ID) )
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR (80), COMPONENT_NAME VARCHAR (100), ACL VARCHAR (80), TITLE VARCHAR (100), TYPE VARCHAR (40), SKIN VARCHAR (80), DECORATOR VARCHAR (80), STATE VARCHAR (40), PRIMARY KEY(FRAGMENT_ID) )
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80) )
CREATE  INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR (80), SUB_FRAGMENT_ID VARCHAR (80) )
CREATE  INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID integer, FRAGMENT_ID integer, NAME VARCHAR (80), VALUE VARCHAR, PRIMARY KEY(PARAMETER_ID), UNIQUE (FRAGMENT_ID, PARAMETER_ID) )
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80), NAME VARCHAR (80), TITLE VARCHAR (100), PRIMARY KEY(FRAGMENT_REF_ID) )
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80) )
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR (80), CLASS_NAME VARCHAR (100), TITLE VARCHAR (100), PRIMARY KEY(RULE_ID) )
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR (80), RULE_ID VARCHAR (80), FALLBACK_ORDER integer, REQUEST_TYPE VARCHAR (40), NAME VARCHAR (80), VALUE VARCHAR (128), FALLBACK_TYPE integer, PRIMARY KEY(CRITERION_ID) )
CREATE  INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION (RULE_ID, FALLBACK_ORDER)
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR (80), RULE_ID VARCHAR (80) )
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR (40), DESKTOP_ID VARCHAR (80), UNIQUE (LOCATOR_HASH, DESKTOP_ID) )
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR (40), PAGE_ID VARCHAR (80), UNIQUE (LOCATOR_HASH, PAGE_ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
CREATE TABLE PA_METADATA ( ID integer, PRIMARY KEY(ID) )
CREATE TABLE PA_METADATA_FIELDS ( ID integer, OBJECT_ID integer, VALUE VARCHAR, NAME VARCHAR (100), LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
CREATE TABLE PORTLET_APPLICATION ( APPLICATION_ID integer, APP_NAME VARCHAR (80), APP_IDENTIFIER VARCHAR (80), VERSION VARCHAR (80), APP_TYPE integer, DESCRIPTION VARCHAR (80), WEB_APP_ID integer, METADATA_ID integer, PRIMARY KEY(APPLICATION_ID), UNIQUE (APP_NAME) )
CREATE TABLE WEB_APPLICATION ( ID integer, CONTEXT_ROOT VARCHAR (255), PRIMARY KEY(ID) )
CREATE TABLE PORTLET_DEFINITION ( ID integer, NAME VARCHAR (80), CLASS_NAME VARCHAR (100), APPLICATION_ID integer, PORTLET_IDENTIFIER VARCHAR (80), EXPIRATION_CACHE VARCHAR (30), PREFERENCE_VALIDATOR VARCHAR (255), PRIMARY KEY(ID) )
CREATE TABLE LANGUAGE ( ID integer, PORTLET_ID integer, TITLE VARCHAR (100), SHORT_TITLE VARCHAR (50), LOCALE_STRING VARCHAR (50), KEYWORDS VARCHAR, PRIMARY KEY(ID) )
CREATE TABLE PORTLET_CONTENT_TYPE ( CONTENT_TYPE_ID integer, PORTLET_ID integer, CONTENT_TYPE VARCHAR (30), MODES VARCHAR, PRIMARY KEY(CONTENT_TYPE_ID) )
CREATE TABLE PARAMETER ( PARAMETER_ID integer, PARENT_ID integer, CLASS_NAME VARCHAR (30), NAME VARCHAR (80), PARAMETER_VALUE VARCHAR, PRIMARY KEY(PARAMETER_ID) )
CREATE TABLE PORTLET_PREFERENCE ( ID integer, PARENT_ID integer, NAME VARCHAR (80), CLASS_NAME VARCHAR (50), READ_ONLY VARCHAR (1), PRIMARY KEY(ID) )
CREATE TABLE PREFERENCE_VALUE ( ID integer, PREFERENCE_ID integer, VALUE VARCHAR, PRIMARY KEY(ID) )
CREATE TABLE PORTLET_ENTITY ( ID integer, PORTLET_DEFINITION_ID integer, GUID VARCHAR (255), PRIMARY KEY(ID) )
CREATE TABLE SECURITY_ROLE_REFERENCE ( ID integer, PORTLET_DEFINITION_ID integer, ROLE_NAME VARCHAR (150), ROLE_LINK VARCHAR (150), PRIMARY KEY(ID) )
CREATE TABLE LOCALIZED_DESCRIPTION ( ID integer, OBJECT_ID integer, CLASS_NAME VARCHAR (255), DESCRIPTION VARCHAR, LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
CREATE TABLE LOCALIZED_DISPLAY_NAME ( ID integer, OBJECT_ID integer, CLASS_NAME VARCHAR (255), DISPLAY_NAME VARCHAR, LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(1,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(2,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(3,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(5,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(6,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(7,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(12,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(16,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(20,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(21,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(22,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(23,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(26,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(27,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(28,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(32,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(33,'WML_1_0')
INSERT INTO CAPABILITY VALUES(34,'WML_1_1')
INSERT INTO CAPABILITY VALUES(35,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(36,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(37,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(38,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(39,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(40,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(41,'HTML_XML')
INSERT INTO CAPABILITY VALUES(42,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(43,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(1,'text/html')
INSERT INTO MIMETYPE VALUES(2,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(3,'text/vxml')
INSERT INTO MIMETYPE VALUES(4,'text/xml')
INSERT INTO MIMETYPE VALUES(5,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',1)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',1)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',1)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',1)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',2)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',2)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',2)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',2)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',2)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',3)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',3)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',4)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',1)
INSERT INTO MEDIA_TYPE VALUES(1,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(2,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(3,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(4,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,12)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,31)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,12)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,31)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,5)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,5)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(4,4)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
ROLLBACK
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table OJB_HL_SEQ if exists
CREATE TABLE OJB_HL_SEQ ( TABLENAME VARCHAR (175), FIELDNAME VARCHAR (70), MAX_KEY integer, GRAB_SIZE integer, VERSION integer, PRIMARY KEY(TABLENAME,FIELDNAME) )
drop table OJB_LOCKENTRY if exists
CREATE TABLE OJB_LOCKENTRY ( OID_ VARCHAR (250), TX_ID VARCHAR (50), TIMESTAMP_ timestamp, ISOLATIONLEVEL integer, LOCKTYPE integer, PRIMARY KEY(OID_,TX_ID) )
drop table OJB_NRM if exists
CREATE TABLE OJB_NRM ( NAME VARCHAR (250), OID_ LONGVARBINARY, PRIMARY KEY(NAME) )
drop table OJB_DLIST if exists
CREATE TABLE OJB_DLIST ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
drop table OJB_DLIST_ENTRIES if exists
CREATE TABLE OJB_DLIST_ENTRIES ( ID integer, DLIST_ID integer, POSITION_ integer, OID_ LONGVARBINARY, PRIMARY KEY(ID) )
drop table OJB_DSET if exists
CREATE TABLE OJB_DSET ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
drop table OJB_DSET_ENTRIES if exists
CREATE TABLE OJB_DSET_ENTRIES ( ID integer, DLIST_ID integer, POSITION_ integer, OID_ LONGVARBINARY, PRIMARY KEY(ID) )
drop table OJB_DMAP if exists
CREATE TABLE OJB_DMAP ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
drop table OJB_DMAP_ENTRIES if exists
CREATE TABLE OJB_DMAP_ENTRIES ( ID integer, DMAP_ID integer, KEY_OID BINARY, VALUE_OID BINARY, PRIMARY KEY(ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table MEDIA_TYPE if exists
CREATE TABLE MEDIA_TYPE ( MEDIATYPE_ID integer, NAME VARCHAR (80), CHARACTER_SET VARCHAR (40), TITLE VARCHAR (80), DESCRIPTION VARCHAR, PRIMARY KEY(MEDIATYPE_ID) )
drop table CLIENT if exists
CREATE TABLE CLIENT ( CLIENT_ID integer, NAME VARCHAR (80), USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR (80), VERSION VARCHAR (40), PREFERRED_MIMETYPE_ID integer, PRIMARY KEY(CLIENT_ID) )
drop table MIMETYPE if exists
CREATE TABLE MIMETYPE ( MIMETYPE_ID integer, NAME VARCHAR (80), PRIMARY KEY(MIMETYPE_ID) )
drop table CAPABILITY if exists
CREATE TABLE CAPABILITY ( CAPABILITY_ID integer, CAPABILITY VARCHAR (80), PRIMARY KEY(CAPABILITY_ID) )
drop table CLIENT_TO_CAPABILITY if exists
CREATE TABLE CLIENT_TO_CAPABILITY ( CLIENT_ID integer, CAPABILITY_ID integer )
drop table CLIENT_TO_MIMETYPE if exists
CREATE TABLE CLIENT_TO_MIMETYPE ( CLIENT_ID integer, MIMETYPE_ID integer )
drop table MEDIATYPE_TO_CAPABILITY if exists
CREATE TABLE MEDIATYPE_TO_CAPABILITY ( MEDIATYPE_ID integer, CAPABILITY_ID integer )
drop table MEDIATYPE_TO_MIMETYPE if exists
CREATE TABLE MEDIATYPE_TO_MIMETYPE ( MEDIATYPE_ID integer, MIMETYPE_ID integer )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table DESKTOP if exists
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR (80), TITLE VARCHAR (100), COMPONENT_NAME VARCHAR (100), ACL VARCHAR (80), DEFAULT_PAGE_ID VARCHAR (80), DEFAULT_THEME VARCHAR (100), DEFAULT_DECORATOR VARCHAR (100), DEFAULT_PORTLET_DECORATOR VARCHAR (100), PRIMARY KEY(DESKTOP_ID) )
drop table DESKTOP_PAGES if exists
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR (80), PAGE_ID VARCHAR (80) )
CREATE  INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
drop table SUB_PAGES if exists
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR (80), SUB_PAGE_ID VARCHAR (80) )
CREATE  INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
drop table PAGE if exists
CREATE TABLE PAGE ( PAGE_ID VARCHAR (80), TITLE VARCHAR (100), DEFAULT_SKIN VARCHAR (100), DEFAULT_DECORATOR VARCHAR (100), DEFAULT_PORTLET_DECORATOR VARCHAR (100), ACL VARCHAR (80), PRIMARY KEY(PAGE_ID) )
drop table FRAGMENT if exists
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR (80), COMPONENT_NAME VARCHAR (100), ACL VARCHAR (80), TITLE VARCHAR (100), TYPE VARCHAR (40), SKIN VARCHAR (80), DECORATOR VARCHAR (80), STATE VARCHAR (40), PRIMARY KEY(FRAGMENT_ID) )
drop table PAGE_FRAGMENTS if exists
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80) )
CREATE  INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
drop table SUB_FRAGMENTS if exists
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR (80), SUB_FRAGMENT_ID VARCHAR (80) )
CREATE  INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
drop table FRAGMENT_PARAMETER if exists
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID integer, FRAGMENT_ID integer, NAME VARCHAR (80), VALUE VARCHAR, PRIMARY KEY(PARAMETER_ID), UNIQUE (FRAGMENT_ID, PARAMETER_ID) )
drop table FRAGMENT_REF if exists
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80), NAME VARCHAR (80), TITLE VARCHAR (100), PRIMARY KEY(FRAGMENT_REF_ID) )
drop table FRAGMENT_REFS if exists
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80) )
drop table PROFILING_RULE if exists
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR (80), CLASS_NAME VARCHAR (100), TITLE VARCHAR (100), PRIMARY KEY(RULE_ID) )
drop table RULE_CRITERION if exists
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR (80), RULE_ID VARCHAR (80), FALLBACK_ORDER integer, REQUEST_TYPE VARCHAR (40), NAME VARCHAR (80), VALUE VARCHAR (128), FALLBACK_TYPE integer, PRIMARY KEY(CRITERION_ID) )
CREATE  INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION (RULE_ID, FALLBACK_ORDER)
drop table PRINCIPAL_RULE_ASSOC if exists
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR (80), RULE_ID VARCHAR (80) )
drop table PROFILE_DESKTOP_ASSOC if exists
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR (40), DESKTOP_ID VARCHAR (80), UNIQUE (LOCATOR_HASH, DESKTOP_ID) )
drop table PROFILE_PAGE_ASSOC if exists
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR (40), PAGE_ID VARCHAR (80), UNIQUE (LOCATOR_HASH, PAGE_ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table PA_METADATA if exists
CREATE TABLE PA_METADATA ( ID integer, PRIMARY KEY(ID) )
drop table PA_METADATA_FIELDS if exists
CREATE TABLE PA_METADATA_FIELDS ( ID integer, OBJECT_ID integer, VALUE VARCHAR, NAME VARCHAR (100), LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
drop table PORTLET_APPLICATION if exists
CREATE TABLE PORTLET_APPLICATION ( APPLICATION_ID integer, APP_NAME VARCHAR (80), APP_IDENTIFIER VARCHAR (80), VERSION VARCHAR (80), APP_TYPE integer, DESCRIPTION VARCHAR (80), WEB_APP_ID integer, METADATA_ID integer, PRIMARY KEY(APPLICATION_ID), UNIQUE (APP_NAME) )
drop table WEB_APPLICATION if exists
CREATE TABLE WEB_APPLICATION ( ID integer, CONTEXT_ROOT VARCHAR (255), PRIMARY KEY(ID) )
drop table PORTLET_DEFINITION if exists
CREATE TABLE PORTLET_DEFINITION ( ID integer, NAME VARCHAR (80), CLASS_NAME VARCHAR (100), APPLICATION_ID integer, PORTLET_IDENTIFIER VARCHAR (80), EXPIRATION_CACHE VARCHAR (30), PREFERENCE_VALIDATOR VARCHAR (255), PRIMARY KEY(ID) )
drop table LANGUAGE if exists
CREATE TABLE LANGUAGE ( ID integer, PORTLET_ID integer, TITLE VARCHAR (100), SHORT_TITLE VARCHAR (50), LOCALE_STRING VARCHAR (50), KEYWORDS VARCHAR, PRIMARY KEY(ID) )
drop table PORTLET_CONTENT_TYPE if exists
CREATE TABLE PORTLET_CONTENT_TYPE ( CONTENT_TYPE_ID integer, PORTLET_ID integer, CONTENT_TYPE VARCHAR (30), MODES VARCHAR, PRIMARY KEY(CONTENT_TYPE_ID) )
drop table PARAMETER if exists
CREATE TABLE PARAMETER ( PARAMETER_ID integer, PARENT_ID integer, CLASS_NAME VARCHAR (30), NAME VARCHAR (80), PARAMETER_VALUE VARCHAR, PRIMARY KEY(PARAMETER_ID) )
drop table PORTLET_PREFERENCE if exists
CREATE TABLE PORTLET_PREFERENCE ( ID integer, PARENT_ID integer, NAME VARCHAR (80), CLASS_NAME VARCHAR (50), READ_ONLY VARCHAR (1), PRIMARY KEY(ID) )
drop table PREFERENCE_VALUE if exists
CREATE TABLE PREFERENCE_VALUE ( ID integer, PREFERENCE_ID integer, VALUE VARCHAR, PRIMARY KEY(ID) )
drop table PORTLET_ENTITY if exists
CREATE TABLE PORTLET_ENTITY ( ID integer, PORTLET_DEFINITION_ID integer, GUID VARCHAR (255), PRIMARY KEY(ID) )
drop table SECURITY_ROLE_REFERENCE if exists
CREATE TABLE SECURITY_ROLE_REFERENCE ( ID integer, PORTLET_DEFINITION_ID integer, ROLE_NAME VARCHAR (150), ROLE_LINK VARCHAR (150), PRIMARY KEY(ID) )
drop table LOCALIZED_DESCRIPTION if exists
CREATE TABLE LOCALIZED_DESCRIPTION ( ID integer, OBJECT_ID integer, CLASS_NAME VARCHAR (255), DESCRIPTION VARCHAR, LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
drop table LOCALIZED_DISPLAY_NAME if exists
CREATE TABLE LOCALIZED_DISPLAY_NAME ( ID integer, OBJECT_ID integer, CLASS_NAME VARCHAR (255), DISPLAY_NAME VARCHAR, LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(1,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(2,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(3,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(5,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(6,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(7,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(12,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(16,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(20,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(21,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(22,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(23,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(26,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(27,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(28,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(32,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(33,'WML_1_0')
INSERT INTO CAPABILITY VALUES(34,'WML_1_1')
INSERT INTO CAPABILITY VALUES(35,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(36,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(37,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(38,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(39,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(40,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(41,'HTML_XML')
INSERT INTO CAPABILITY VALUES(42,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(43,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(1,'text/html')
INSERT INTO MIMETYPE VALUES(2,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(3,'text/vxml')
INSERT INTO MIMETYPE VALUES(4,'text/xml')
INSERT INTO MIMETYPE VALUES(5,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',1)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',1)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',1)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',1)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',2)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',2)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',2)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',2)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',2)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',3)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',3)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',4)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',1)
INSERT INTO MEDIA_TYPE VALUES(1,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(2,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(3,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(4,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,12)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,31)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,12)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,31)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,5)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,5)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(4,4)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table OJB_HL_SEQ if exists
CREATE TABLE OJB_HL_SEQ ( TABLENAME VARCHAR (175), FIELDNAME VARCHAR (70), MAX_KEY integer, GRAB_SIZE integer, VERSION integer, PRIMARY KEY(TABLENAME,FIELDNAME) )
drop table OJB_LOCKENTRY if exists
CREATE TABLE OJB_LOCKENTRY ( OID_ VARCHAR (250), TX_ID VARCHAR (50), TIMESTAMP_ timestamp, ISOLATIONLEVEL integer, LOCKTYPE integer, PRIMARY KEY(OID_,TX_ID) )
drop table OJB_NRM if exists
CREATE TABLE OJB_NRM ( NAME VARCHAR (250), OID_ LONGVARBINARY, PRIMARY KEY(NAME) )
drop table OJB_DLIST if exists
CREATE TABLE OJB_DLIST ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
drop table OJB_DLIST_ENTRIES if exists
CREATE TABLE OJB_DLIST_ENTRIES ( ID integer, DLIST_ID integer, POSITION_ integer, OID_ LONGVARBINARY, PRIMARY KEY(ID) )
drop table OJB_DSET if exists
CREATE TABLE OJB_DSET ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
drop table OJB_DSET_ENTRIES if exists
CREATE TABLE OJB_DSET_ENTRIES ( ID integer, DLIST_ID integer, POSITION_ integer, OID_ LONGVARBINARY, PRIMARY KEY(ID) )
drop table OJB_DMAP if exists
CREATE TABLE OJB_DMAP ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
drop table OJB_DMAP_ENTRIES if exists
CREATE TABLE OJB_DMAP_ENTRIES ( ID integer, DMAP_ID integer, KEY_OID BINARY, VALUE_OID BINARY, PRIMARY KEY(ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table MEDIA_TYPE if exists
CREATE TABLE MEDIA_TYPE ( MEDIATYPE_ID integer, NAME VARCHAR (80), CHARACTER_SET VARCHAR (40), TITLE VARCHAR (80), DESCRIPTION VARCHAR, PRIMARY KEY(MEDIATYPE_ID) )
drop table CLIENT if exists
CREATE TABLE CLIENT ( CLIENT_ID integer, NAME VARCHAR (80), USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR (80), VERSION VARCHAR (40), PREFERRED_MIMETYPE_ID integer, PRIMARY KEY(CLIENT_ID) )
drop table MIMETYPE if exists
CREATE TABLE MIMETYPE ( MIMETYPE_ID integer, NAME VARCHAR (80), PRIMARY KEY(MIMETYPE_ID) )
drop table CAPABILITY if exists
CREATE TABLE CAPABILITY ( CAPABILITY_ID integer, CAPABILITY VARCHAR (80), PRIMARY KEY(CAPABILITY_ID) )
drop table CLIENT_TO_CAPABILITY if exists
CREATE TABLE CLIENT_TO_CAPABILITY ( CLIENT_ID integer, CAPABILITY_ID integer )
drop table CLIENT_TO_MIMETYPE if exists
CREATE TABLE CLIENT_TO_MIMETYPE ( CLIENT_ID integer, MIMETYPE_ID integer )
drop table MEDIATYPE_TO_CAPABILITY if exists
CREATE TABLE MEDIATYPE_TO_CAPABILITY ( MEDIATYPE_ID integer, CAPABILITY_ID integer )
drop table MEDIATYPE_TO_MIMETYPE if exists
CREATE TABLE MEDIATYPE_TO_MIMETYPE ( MEDIATYPE_ID integer, MIMETYPE_ID integer )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table DESKTOP if exists
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR (80), TITLE VARCHAR (100), COMPONENT_NAME VARCHAR (100), ACL VARCHAR (80), DEFAULT_PAGE_ID VARCHAR (80), DEFAULT_THEME VARCHAR (100), DEFAULT_DECORATOR VARCHAR (100), DEFAULT_PORTLET_DECORATOR VARCHAR (100), PRIMARY KEY(DESKTOP_ID) )
drop table DESKTOP_PAGES if exists
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR (80), PAGE_ID VARCHAR (80) )
CREATE  INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
drop table SUB_PAGES if exists
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR (80), SUB_PAGE_ID VARCHAR (80) )
CREATE  INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
drop table PAGE if exists
CREATE TABLE PAGE ( PAGE_ID VARCHAR (80), TITLE VARCHAR (100), DEFAULT_SKIN VARCHAR (100), DEFAULT_DECORATOR VARCHAR (100), DEFAULT_PORTLET_DECORATOR VARCHAR (100), ACL VARCHAR (80), PRIMARY KEY(PAGE_ID) )
drop table FRAGMENT if exists
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR (80), COMPONENT_NAME VARCHAR (100), ACL VARCHAR (80), TITLE VARCHAR (100), TYPE VARCHAR (40), SKIN VARCHAR (80), DECORATOR VARCHAR (80), STATE VARCHAR (40), PRIMARY KEY(FRAGMENT_ID) )
drop table PAGE_FRAGMENTS if exists
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80) )
CREATE  INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
drop table SUB_FRAGMENTS if exists
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR (80), SUB_FRAGMENT_ID VARCHAR (80) )
CREATE  INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
drop table FRAGMENT_PARAMETER if exists
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID integer, FRAGMENT_ID integer, NAME VARCHAR (80), VALUE VARCHAR, PRIMARY KEY(PARAMETER_ID), UNIQUE (FRAGMENT_ID, PARAMETER_ID) )
drop table FRAGMENT_REF if exists
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80), NAME VARCHAR (80), TITLE VARCHAR (100), PRIMARY KEY(FRAGMENT_REF_ID) )
drop table FRAGMENT_REFS if exists
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80) )
drop table PROFILING_RULE if exists
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR (80), CLASS_NAME VARCHAR (100), TITLE VARCHAR (100), PRIMARY KEY(RULE_ID) )
drop table RULE_CRITERION if exists
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR (80), RULE_ID VARCHAR (80), FALLBACK_ORDER integer, REQUEST_TYPE VARCHAR (40), NAME VARCHAR (80), VALUE VARCHAR (128), FALLBACK_TYPE integer, PRIMARY KEY(CRITERION_ID) )
CREATE  INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION (RULE_ID, FALLBACK_ORDER)
drop table PRINCIPAL_RULE_ASSOC if exists
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR (80), RULE_ID VARCHAR (80) )
drop table PROFILE_DESKTOP_ASSOC if exists
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR (40), DESKTOP_ID VARCHAR (80), UNIQUE (LOCATOR_HASH, DESKTOP_ID) )
drop table PROFILE_PAGE_ASSOC if exists
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR (40), PAGE_ID VARCHAR (80), UNIQUE (LOCATOR_HASH, PAGE_ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table PA_METADATA if exists
CREATE TABLE PA_METADATA ( ID integer, PRIMARY KEY(ID) )
drop table PA_METADATA_FIELDS if exists
CREATE TABLE PA_METADATA_FIELDS ( ID integer, OBJECT_ID integer, VALUE VARCHAR, NAME VARCHAR (100), LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
drop table PORTLET_APPLICATION if exists
CREATE TABLE PORTLET_APPLICATION ( APPLICATION_ID integer, APP_NAME VARCHAR (80), APP_IDENTIFIER VARCHAR (80), VERSION VARCHAR (80), APP_TYPE integer, DESCRIPTION VARCHAR (80), WEB_APP_ID integer, METADATA_ID integer, PRIMARY KEY(APPLICATION_ID), UNIQUE (APP_NAME) )
drop table WEB_APPLICATION if exists
CREATE TABLE WEB_APPLICATION ( ID integer, CONTEXT_ROOT VARCHAR (255), PRIMARY KEY(ID) )
drop table PORTLET_DEFINITION if exists
CREATE TABLE PORTLET_DEFINITION ( ID integer, NAME VARCHAR (80), CLASS_NAME VARCHAR (100), APPLICATION_ID integer, PORTLET_IDENTIFIER VARCHAR (80), EXPIRATION_CACHE VARCHAR (30), PREFERENCE_VALIDATOR VARCHAR (255), PRIMARY KEY(ID) )
drop table LANGUAGE if exists
CREATE TABLE LANGUAGE ( ID integer, PORTLET_ID integer, TITLE VARCHAR (100), SHORT_TITLE VARCHAR (50), LOCALE_STRING VARCHAR (50), KEYWORDS VARCHAR, PRIMARY KEY(ID) )
drop table PORTLET_CONTENT_TYPE if exists
CREATE TABLE PORTLET_CONTENT_TYPE ( CONTENT_TYPE_ID integer, PORTLET_ID integer, CONTENT_TYPE VARCHAR (30), MODES VARCHAR, PRIMARY KEY(CONTENT_TYPE_ID) )
drop table PARAMETER if exists
CREATE TABLE PARAMETER ( PARAMETER_ID integer, PARENT_ID integer, CLASS_NAME VARCHAR (30), NAME VARCHAR (80), PARAMETER_VALUE VARCHAR, PRIMARY KEY(PARAMETER_ID) )
drop table PORTLET_PREFERENCE if exists
CREATE TABLE PORTLET_PREFERENCE ( ID integer, PARENT_ID integer, NAME VARCHAR (80), CLASS_NAME VARCHAR (50), READ_ONLY VARCHAR (1), PRIMARY KEY(ID) )
drop table PREFERENCE_VALUE if exists
CREATE TABLE PREFERENCE_VALUE ( ID integer, PREFERENCE_ID integer, VALUE VARCHAR, PRIMARY KEY(ID) )
drop table PORTLET_ENTITY if exists
CREATE TABLE PORTLET_ENTITY ( ID integer, PORTLET_DEFINITION_ID integer, GUID VARCHAR (255), PRIMARY KEY(ID) )
drop table SECURITY_ROLE_REFERENCE if exists
CREATE TABLE SECURITY_ROLE_REFERENCE ( ID integer, PORTLET_DEFINITION_ID integer, ROLE_NAME VARCHAR (150), ROLE_LINK VARCHAR (150), PRIMARY KEY(ID) )
drop table LOCALIZED_DESCRIPTION if exists
CREATE TABLE LOCALIZED_DESCRIPTION ( ID integer, OBJECT_ID integer, CLASS_NAME VARCHAR (255), DESCRIPTION VARCHAR, LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
drop table LOCALIZED_DISPLAY_NAME if exists
CREATE TABLE LOCALIZED_DISPLAY_NAME ( ID integer, OBJECT_ID integer, CLASS_NAME VARCHAR (255), DISPLAY_NAME VARCHAR, LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(1,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(2,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(3,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(5,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(6,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(7,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(12,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(16,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(20,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(21,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(22,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(23,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(26,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(27,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(28,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(32,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(33,'WML_1_0')
INSERT INTO CAPABILITY VALUES(34,'WML_1_1')
INSERT INTO CAPABILITY VALUES(35,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(36,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(37,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(38,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(39,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(40,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(41,'HTML_XML')
INSERT INTO CAPABILITY VALUES(42,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(43,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(1,'text/html')
INSERT INTO MIMETYPE VALUES(2,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(3,'text/vxml')
INSERT INTO MIMETYPE VALUES(4,'text/xml')
INSERT INTO MIMETYPE VALUES(5,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',1)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',1)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',1)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',1)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',2)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',2)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',2)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',2)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',2)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',3)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',3)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',4)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',1)
INSERT INTO MEDIA_TYPE VALUES(1,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(2,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(3,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(4,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,12)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,31)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,12)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,31)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,5)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,5)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(4,4)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table OJB_HL_SEQ if exists
CREATE TABLE OJB_HL_SEQ ( TABLENAME VARCHAR (175), FIELDNAME VARCHAR (70), MAX_KEY integer, GRAB_SIZE integer, VERSION integer, PRIMARY KEY(TABLENAME,FIELDNAME) )
drop table OJB_LOCKENTRY if exists
CREATE TABLE OJB_LOCKENTRY ( OID_ VARCHAR (250), TX_ID VARCHAR (50), TIMESTAMP_ timestamp, ISOLATIONLEVEL integer, LOCKTYPE integer, PRIMARY KEY(OID_,TX_ID) )
drop table OJB_NRM if exists
CREATE TABLE OJB_NRM ( NAME VARCHAR (250), OID_ LONGVARBINARY, PRIMARY KEY(NAME) )
drop table OJB_DLIST if exists
CREATE TABLE OJB_DLIST ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
drop table OJB_DLIST_ENTRIES if exists
CREATE TABLE OJB_DLIST_ENTRIES ( ID integer, DLIST_ID integer, POSITION_ integer, OID_ LONGVARBINARY, PRIMARY KEY(ID) )
drop table OJB_DSET if exists
CREATE TABLE OJB_DSET ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
drop table OJB_DSET_ENTRIES if exists
CREATE TABLE OJB_DSET_ENTRIES ( ID integer, DLIST_ID integer, POSITION_ integer, OID_ LONGVARBINARY, PRIMARY KEY(ID) )
drop table OJB_DMAP if exists
CREATE TABLE OJB_DMAP ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
drop table OJB_DMAP_ENTRIES if exists
CREATE TABLE OJB_DMAP_ENTRIES ( ID integer, DMAP_ID integer, KEY_OID BINARY, VALUE_OID BINARY, PRIMARY KEY(ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table MEDIA_TYPE if exists
CREATE TABLE MEDIA_TYPE ( MEDIATYPE_ID integer, NAME VARCHAR (80), CHARACTER_SET VARCHAR (40), TITLE VARCHAR (80), DESCRIPTION VARCHAR, PRIMARY KEY(MEDIATYPE_ID) )
drop table CLIENT if exists
CREATE TABLE CLIENT ( CLIENT_ID integer, NAME VARCHAR (80), USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR (80), VERSION VARCHAR (40), PREFERRED_MIMETYPE_ID integer, PRIMARY KEY(CLIENT_ID) )
drop table MIMETYPE if exists
CREATE TABLE MIMETYPE ( MIMETYPE_ID integer, NAME VARCHAR (80), PRIMARY KEY(MIMETYPE_ID) )
drop table CAPABILITY if exists
CREATE TABLE CAPABILITY ( CAPABILITY_ID integer, CAPABILITY VARCHAR (80), PRIMARY KEY(CAPABILITY_ID) )
drop table CLIENT_TO_CAPABILITY if exists
CREATE TABLE CLIENT_TO_CAPABILITY ( CLIENT_ID integer, CAPABILITY_ID integer )
drop table CLIENT_TO_MIMETYPE if exists
CREATE TABLE CLIENT_TO_MIMETYPE ( CLIENT_ID integer, MIMETYPE_ID integer )
drop table MEDIATYPE_TO_CAPABILITY if exists
CREATE TABLE MEDIATYPE_TO_CAPABILITY ( MEDIATYPE_ID integer, CAPABILITY_ID integer )
drop table MEDIATYPE_TO_MIMETYPE if exists
CREATE TABLE MEDIATYPE_TO_MIMETYPE ( MEDIATYPE_ID integer, MIMETYPE_ID integer )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table DESKTOP if exists
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR (80), TITLE VARCHAR (100), COMPONENT_NAME VARCHAR (100), ACL VARCHAR (80), DEFAULT_PAGE_ID VARCHAR (80), DEFAULT_THEME VARCHAR (100), DEFAULT_DECORATOR VARCHAR (100), DEFAULT_PORTLET_DECORATOR VARCHAR (100), PRIMARY KEY(DESKTOP_ID) )
drop table DESKTOP_PAGES if exists
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR (80), PAGE_ID VARCHAR (80) )
CREATE  INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
drop table SUB_PAGES if exists
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR (80), SUB_PAGE_ID VARCHAR (80) )
CREATE  INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
drop table PAGE if exists
CREATE TABLE PAGE ( PAGE_ID VARCHAR (80), TITLE VARCHAR (100), DEFAULT_SKIN VARCHAR (100), DEFAULT_DECORATOR VARCHAR (100), DEFAULT_PORTLET_DECORATOR VARCHAR (100), ACL VARCHAR (80), PRIMARY KEY(PAGE_ID) )
drop table FRAGMENT if exists
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR (80), COMPONENT_NAME VARCHAR (100), ACL VARCHAR (80), TITLE VARCHAR (100), TYPE VARCHAR (40), SKIN VARCHAR (80), DECORATOR VARCHAR (80), STATE VARCHAR (40), PRIMARY KEY(FRAGMENT_ID) )
drop table PAGE_FRAGMENTS if exists
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80) )
CREATE  INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
drop table SUB_FRAGMENTS if exists
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR (80), SUB_FRAGMENT_ID VARCHAR (80) )
CREATE  INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
drop table FRAGMENT_PARAMETER if exists
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID integer, FRAGMENT_ID integer, NAME VARCHAR (80), VALUE VARCHAR, PRIMARY KEY(PARAMETER_ID), UNIQUE (FRAGMENT_ID, PARAMETER_ID) )
drop table FRAGMENT_REF if exists
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80), NAME VARCHAR (80), TITLE VARCHAR (100), PRIMARY KEY(FRAGMENT_REF_ID) )
drop table FRAGMENT_REFS if exists
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80) )
drop table PROFILING_RULE if exists
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR (80), CLASS_NAME VARCHAR (100), TITLE VARCHAR (100), PRIMARY KEY(RULE_ID) )
drop table RULE_CRITERION if exists
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR (80), RULE_ID VARCHAR (80), FALLBACK_ORDER integer, REQUEST_TYPE VARCHAR (40), NAME VARCHAR (80), VALUE VARCHAR (128), FALLBACK_TYPE integer, PRIMARY KEY(CRITERION_ID) )
CREATE  INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION (RULE_ID, FALLBACK_ORDER)
drop table PRINCIPAL_RULE_ASSOC if exists
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR (80), RULE_ID VARCHAR (80) )
drop table PROFILE_DESKTOP_ASSOC if exists
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR (40), DESKTOP_ID VARCHAR (80), UNIQUE (LOCATOR_HASH, DESKTOP_ID) )
drop table PROFILE_PAGE_ASSOC if exists
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR (40), PAGE_ID VARCHAR (80), UNIQUE (LOCATOR_HASH, PAGE_ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table PA_METADATA if exists
CREATE TABLE PA_METADATA ( ID integer, PRIMARY KEY(ID) )
drop table PA_METADATA_FIELDS if exists
CREATE TABLE PA_METADATA_FIELDS ( ID integer, OBJECT_ID integer, VALUE VARCHAR, NAME VARCHAR (100), LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
drop table PORTLET_APPLICATION if exists
CREATE TABLE PORTLET_APPLICATION ( APPLICATION_ID integer, APP_NAME VARCHAR (80), APP_IDENTIFIER VARCHAR (80), VERSION VARCHAR (80), APP_TYPE integer, DESCRIPTION VARCHAR (80), WEB_APP_ID integer, METADATA_ID integer, PRIMARY KEY(APPLICATION_ID), UNIQUE (APP_NAME) )
drop table WEB_APPLICATION if exists
CREATE TABLE WEB_APPLICATION ( ID integer, CONTEXT_ROOT VARCHAR (255), PRIMARY KEY(ID) )
drop table PORTLET_DEFINITION if exists
CREATE TABLE PORTLET_DEFINITION ( ID integer, NAME VARCHAR (80), CLASS_NAME VARCHAR (100), APPLICATION_ID integer, PORTLET_IDENTIFIER VARCHAR (80), EXPIRATION_CACHE VARCHAR (30), PREFERENCE_VALIDATOR VARCHAR (255), PRIMARY KEY(ID) )
drop table LANGUAGE if exists
CREATE TABLE LANGUAGE ( ID integer, PORTLET_ID integer, TITLE VARCHAR (100), SHORT_TITLE VARCHAR (50), LOCALE_STRING VARCHAR (50), KEYWORDS VARCHAR, PRIMARY KEY(ID) )
drop table PORTLET_CONTENT_TYPE if exists
CREATE TABLE PORTLET_CONTENT_TYPE ( CONTENT_TYPE_ID integer, PORTLET_ID integer, CONTENT_TYPE VARCHAR (30), MODES VARCHAR, PRIMARY KEY(CONTENT_TYPE_ID) )
drop table PARAMETER if exists
CREATE TABLE PARAMETER ( PARAMETER_ID integer, PARENT_ID integer, CLASS_NAME VARCHAR (30), NAME VARCHAR (80), PARAMETER_VALUE VARCHAR, PRIMARY KEY(PARAMETER_ID) )
drop table PORTLET_PREFERENCE if exists
CREATE TABLE PORTLET_PREFERENCE ( ID integer, PARENT_ID integer, NAME VARCHAR (80), CLASS_NAME VARCHAR (50), READ_ONLY VARCHAR (1), PRIMARY KEY(ID) )
drop table PREFERENCE_VALUE if exists
CREATE TABLE PREFERENCE_VALUE ( ID integer, PREFERENCE_ID integer, VALUE VARCHAR, PRIMARY KEY(ID) )
drop table PORTLET_ENTITY if exists
CREATE TABLE PORTLET_ENTITY ( ID integer, PORTLET_DEFINITION_ID integer, GUID VARCHAR (255), PRIMARY KEY(ID) )
drop table SECURITY_ROLE_REFERENCE if exists
CREATE TABLE SECURITY_ROLE_REFERENCE ( ID integer, PORTLET_DEFINITION_ID integer, ROLE_NAME VARCHAR (150), ROLE_LINK VARCHAR (150), PRIMARY KEY(ID) )
drop table LOCALIZED_DESCRIPTION if exists
CREATE TABLE LOCALIZED_DESCRIPTION ( ID integer, OBJECT_ID integer, CLASS_NAME VARCHAR (255), DESCRIPTION VARCHAR, LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
drop table LOCALIZED_DISPLAY_NAME if exists
CREATE TABLE LOCALIZED_DISPLAY_NAME ( ID integer, OBJECT_ID integer, CLASS_NAME VARCHAR (255), DISPLAY_NAME VARCHAR, LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table PREF_PROPERTY_SET_DEF if exists
CREATE TABLE PREF_PROPERTY_SET_DEF ( PROPERTY_SET_DEF_ID integer, PROPERTY_SET_NAME VARCHAR (100), PROPERTY_SET_TYPE SMALLINT, CREATION_DATE timestamp, MODIFIED_DATE timestamp, PRIMARY KEY(PROPERTY_SET_DEF_ID) )
drop table PREF_NODE if exists
CREATE TABLE PREF_NODE ( NODE_ID integer, PARENT_NODE_ID integer, PROPERTY_SET_DEF_ID integer, NODE_NAME VARCHAR (100), NODE_TYPE SMALLINT, FULL_PATH VARCHAR (254), CREATION_DATE timestamp, MODIFIED_DATE timestamp, PRIMARY KEY(NODE_ID) )
drop table PREF_PROPERTY_VALUE if exists
CREATE TABLE PREF_PROPERTY_VALUE ( PROPERTY_VALUE_ID integer, PROPERTY_KEY_ID integer, NODE_ID integer, BOOLEAN_VALUE BIT, DATETIME_VALUE timestamp, LONG_VALUE integer, DOUBLE_VALUE DOUBLE, TEXT_VALUE VARCHAR (254), CREATION_DATE timestamp, MODIFIED_DATE timestamp, PRIMARY KEY(PROPERTY_VALUE_ID) )
drop table PREF_PROPERTY_KEY if exists
CREATE TABLE PREF_PROPERTY_KEY ( PROPERTY_KEY_ID integer, PROPERTY_SET_DEF_ID integer, PROPERTY_NAME VARCHAR (100), PROPERTY_TYPE SMALLINT, CREATION_DATE timestamp, MODIFIED_DATE timestamp, PRIMARY KEY(PROPERTY_KEY_ID) )
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_1 FOREIGN KEY (PROPERTY_SET_DEF_ID) REFERENCES PREF_PROPERTY_SET_DEF (PROPERTY_SET_DEF_ID)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_2 FOREIGN KEY (PARENT_NODE_ID) REFERENCES PREF_NODE (NODE_ID)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_1 FOREIGN KEY (PROPERTY_KEY_ID) REFERENCES PREF_PROPERTY_KEY (PROPERTY_KEY_ID)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_2 FOREIGN KEY (NODE_ID) REFERENCES PREF_NODE (NODE_ID)
ALTER TABLE PREF_PROPERTY_KEY ADD CONSTRAINT PREF_PROPERTY_KEY_FK_1 FOREIGN KEY (PROPERTY_SET_DEF_ID) REFERENCES PREF_PROPERTY_SET_DEF (PROPERTY_SET_DEF_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table SECURITY_PRINCIPAL if exists
CREATE TABLE SECURITY_PRINCIPAL ( PRINCIPAL_ID integer, CLASSNAME VARCHAR (254), FULL_PATH VARCHAR (254), CREATION_DATE timestamp, MODIFIED_DATE timestamp, PRIMARY KEY(PRINCIPAL_ID) )
drop table SECURITY_CREDENTIAL if exists
CREATE TABLE SECURITY_CREDENTIAL ( CREDENTIAL_ID integer, PRINCIPAL_ID integer, VALUE VARCHAR (254), TYPE SMALLINT, CLASSNAME VARCHAR (254), CREATION_DATE timestamp, MODIFIED_DATE timestamp, PRIMARY KEY(CREDENTIAL_ID) )
drop table SECURITY_USER_ROLE if exists
CREATE TABLE SECURITY_USER_ROLE ( USER_ID integer, ROLE_ID integer, PRIMARY KEY(USER_ID,ROLE_ID) )
drop table SECURITY_USER_GROUP if exists
CREATE TABLE SECURITY_USER_GROUP ( USER_ID integer, GROUP_ID integer, PRIMARY KEY(USER_ID,GROUP_ID) )
drop table SECURITY_GROUP_ROLE if exists
CREATE TABLE SECURITY_GROUP_ROLE ( GROUP_ID integer, ROLE_ID integer, PRIMARY KEY(GROUP_ID,ROLE_ID) )
drop table SECURITY_PERMISSION if exists
CREATE TABLE SECURITY_PERMISSION ( PERMISSION_ID integer, CLASSNAME VARCHAR (254), NAME VARCHAR (254), ACTIONS VARCHAR (254), CREATION_DATE timestamp, MODIFIED_DATE timestamp, PRIMARY KEY(PERMISSION_ID) )
drop table SECURITY_PRINCIPAL_PERMISSION if exists
CREATE TABLE SECURITY_PRINCIPAL_PERMISSION ( PRINCIPAL_ID integer, PERMISSION_ID integer, PRIMARY KEY(PRINCIPAL_ID,PERMISSION_ID) )
ALTER TABLE SECURITY_CREDENTIAL ADD CONSTRAINT SECURITY_CREDENTIAL_FK_1 FOREIGN KEY (PRINCIPAL_ID) REFERENCES SECURITY_PRINCIPAL (PRINCIPAL_ID)
ALTER TABLE SECURITY_USER_ROLE ADD CONSTRAINT SECURITY_USER_ROLE_FK_1 FOREIGN KEY (ROLE_ID) REFERENCES SECURITY_PRINCIPAL (PRINCIPAL_ID)
ALTER TABLE SECURITY_USER_ROLE ADD CONSTRAINT SECURITY_USER_ROLE_FK_2 FOREIGN KEY (USER_ID) REFERENCES SECURITY_PRINCIPAL (PRINCIPAL_ID)
ALTER TABLE SECURITY_USER_GROUP ADD CONSTRAINT SECURITY_USER_GROUP_FK_1 FOREIGN KEY (GROUP_ID) REFERENCES SECURITY_PRINCIPAL (PRINCIPAL_ID)
ALTER TABLE SECURITY_USER_GROUP ADD CONSTRAINT SECURITY_USER_GROUP_FK_2 FOREIGN KEY (USER_ID) REFERENCES SECURITY_PRINCIPAL (PRINCIPAL_ID)
ALTER TABLE SECURITY_GROUP_ROLE ADD CONSTRAINT SECURITY_GROUP_ROLE_FK_1 FOREIGN KEY (GROUP_ID) REFERENCES SECURITY_PRINCIPAL (PRINCIPAL_ID)
ALTER TABLE SECURITY_GROUP_ROLE ADD CONSTRAINT SECURITY_GROUP_ROLE_FK_2 FOREIGN KEY (ROLE_ID) REFERENCES SECURITY_PRINCIPAL (PRINCIPAL_ID)
ALTER TABLE SECURITY_PRINCIPAL_PERMISSION ADD CONSTRAINT SECURITY_PRINCIPAL_PERMISSION_FK_1 FOREIGN KEY (PERMISSION_ID) REFERENCES SECURITY_PERMISSION (PERMISSION_ID)
ALTER TABLE SECURITY_PRINCIPAL_PERMISSION ADD CONSTRAINT SECURITY_PRINCIPAL_PERMISSION_FK_2 FOREIGN KEY (PRINCIPAL_ID) REFERENCES SECURITY_PRINCIPAL (PRINCIPAL_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(1,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(2,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(3,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(5,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(6,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(7,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(12,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(16,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(20,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(21,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(22,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(23,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(26,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(27,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(28,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(32,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(33,'WML_1_0')
INSERT INTO CAPABILITY VALUES(34,'WML_1_1')
INSERT INTO CAPABILITY VALUES(35,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(36,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(37,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(38,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(39,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(40,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(41,'HTML_XML')
INSERT INTO CAPABILITY VALUES(42,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(43,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(1,'text/html')
INSERT INTO MIMETYPE VALUES(2,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(3,'text/vxml')
INSERT INTO MIMETYPE VALUES(4,'text/xml')
INSERT INTO MIMETYPE VALUES(5,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',1)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',1)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',1)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',1)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',2)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',2)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',2)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',2)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',2)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',3)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',3)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',4)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',1)
INSERT INTO MEDIA_TYPE VALUES(1,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(2,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(3,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(4,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,12)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,31)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,12)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,31)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,5)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,5)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(4,4)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table OJB_HL_SEQ if exists
CREATE TABLE OJB_HL_SEQ ( TABLENAME VARCHAR (175), FIELDNAME VARCHAR (70), MAX_KEY integer, GRAB_SIZE integer, VERSION integer, PRIMARY KEY(TABLENAME,FIELDNAME) )
drop table OJB_LOCKENTRY if exists
CREATE TABLE OJB_LOCKENTRY ( OID_ VARCHAR (250), TX_ID VARCHAR (50), TIMESTAMP_ timestamp, ISOLATIONLEVEL integer, LOCKTYPE integer, PRIMARY KEY(OID_,TX_ID) )
drop table OJB_NRM if exists
CREATE TABLE OJB_NRM ( NAME VARCHAR (250), OID_ LONGVARBINARY, PRIMARY KEY(NAME) )
drop table OJB_DLIST if exists
CREATE TABLE OJB_DLIST ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
drop table OJB_DLIST_ENTRIES if exists
CREATE TABLE OJB_DLIST_ENTRIES ( ID integer, DLIST_ID integer, POSITION_ integer, OID_ LONGVARBINARY, PRIMARY KEY(ID) )
drop table OJB_DSET if exists
CREATE TABLE OJB_DSET ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
drop table OJB_DSET_ENTRIES if exists
CREATE TABLE OJB_DSET_ENTRIES ( ID integer, DLIST_ID integer, POSITION_ integer, OID_ LONGVARBINARY, PRIMARY KEY(ID) )
drop table OJB_DMAP if exists
CREATE TABLE OJB_DMAP ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
drop table OJB_DMAP_ENTRIES if exists
CREATE TABLE OJB_DMAP_ENTRIES ( ID integer, DMAP_ID integer, KEY_OID BINARY, VALUE_OID BINARY, PRIMARY KEY(ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table MEDIA_TYPE if exists
CREATE TABLE MEDIA_TYPE ( MEDIATYPE_ID integer, NAME VARCHAR (80), CHARACTER_SET VARCHAR (40), TITLE VARCHAR (80), DESCRIPTION VARCHAR, PRIMARY KEY(MEDIATYPE_ID) )
drop table CLIENT if exists
CREATE TABLE CLIENT ( CLIENT_ID integer, NAME VARCHAR (80), USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR (80), VERSION VARCHAR (40), PREFERRED_MIMETYPE_ID integer, PRIMARY KEY(CLIENT_ID) )
drop table MIMETYPE if exists
CREATE TABLE MIMETYPE ( MIMETYPE_ID integer, NAME VARCHAR (80), PRIMARY KEY(MIMETYPE_ID) )
drop table CAPABILITY if exists
CREATE TABLE CAPABILITY ( CAPABILITY_ID integer, CAPABILITY VARCHAR (80), PRIMARY KEY(CAPABILITY_ID) )
drop table CLIENT_TO_CAPABILITY if exists
CREATE TABLE CLIENT_TO_CAPABILITY ( CLIENT_ID integer, CAPABILITY_ID integer )
drop table CLIENT_TO_MIMETYPE if exists
CREATE TABLE CLIENT_TO_MIMETYPE ( CLIENT_ID integer, MIMETYPE_ID integer )
drop table MEDIATYPE_TO_CAPABILITY if exists
CREATE TABLE MEDIATYPE_TO_CAPABILITY ( MEDIATYPE_ID integer, CAPABILITY_ID integer )
drop table MEDIATYPE_TO_MIMETYPE if exists
CREATE TABLE MEDIATYPE_TO_MIMETYPE ( MEDIATYPE_ID integer, MIMETYPE_ID integer )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table DESKTOP if exists
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR (80), TITLE VARCHAR (100), COMPONENT_NAME VARCHAR (100), ACL VARCHAR (80), DEFAULT_PAGE_ID VARCHAR (80), DEFAULT_THEME VARCHAR (100), DEFAULT_DECORATOR VARCHAR (100), DEFAULT_PORTLET_DECORATOR VARCHAR (100), PRIMARY KEY(DESKTOP_ID) )
drop table DESKTOP_PAGES if exists
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR (80), PAGE_ID VARCHAR (80) )
CREATE  INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
drop table SUB_PAGES if exists
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR (80), SUB_PAGE_ID VARCHAR (80) )
CREATE  INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
drop table PAGE if exists
CREATE TABLE PAGE ( PAGE_ID VARCHAR (80), TITLE VARCHAR (100), DEFAULT_SKIN VARCHAR (100), DEFAULT_DECORATOR VARCHAR (100), DEFAULT_PORTLET_DECORATOR VARCHAR (100), ACL VARCHAR (80), PRIMARY KEY(PAGE_ID) )
drop table FRAGMENT if exists
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR (80), COMPONENT_NAME VARCHAR (100), ACL VARCHAR (80), TITLE VARCHAR (100), TYPE VARCHAR (40), SKIN VARCHAR (80), DECORATOR VARCHAR (80), STATE VARCHAR (40), PRIMARY KEY(FRAGMENT_ID) )
drop table PAGE_FRAGMENTS if exists
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80) )
CREATE  INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
drop table SUB_FRAGMENTS if exists
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR (80), SUB_FRAGMENT_ID VARCHAR (80) )
CREATE  INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
drop table FRAGMENT_PARAMETER if exists
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID integer, FRAGMENT_ID integer, NAME VARCHAR (80), VALUE VARCHAR, PRIMARY KEY(PARAMETER_ID), UNIQUE (FRAGMENT_ID, PARAMETER_ID) )
drop table FRAGMENT_REF if exists
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80), NAME VARCHAR (80), TITLE VARCHAR (100), PRIMARY KEY(FRAGMENT_REF_ID) )
drop table FRAGMENT_REFS if exists
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80) )
drop table PROFILING_RULE if exists
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR (80), CLASS_NAME VARCHAR (100), TITLE VARCHAR (100), PRIMARY KEY(RULE_ID) )
drop table RULE_CRITERION if exists
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR (80), RULE_ID VARCHAR (80), FALLBACK_ORDER integer, REQUEST_TYPE VARCHAR (40), NAME VARCHAR (80), VALUE VARCHAR (128), FALLBACK_TYPE integer, PRIMARY KEY(CRITERION_ID) )
CREATE  INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION (RULE_ID, FALLBACK_ORDER)
drop table PRINCIPAL_RULE_ASSOC if exists
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR (80), RULE_ID VARCHAR (80) )
drop table PROFILE_DESKTOP_ASSOC if exists
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR (40), DESKTOP_ID VARCHAR (80), UNIQUE (LOCATOR_HASH, DESKTOP_ID) )
drop table PROFILE_PAGE_ASSOC if exists
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR (40), PAGE_ID VARCHAR (80), UNIQUE (LOCATOR_HASH, PAGE_ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table PA_METADATA if exists
CREATE TABLE PA_METADATA ( ID integer, PRIMARY KEY(ID) )
drop table PA_METADATA_FIELDS if exists
CREATE TABLE PA_METADATA_FIELDS ( ID integer, OBJECT_ID integer, VALUE VARCHAR, NAME VARCHAR (100), LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
drop table PORTLET_APPLICATION if exists
CREATE TABLE PORTLET_APPLICATION ( APPLICATION_ID integer, APP_NAME VARCHAR (80), APP_IDENTIFIER VARCHAR (80), VERSION VARCHAR (80), APP_TYPE integer, DESCRIPTION VARCHAR (80), WEB_APP_ID integer, METADATA_ID integer, PRIMARY KEY(APPLICATION_ID), UNIQUE (APP_NAME) )
drop table WEB_APPLICATION if exists
CREATE TABLE WEB_APPLICATION ( ID integer, CONTEXT_ROOT VARCHAR (255), PRIMARY KEY(ID) )
drop table PORTLET_DEFINITION if exists
CREATE TABLE PORTLET_DEFINITION ( ID integer, NAME VARCHAR (80), CLASS_NAME VARCHAR (100), APPLICATION_ID integer, PORTLET_IDENTIFIER VARCHAR (80), EXPIRATION_CACHE VARCHAR (30), PREFERENCE_VALIDATOR VARCHAR (255), PRIMARY KEY(ID) )
drop table LANGUAGE if exists
CREATE TABLE LANGUAGE ( ID integer, PORTLET_ID integer, TITLE VARCHAR (100), SHORT_TITLE VARCHAR (50), LOCALE_STRING VARCHAR (50), KEYWORDS VARCHAR, PRIMARY KEY(ID) )
drop table PORTLET_CONTENT_TYPE if exists
CREATE TABLE PORTLET_CONTENT_TYPE ( CONTENT_TYPE_ID integer, PORTLET_ID integer, CONTENT_TYPE VARCHAR (30), MODES VARCHAR, PRIMARY KEY(CONTENT_TYPE_ID) )
drop table PARAMETER if exists
CREATE TABLE PARAMETER ( PARAMETER_ID integer, PARENT_ID integer, CLASS_NAME VARCHAR (30), NAME VARCHAR (80), PARAMETER_VALUE VARCHAR, PRIMARY KEY(PARAMETER_ID) )
drop table PORTLET_PREFERENCE if exists
CREATE TABLE PORTLET_PREFERENCE ( ID integer, PARENT_ID integer, NAME VARCHAR (80), CLASS_NAME VARCHAR (50), READ_ONLY VARCHAR (1), PRIMARY KEY(ID) )
drop table PREFERENCE_VALUE if exists
CREATE TABLE PREFERENCE_VALUE ( ID integer, PREFERENCE_ID integer, VALUE VARCHAR, PRIMARY KEY(ID) )
drop table PORTLET_ENTITY if exists
CREATE TABLE PORTLET_ENTITY ( ID integer, PORTLET_DEFINITION_ID integer, GUID VARCHAR (255), PRIMARY KEY(ID) )
drop table SECURITY_ROLE_REFERENCE if exists
CREATE TABLE SECURITY_ROLE_REFERENCE ( ID integer, PORTLET_DEFINITION_ID integer, ROLE_NAME VARCHAR (150), ROLE_LINK VARCHAR (150), PRIMARY KEY(ID) )
drop table LOCALIZED_DESCRIPTION if exists
CREATE TABLE LOCALIZED_DESCRIPTION ( ID integer, OBJECT_ID integer, CLASS_NAME VARCHAR (255), DESCRIPTION VARCHAR, LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
drop table LOCALIZED_DISPLAY_NAME if exists
CREATE TABLE LOCALIZED_DISPLAY_NAME ( ID integer, OBJECT_ID integer, CLASS_NAME VARCHAR (255), DISPLAY_NAME VARCHAR, LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
ROLLBACK
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table OJB_HL_SEQ if exists
CREATE TABLE OJB_HL_SEQ ( TABLENAME VARCHAR (175), FIELDNAME VARCHAR (70), MAX_KEY integer, GRAB_SIZE integer, VERSION integer, PRIMARY KEY(TABLENAME,FIELDNAME) )
drop table OJB_LOCKENTRY if exists
CREATE TABLE OJB_LOCKENTRY ( OID_ VARCHAR (250), TX_ID VARCHAR (50), TIMESTAMP_ timestamp, ISOLATIONLEVEL integer, LOCKTYPE integer, PRIMARY KEY(OID_,TX_ID) )
drop table OJB_NRM if exists
CREATE TABLE OJB_NRM ( NAME VARCHAR (250), OID_ LONGVARBINARY, PRIMARY KEY(NAME) )
drop table OJB_DLIST if exists
CREATE TABLE OJB_DLIST ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
drop table OJB_DLIST_ENTRIES if exists
CREATE TABLE OJB_DLIST_ENTRIES ( ID integer, DLIST_ID integer, POSITION_ integer, OID_ LONGVARBINARY, PRIMARY KEY(ID) )
drop table OJB_DSET if exists
CREATE TABLE OJB_DSET ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
drop table OJB_DSET_ENTRIES if exists
CREATE TABLE OJB_DSET_ENTRIES ( ID integer, DLIST_ID integer, POSITION_ integer, OID_ LONGVARBINARY, PRIMARY KEY(ID) )
drop table OJB_DMAP if exists
CREATE TABLE OJB_DMAP ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
drop table OJB_DMAP_ENTRIES if exists
CREATE TABLE OJB_DMAP_ENTRIES ( ID integer, DMAP_ID integer, KEY_OID BINARY, VALUE_OID BINARY, PRIMARY KEY(ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table MEDIA_TYPE if exists
CREATE TABLE MEDIA_TYPE ( MEDIATYPE_ID integer, NAME VARCHAR (80), CHARACTER_SET VARCHAR (40), TITLE VARCHAR (80), DESCRIPTION VARCHAR, PRIMARY KEY(MEDIATYPE_ID) )
drop table CLIENT if exists
CREATE TABLE CLIENT ( CLIENT_ID integer, NAME VARCHAR (80), USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR (80), VERSION VARCHAR (40), PREFERRED_MIMETYPE_ID integer, PRIMARY KEY(CLIENT_ID) )
drop table MIMETYPE if exists
CREATE TABLE MIMETYPE ( MIMETYPE_ID integer, NAME VARCHAR (80), PRIMARY KEY(MIMETYPE_ID) )
drop table CAPABILITY if exists
CREATE TABLE CAPABILITY ( CAPABILITY_ID integer, CAPABILITY VARCHAR (80), PRIMARY KEY(CAPABILITY_ID) )
drop table CLIENT_TO_CAPABILITY if exists
CREATE TABLE CLIENT_TO_CAPABILITY ( CLIENT_ID integer, CAPABILITY_ID integer )
drop table CLIENT_TO_MIMETYPE if exists
CREATE TABLE CLIENT_TO_MIMETYPE ( CLIENT_ID integer, MIMETYPE_ID integer )
drop table MEDIATYPE_TO_CAPABILITY if exists
CREATE TABLE MEDIATYPE_TO_CAPABILITY ( MEDIATYPE_ID integer, CAPABILITY_ID integer )
drop table MEDIATYPE_TO_MIMETYPE if exists
CREATE TABLE MEDIATYPE_TO_MIMETYPE ( MEDIATYPE_ID integer, MIMETYPE_ID integer )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table DESKTOP if exists
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR (80), TITLE VARCHAR (100), COMPONENT_NAME VARCHAR (100), ACL VARCHAR (80), DEFAULT_PAGE_ID VARCHAR (80), DEFAULT_THEME VARCHAR (100), DEFAULT_DECORATOR VARCHAR (100), DEFAULT_PORTLET_DECORATOR VARCHAR (100), PRIMARY KEY(DESKTOP_ID) )
drop table DESKTOP_PAGES if exists
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR (80), PAGE_ID VARCHAR (80) )
CREATE  INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
drop table SUB_PAGES if exists
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR (80), SUB_PAGE_ID VARCHAR (80) )
CREATE  INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
drop table PAGE if exists
CREATE TABLE PAGE ( PAGE_ID VARCHAR (80), TITLE VARCHAR (100), DEFAULT_SKIN VARCHAR (100), DEFAULT_DECORATOR VARCHAR (100), DEFAULT_PORTLET_DECORATOR VARCHAR (100), ACL VARCHAR (80), PRIMARY KEY(PAGE_ID) )
drop table FRAGMENT if exists
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR (80), COMPONENT_NAME VARCHAR (100), ACL VARCHAR (80), TITLE VARCHAR (100), TYPE VARCHAR (40), SKIN VARCHAR (80), DECORATOR VARCHAR (80), STATE VARCHAR (40), PRIMARY KEY(FRAGMENT_ID) )
drop table PAGE_FRAGMENTS if exists
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80) )
CREATE  INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
drop table SUB_FRAGMENTS if exists
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR (80), SUB_FRAGMENT_ID VARCHAR (80) )
CREATE  INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
drop table FRAGMENT_PARAMETER if exists
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID integer, FRAGMENT_ID integer, NAME VARCHAR (80), VALUE VARCHAR, PRIMARY KEY(PARAMETER_ID), UNIQUE (FRAGMENT_ID, PARAMETER_ID) )
drop table FRAGMENT_REF if exists
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80), NAME VARCHAR (80), TITLE VARCHAR (100), PRIMARY KEY(FRAGMENT_REF_ID) )
drop table FRAGMENT_REFS if exists
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80) )
drop table PROFILING_RULE if exists
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR (80), CLASS_NAME VARCHAR (100), TITLE VARCHAR (100), PRIMARY KEY(RULE_ID) )
drop table RULE_CRITERION if exists
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR (80), RULE_ID VARCHAR (80), FALLBACK_ORDER integer, REQUEST_TYPE VARCHAR (40), NAME VARCHAR (80), VALUE VARCHAR (128), FALLBACK_TYPE integer, PRIMARY KEY(CRITERION_ID) )
CREATE  INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION (RULE_ID, FALLBACK_ORDER)
drop table PRINCIPAL_RULE_ASSOC if exists
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR (80), RULE_ID VARCHAR (80) )
drop table PROFILE_DESKTOP_ASSOC if exists
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR (40), DESKTOP_ID VARCHAR (80), UNIQUE (LOCATOR_HASH, DESKTOP_ID) )
drop table PROFILE_PAGE_ASSOC if exists
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR (40), PAGE_ID VARCHAR (80), UNIQUE (LOCATOR_HASH, PAGE_ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table PA_METADATA if exists
CREATE TABLE PA_METADATA ( ID integer, PRIMARY KEY(ID) )
drop table PA_METADATA_FIELDS if exists
CREATE TABLE PA_METADATA_FIELDS ( ID integer, OBJECT_ID integer, VALUE VARCHAR, NAME VARCHAR (100), LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
drop table PORTLET_APPLICATION if exists
CREATE TABLE PORTLET_APPLICATION ( APPLICATION_ID integer, APP_NAME VARCHAR (80), APP_IDENTIFIER VARCHAR (80), VERSION VARCHAR (80), APP_TYPE integer, DESCRIPTION VARCHAR (80), WEB_APP_ID integer, METADATA_ID integer, PRIMARY KEY(APPLICATION_ID), UNIQUE (APP_NAME) )
drop table WEB_APPLICATION if exists
CREATE TABLE WEB_APPLICATION ( ID integer, CONTEXT_ROOT VARCHAR (255), PRIMARY KEY(ID) )
drop table PORTLET_DEFINITION if exists
CREATE TABLE PORTLET_DEFINITION ( ID integer, NAME VARCHAR (80), CLASS_NAME VARCHAR (100), APPLICATION_ID integer, PORTLET_IDENTIFIER VARCHAR (80), EXPIRATION_CACHE VARCHAR (30), PREFERENCE_VALIDATOR VARCHAR (255), PRIMARY KEY(ID) )
drop table LANGUAGE if exists
CREATE TABLE LANGUAGE ( ID integer, PORTLET_ID integer, TITLE VARCHAR (100), SHORT_TITLE VARCHAR (50), LOCALE_STRING VARCHAR (50), KEYWORDS VARCHAR, PRIMARY KEY(ID) )
drop table PORTLET_CONTENT_TYPE if exists
CREATE TABLE PORTLET_CONTENT_TYPE ( CONTENT_TYPE_ID integer, PORTLET_ID integer, CONTENT_TYPE VARCHAR (30), MODES VARCHAR, PRIMARY KEY(CONTENT_TYPE_ID) )
drop table PARAMETER if exists
CREATE TABLE PARAMETER ( PARAMETER_ID integer, PARENT_ID integer, CLASS_NAME VARCHAR (30), NAME VARCHAR (80), PARAMETER_VALUE VARCHAR, PRIMARY KEY(PARAMETER_ID) )
drop table PORTLET_PREFERENCE if exists
CREATE TABLE PORTLET_PREFERENCE ( ID integer, PARENT_ID integer, NAME VARCHAR (80), CLASS_NAME VARCHAR (50), READ_ONLY VARCHAR (1), PRIMARY KEY(ID) )
drop table PREFERENCE_VALUE if exists
CREATE TABLE PREFERENCE_VALUE ( ID integer, PREFERENCE_ID integer, VALUE VARCHAR, PRIMARY KEY(ID) )
drop table PORTLET_ENTITY if exists
CREATE TABLE PORTLET_ENTITY ( ID integer, PORTLET_DEFINITION_ID integer, GUID VARCHAR (255), PRIMARY KEY(ID) )
drop table SECURITY_ROLE_REFERENCE if exists
CREATE TABLE SECURITY_ROLE_REFERENCE ( ID integer, PORTLET_DEFINITION_ID integer, ROLE_NAME VARCHAR (150), ROLE_LINK VARCHAR (150), PRIMARY KEY(ID) )
drop table LOCALIZED_DESCRIPTION if exists
CREATE TABLE LOCALIZED_DESCRIPTION ( ID integer, OBJECT_ID integer, CLASS_NAME VARCHAR (255), DESCRIPTION VARCHAR, LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
drop table LOCALIZED_DISPLAY_NAME if exists
CREATE TABLE LOCALIZED_DISPLAY_NAME ( ID integer, OBJECT_ID integer, CLASS_NAME VARCHAR (255), DISPLAY_NAME VARCHAR, LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
ROLLBACK
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table OJB_HL_SEQ if exists
CREATE TABLE OJB_HL_SEQ ( TABLENAME VARCHAR (175), FIELDNAME VARCHAR (70), MAX_KEY integer, GRAB_SIZE integer, VERSION integer, PRIMARY KEY(TABLENAME,FIELDNAME) )
drop table OJB_LOCKENTRY if exists
CREATE TABLE OJB_LOCKENTRY ( OID_ VARCHAR (250), TX_ID VARCHAR (50), TIMESTAMP_ timestamp, ISOLATIONLEVEL integer, LOCKTYPE integer, PRIMARY KEY(OID_,TX_ID) )
drop table OJB_NRM if exists
CREATE TABLE OJB_NRM ( NAME VARCHAR (250), OID_ LONGVARBINARY, PRIMARY KEY(NAME) )
drop table OJB_DLIST if exists
CREATE TABLE OJB_DLIST ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
drop table OJB_DLIST_ENTRIES if exists
CREATE TABLE OJB_DLIST_ENTRIES ( ID integer, DLIST_ID integer, POSITION_ integer, OID_ LONGVARBINARY, PRIMARY KEY(ID) )
drop table OJB_DSET if exists
CREATE TABLE OJB_DSET ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
drop table OJB_DSET_ENTRIES if exists
CREATE TABLE OJB_DSET_ENTRIES ( ID integer, DLIST_ID integer, POSITION_ integer, OID_ LONGVARBINARY, PRIMARY KEY(ID) )
drop table OJB_DMAP if exists
CREATE TABLE OJB_DMAP ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
drop table OJB_DMAP_ENTRIES if exists
CREATE TABLE OJB_DMAP_ENTRIES ( ID integer, DMAP_ID integer, KEY_OID BINARY, VALUE_OID BINARY, PRIMARY KEY(ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table MEDIA_TYPE if exists
CREATE TABLE MEDIA_TYPE ( MEDIATYPE_ID integer, NAME VARCHAR (80), CHARACTER_SET VARCHAR (40), TITLE VARCHAR (80), DESCRIPTION VARCHAR, PRIMARY KEY(MEDIATYPE_ID) )
drop table CLIENT if exists
CREATE TABLE CLIENT ( CLIENT_ID integer, NAME VARCHAR (80), USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR (80), VERSION VARCHAR (40), PREFERRED_MIMETYPE_ID integer, PRIMARY KEY(CLIENT_ID) )
drop table MIMETYPE if exists
CREATE TABLE MIMETYPE ( MIMETYPE_ID integer, NAME VARCHAR (80), PRIMARY KEY(MIMETYPE_ID) )
drop table CAPABILITY if exists
CREATE TABLE CAPABILITY ( CAPABILITY_ID integer, CAPABILITY VARCHAR (80), PRIMARY KEY(CAPABILITY_ID) )
drop table CLIENT_TO_CAPABILITY if exists
CREATE TABLE CLIENT_TO_CAPABILITY ( CLIENT_ID integer, CAPABILITY_ID integer )
drop table CLIENT_TO_MIMETYPE if exists
CREATE TABLE CLIENT_TO_MIMETYPE ( CLIENT_ID integer, MIMETYPE_ID integer )
drop table MEDIATYPE_TO_CAPABILITY if exists
CREATE TABLE MEDIATYPE_TO_CAPABILITY ( MEDIATYPE_ID integer, CAPABILITY_ID integer )
drop table MEDIATYPE_TO_MIMETYPE if exists
CREATE TABLE MEDIATYPE_TO_MIMETYPE ( MEDIATYPE_ID integer, MIMETYPE_ID integer )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table DESKTOP if exists
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR (80), TITLE VARCHAR (100), COMPONENT_NAME VARCHAR (100), ACL VARCHAR (80), DEFAULT_PAGE_ID VARCHAR (80), DEFAULT_THEME VARCHAR (100), DEFAULT_DECORATOR VARCHAR (100), DEFAULT_PORTLET_DECORATOR VARCHAR (100), PRIMARY KEY(DESKTOP_ID) )
drop table DESKTOP_PAGES if exists
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR (80), PAGE_ID VARCHAR (80) )
CREATE  INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
drop table SUB_PAGES if exists
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR (80), SUB_PAGE_ID VARCHAR (80) )
CREATE  INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
drop table PAGE if exists
CREATE TABLE PAGE ( PAGE_ID VARCHAR (80), TITLE VARCHAR (100), DEFAULT_SKIN VARCHAR (100), DEFAULT_DECORATOR VARCHAR (100), DEFAULT_PORTLET_DECORATOR VARCHAR (100), ACL VARCHAR (80), PRIMARY KEY(PAGE_ID) )
drop table FRAGMENT if exists
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR (80), COMPONENT_NAME VARCHAR (100), ACL VARCHAR (80), TITLE VARCHAR (100), TYPE VARCHAR (40), SKIN VARCHAR (80), DECORATOR VARCHAR (80), STATE VARCHAR (40), PRIMARY KEY(FRAGMENT_ID) )
drop table PAGE_FRAGMENTS if exists
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80) )
CREATE  INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
drop table SUB_FRAGMENTS if exists
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR (80), SUB_FRAGMENT_ID VARCHAR (80) )
CREATE  INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
drop table FRAGMENT_PARAMETER if exists
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID integer, FRAGMENT_ID integer, NAME VARCHAR (80), VALUE VARCHAR, PRIMARY KEY(PARAMETER_ID), UNIQUE (FRAGMENT_ID, PARAMETER_ID) )
drop table FRAGMENT_REF if exists
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80), NAME VARCHAR (80), TITLE VARCHAR (100), PRIMARY KEY(FRAGMENT_REF_ID) )
drop table FRAGMENT_REFS if exists
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80) )
drop table PROFILING_RULE if exists
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR (80), CLASS_NAME VARCHAR (100), TITLE VARCHAR (100), PRIMARY KEY(RULE_ID) )
drop table RULE_CRITERION if exists
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR (80), RULE_ID VARCHAR (80), FALLBACK_ORDER integer, REQUEST_TYPE VARCHAR (40), NAME VARCHAR (80), VALUE VARCHAR (128), FALLBACK_TYPE integer, PRIMARY KEY(CRITERION_ID) )
CREATE  INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION (RULE_ID, FALLBACK_ORDER)
drop table PRINCIPAL_RULE_ASSOC if exists
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR (80), RULE_ID VARCHAR (80) )
drop table PROFILE_DESKTOP_ASSOC if exists
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR (40), DESKTOP_ID VARCHAR (80), UNIQUE (LOCATOR_HASH, DESKTOP_ID) )
drop table PROFILE_PAGE_ASSOC if exists
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR (40), PAGE_ID VARCHAR (80), UNIQUE (LOCATOR_HASH, PAGE_ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table PA_METADATA if exists
CREATE TABLE PA_METADATA ( ID integer, PRIMARY KEY(ID) )
drop table PA_METADATA_FIELDS if exists
CREATE TABLE PA_METADATA_FIELDS ( ID integer, OBJECT_ID integer, VALUE VARCHAR, NAME VARCHAR (100), LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
drop table PORTLET_APPLICATION if exists
CREATE TABLE PORTLET_APPLICATION ( APPLICATION_ID integer, APP_NAME VARCHAR (80), APP_IDENTIFIER VARCHAR (80), VERSION VARCHAR (80), APP_TYPE integer, DESCRIPTION VARCHAR (80), WEB_APP_ID integer, METADATA_ID integer, PRIMARY KEY(APPLICATION_ID), UNIQUE (APP_NAME) )
drop table WEB_APPLICATION if exists
CREATE TABLE WEB_APPLICATION ( ID integer, CONTEXT_ROOT VARCHAR (255), PRIMARY KEY(ID) )
drop table PORTLET_DEFINITION if exists
CREATE TABLE PORTLET_DEFINITION ( ID integer, NAME VARCHAR (80), CLASS_NAME VARCHAR (100), APPLICATION_ID integer, PORTLET_IDENTIFIER VARCHAR (80), EXPIRATION_CACHE VARCHAR (30), PREFERENCE_VALIDATOR VARCHAR (255), PRIMARY KEY(ID) )
drop table LANGUAGE if exists
CREATE TABLE LANGUAGE ( ID integer, PORTLET_ID integer, TITLE VARCHAR (100), SHORT_TITLE VARCHAR (50), LOCALE_STRING VARCHAR (50), KEYWORDS VARCHAR, PRIMARY KEY(ID) )
drop table PORTLET_CONTENT_TYPE if exists
CREATE TABLE PORTLET_CONTENT_TYPE ( CONTENT_TYPE_ID integer, PORTLET_ID integer, CONTENT_TYPE VARCHAR (30), MODES VARCHAR, PRIMARY KEY(CONTENT_TYPE_ID) )
drop table PARAMETER if exists
CREATE TABLE PARAMETER ( PARAMETER_ID integer, PARENT_ID integer, CLASS_NAME VARCHAR (30), NAME VARCHAR (80), PARAMETER_VALUE VARCHAR, PRIMARY KEY(PARAMETER_ID) )
drop table PORTLET_PREFERENCE if exists
CREATE TABLE PORTLET_PREFERENCE ( ID integer, PARENT_ID integer, NAME VARCHAR (80), CLASS_NAME VARCHAR (50), READ_ONLY VARCHAR (1), PRIMARY KEY(ID) )
drop table PREFERENCE_VALUE if exists
CREATE TABLE PREFERENCE_VALUE ( ID integer, PREFERENCE_ID integer, VALUE VARCHAR, PRIMARY KEY(ID) )
drop table PORTLET_ENTITY if exists
CREATE TABLE PORTLET_ENTITY ( ID integer, PORTLET_DEFINITION_ID integer, GUID VARCHAR (255), PRIMARY KEY(ID) )
drop table SECURITY_ROLE_REFERENCE if exists
CREATE TABLE SECURITY_ROLE_REFERENCE ( ID integer, PORTLET_DEFINITION_ID integer, ROLE_NAME VARCHAR (150), ROLE_LINK VARCHAR (150), PRIMARY KEY(ID) )
drop table LOCALIZED_DESCRIPTION if exists
CREATE TABLE LOCALIZED_DESCRIPTION ( ID integer, OBJECT_ID integer, CLASS_NAME VARCHAR (255), DESCRIPTION VARCHAR, LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
drop table LOCALIZED_DISPLAY_NAME if exists
CREATE TABLE LOCALIZED_DISPLAY_NAME ( ID integer, OBJECT_ID integer, CLASS_NAME VARCHAR (255), DISPLAY_NAME VARCHAR, LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table PREF_PROPERTY_VALUE if exists
CREATE TABLE PREF_PROPERTY_VALUE ( PROPERTY_VALUE_ID integer, PROPERTY_KEY_ID integer, NODE_ID integer, BOOLEAN_VALUE BIT, DATETIME_VALUE timestamp, LONG_VALUE integer, DOUBLE_VALUE DOUBLE, TEXT_VALUE VARCHAR (254), CREATION_DATE timestamp, MODIFIED_DATE timestamp, PRIMARY KEY(PROPERTY_VALUE_ID) )
drop table PREF_PROPERTY_KEY if exists
CREATE TABLE PREF_PROPERTY_KEY ( PROPERTY_KEY_ID integer, PROPERTY_SET_DEF_ID integer, PROPERTY_NAME VARCHAR (100), PROPERTY_TYPE SMALLINT, CREATION_DATE timestamp, MODIFIED_DATE timestamp, PRIMARY KEY(PROPERTY_KEY_ID) )
drop table PREF_NODE if exists
CREATE TABLE PREF_NODE ( NODE_ID integer, PARENT_NODE_ID integer, PROPERTY_SET_DEF_ID integer, NODE_NAME VARCHAR (100), NODE_TYPE SMALLINT, FULL_PATH VARCHAR (254), CREATION_DATE timestamp, MODIFIED_DATE timestamp, PRIMARY KEY(NODE_ID) )
drop table PREF_PROPERTY_SET_DEF if exists
CREATE TABLE PREF_PROPERTY_SET_DEF ( PROPERTY_SET_DEF_ID integer, PROPERTY_SET_NAME VARCHAR (100), PROPERTY_SET_TYPE SMALLINT, CREATION_DATE timestamp, MODIFIED_DATE timestamp, PRIMARY KEY(PROPERTY_SET_DEF_ID) )
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_1 FOREIGN KEY (PROPERTY_KEY_ID) REFERENCES PREF_PROPERTY_KEY (PROPERTY_KEY_ID)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_2 FOREIGN KEY (NODE_ID) REFERENCES PREF_NODE (NODE_ID)
ALTER TABLE PREF_PROPERTY_KEY ADD CONSTRAINT PREF_PROPERTY_KEY_FK_1 FOREIGN KEY (PROPERTY_SET_DEF_ID) REFERENCES PREF_PROPERTY_SET_DEF (PROPERTY_SET_DEF_ID)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_1 FOREIGN KEY (PROPERTY_SET_DEF_ID) REFERENCES PREF_PROPERTY_SET_DEF (PROPERTY_SET_DEF_ID)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_2 FOREIGN KEY (PARENT_NODE_ID) REFERENCES PREF_NODE (NODE_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
ROLLBACK
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table OJB_HL_SEQ if exists
CREATE TABLE OJB_HL_SEQ ( TABLENAME VARCHAR (175), FIELDNAME VARCHAR (70), MAX_KEY integer, GRAB_SIZE integer, VERSION integer, PRIMARY KEY(TABLENAME,FIELDNAME) )
drop table OJB_LOCKENTRY if exists
CREATE TABLE OJB_LOCKENTRY ( OID_ VARCHAR (250), TX_ID VARCHAR (50), TIMESTAMP_ timestamp, ISOLATIONLEVEL integer, LOCKTYPE integer, PRIMARY KEY(OID_,TX_ID) )
drop table OJB_NRM if exists
CREATE TABLE OJB_NRM ( NAME VARCHAR (250), OID_ LONGVARBINARY, PRIMARY KEY(NAME) )
drop table OJB_DLIST if exists
CREATE TABLE OJB_DLIST ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
drop table OJB_DLIST_ENTRIES if exists
CREATE TABLE OJB_DLIST_ENTRIES ( ID integer, DLIST_ID integer, POSITION_ integer, OID_ LONGVARBINARY, PRIMARY KEY(ID) )
drop table OJB_DSET if exists
CREATE TABLE OJB_DSET ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
drop table OJB_DSET_ENTRIES if exists
CREATE TABLE OJB_DSET_ENTRIES ( ID integer, DLIST_ID integer, POSITION_ integer, OID_ LONGVARBINARY, PRIMARY KEY(ID) )
drop table OJB_DMAP if exists
CREATE TABLE OJB_DMAP ( ID integer, SIZE_ integer, PRIMARY KEY(ID) )
drop table OJB_DMAP_ENTRIES if exists
CREATE TABLE OJB_DMAP_ENTRIES ( ID integer, DMAP_ID integer, KEY_OID BINARY, VALUE_OID BINARY, PRIMARY KEY(ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table MEDIA_TYPE if exists
CREATE TABLE MEDIA_TYPE ( MEDIATYPE_ID integer, NAME VARCHAR (80), CHARACTER_SET VARCHAR (40), TITLE VARCHAR (80), DESCRIPTION VARCHAR, PRIMARY KEY(MEDIATYPE_ID) )
drop table CLIENT if exists
CREATE TABLE CLIENT ( CLIENT_ID integer, NAME VARCHAR (80), USER_AGENT_PATTERN VARCHAR (128), MANUFACTURER VARCHAR (80), MODEL VARCHAR (80), VERSION VARCHAR (40), PREFERRED_MIMETYPE_ID integer, PRIMARY KEY(CLIENT_ID) )
drop table MIMETYPE if exists
CREATE TABLE MIMETYPE ( MIMETYPE_ID integer, NAME VARCHAR (80), PRIMARY KEY(MIMETYPE_ID) )
drop table CAPABILITY if exists
CREATE TABLE CAPABILITY ( CAPABILITY_ID integer, CAPABILITY VARCHAR (80), PRIMARY KEY(CAPABILITY_ID) )
drop table CLIENT_TO_CAPABILITY if exists
CREATE TABLE CLIENT_TO_CAPABILITY ( CLIENT_ID integer, CAPABILITY_ID integer )
drop table CLIENT_TO_MIMETYPE if exists
CREATE TABLE CLIENT_TO_MIMETYPE ( CLIENT_ID integer, MIMETYPE_ID integer )
drop table MEDIATYPE_TO_CAPABILITY if exists
CREATE TABLE MEDIATYPE_TO_CAPABILITY ( MEDIATYPE_ID integer, CAPABILITY_ID integer )
drop table MEDIATYPE_TO_MIMETYPE if exists
CREATE TABLE MEDIATYPE_TO_MIMETYPE ( MEDIATYPE_ID integer, MIMETYPE_ID integer )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table DESKTOP if exists
CREATE TABLE DESKTOP ( DESKTOP_ID VARCHAR (80), TITLE VARCHAR (100), COMPONENT_NAME VARCHAR (100), ACL VARCHAR (80), DEFAULT_PAGE_ID VARCHAR (80), DEFAULT_THEME VARCHAR (100), DEFAULT_DECORATOR VARCHAR (100), DEFAULT_PORTLET_DECORATOR VARCHAR (100), PRIMARY KEY(DESKTOP_ID) )
drop table DESKTOP_PAGES if exists
CREATE TABLE DESKTOP_PAGES ( DESKTOP_ID VARCHAR (80), PAGE_ID VARCHAR (80) )
CREATE  INDEX IX_DESKTOP_PAGES_1 ON DESKTOP_PAGES (DESKTOP_ID, PAGE_ID)
drop table SUB_PAGES if exists
CREATE TABLE SUB_PAGES ( PAGE_ID VARCHAR (80), SUB_PAGE_ID VARCHAR (80) )
CREATE  INDEX IX_SUB_PAGES_1 ON SUB_PAGES (PAGE_ID, SUB_PAGE_ID)
drop table PAGE if exists
CREATE TABLE PAGE ( PAGE_ID VARCHAR (80), TITLE VARCHAR (100), DEFAULT_SKIN VARCHAR (100), DEFAULT_DECORATOR VARCHAR (100), DEFAULT_PORTLET_DECORATOR VARCHAR (100), ACL VARCHAR (80), PRIMARY KEY(PAGE_ID) )
drop table FRAGMENT if exists
CREATE TABLE FRAGMENT ( FRAGMENT_ID VARCHAR (80), COMPONENT_NAME VARCHAR (100), ACL VARCHAR (80), TITLE VARCHAR (100), TYPE VARCHAR (40), SKIN VARCHAR (80), DECORATOR VARCHAR (80), STATE VARCHAR (40), PRIMARY KEY(FRAGMENT_ID) )
drop table PAGE_FRAGMENTS if exists
CREATE TABLE PAGE_FRAGMENTS ( PAGE_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80) )
CREATE  INDEX IX_PAGE_FRAGMENTS_1 ON PAGE_FRAGMENTS (PAGE_ID, FRAGMENT_ID)
drop table SUB_FRAGMENTS if exists
CREATE TABLE SUB_FRAGMENTS ( FRAGMENT_ID VARCHAR (80), SUB_FRAGMENT_ID VARCHAR (80) )
CREATE  INDEX IX_SUB_FRAGMENTS_1 ON SUB_FRAGMENTS (FRAGMENT_ID, SUB_FRAGMENT_ID)
drop table FRAGMENT_PARAMETER if exists
CREATE TABLE FRAGMENT_PARAMETER ( PARAMETER_ID integer, FRAGMENT_ID integer, NAME VARCHAR (80), VALUE VARCHAR, PRIMARY KEY(PARAMETER_ID), UNIQUE (FRAGMENT_ID, PARAMETER_ID) )
drop table FRAGMENT_REF if exists
CREATE TABLE FRAGMENT_REF ( FRAGMENT_REF_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80), NAME VARCHAR (80), TITLE VARCHAR (100), PRIMARY KEY(FRAGMENT_REF_ID) )
drop table FRAGMENT_REFS if exists
CREATE TABLE FRAGMENT_REFS ( FRAGMENT_REF_ID VARCHAR (80), FRAGMENT_ID VARCHAR (80) )
drop table PROFILING_RULE if exists
CREATE TABLE PROFILING_RULE ( RULE_ID VARCHAR (80), CLASS_NAME VARCHAR (100), TITLE VARCHAR (100), PRIMARY KEY(RULE_ID) )
drop table RULE_CRITERION if exists
CREATE TABLE RULE_CRITERION ( CRITERION_ID VARCHAR (80), RULE_ID VARCHAR (80), FALLBACK_ORDER integer, REQUEST_TYPE VARCHAR (40), NAME VARCHAR (80), VALUE VARCHAR (128), FALLBACK_TYPE integer, PRIMARY KEY(CRITERION_ID) )
CREATE  INDEX IX_RULE_CRITERION_1 ON RULE_CRITERION (RULE_ID, FALLBACK_ORDER)
drop table PRINCIPAL_RULE_ASSOC if exists
CREATE TABLE PRINCIPAL_RULE_ASSOC ( PRINCIPAL_NAME VARCHAR (80), RULE_ID VARCHAR (80) )
drop table PROFILE_DESKTOP_ASSOC if exists
CREATE TABLE PROFILE_DESKTOP_ASSOC ( LOCATOR_HASH VARCHAR (40), DESKTOP_ID VARCHAR (80), UNIQUE (LOCATOR_HASH, DESKTOP_ID) )
drop table PROFILE_PAGE_ASSOC if exists
CREATE TABLE PROFILE_PAGE_ASSOC ( LOCATOR_HASH VARCHAR (40), PAGE_ID VARCHAR (80), UNIQUE (LOCATOR_HASH, PAGE_ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table PA_METADATA if exists
CREATE TABLE PA_METADATA ( ID integer, PRIMARY KEY(ID) )
drop table PA_METADATA_FIELDS if exists
CREATE TABLE PA_METADATA_FIELDS ( ID integer, OBJECT_ID integer, VALUE VARCHAR, NAME VARCHAR (100), LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
drop table PORTLET_APPLICATION if exists
CREATE TABLE PORTLET_APPLICATION ( APPLICATION_ID integer, APP_NAME VARCHAR (80), APP_IDENTIFIER VARCHAR (80), VERSION VARCHAR (80), APP_TYPE integer, DESCRIPTION VARCHAR (80), WEB_APP_ID integer, METADATA_ID integer, PRIMARY KEY(APPLICATION_ID), UNIQUE (APP_NAME) )
drop table WEB_APPLICATION if exists
CREATE TABLE WEB_APPLICATION ( ID integer, CONTEXT_ROOT VARCHAR (255), PRIMARY KEY(ID) )
drop table PORTLET_DEFINITION if exists
CREATE TABLE PORTLET_DEFINITION ( ID integer, NAME VARCHAR (80), CLASS_NAME VARCHAR (100), APPLICATION_ID integer, PORTLET_IDENTIFIER VARCHAR (80), EXPIRATION_CACHE VARCHAR (30), PREFERENCE_VALIDATOR VARCHAR (255), PRIMARY KEY(ID) )
drop table LANGUAGE if exists
CREATE TABLE LANGUAGE ( ID integer, PORTLET_ID integer, TITLE VARCHAR (100), SHORT_TITLE VARCHAR (50), LOCALE_STRING VARCHAR (50), KEYWORDS VARCHAR, PRIMARY KEY(ID) )
drop table PORTLET_CONTENT_TYPE if exists
CREATE TABLE PORTLET_CONTENT_TYPE ( CONTENT_TYPE_ID integer, PORTLET_ID integer, CONTENT_TYPE VARCHAR (30), MODES VARCHAR, PRIMARY KEY(CONTENT_TYPE_ID) )
drop table PARAMETER if exists
CREATE TABLE PARAMETER ( PARAMETER_ID integer, PARENT_ID integer, CLASS_NAME VARCHAR (30), NAME VARCHAR (80), PARAMETER_VALUE VARCHAR, PRIMARY KEY(PARAMETER_ID) )
drop table PORTLET_PREFERENCE if exists
CREATE TABLE PORTLET_PREFERENCE ( ID integer, PARENT_ID integer, NAME VARCHAR (80), CLASS_NAME VARCHAR (50), READ_ONLY VARCHAR (1), PRIMARY KEY(ID) )
drop table PREFERENCE_VALUE if exists
CREATE TABLE PREFERENCE_VALUE ( ID integer, PREFERENCE_ID integer, VALUE VARCHAR, PRIMARY KEY(ID) )
drop table PORTLET_ENTITY if exists
CREATE TABLE PORTLET_ENTITY ( ID integer, PORTLET_DEFINITION_ID integer, GUID VARCHAR (255), PRIMARY KEY(ID) )
drop table SECURITY_ROLE_REFERENCE if exists
CREATE TABLE SECURITY_ROLE_REFERENCE ( ID integer, PORTLET_DEFINITION_ID integer, ROLE_NAME VARCHAR (150), ROLE_LINK VARCHAR (150), PRIMARY KEY(ID) )
drop table LOCALIZED_DESCRIPTION if exists
CREATE TABLE LOCALIZED_DESCRIPTION ( ID integer, OBJECT_ID integer, CLASS_NAME VARCHAR (255), DESCRIPTION VARCHAR, LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
drop table LOCALIZED_DISPLAY_NAME if exists
CREATE TABLE LOCALIZED_DISPLAY_NAME ( ID integer, OBJECT_ID integer, CLASS_NAME VARCHAR (255), DISPLAY_NAME VARCHAR, LOCALE_STRING VARCHAR (50), PRIMARY KEY(ID) )
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table PREF_PROPERTY_VALUE if exists
CREATE TABLE PREF_PROPERTY_VALUE ( PROPERTY_VALUE_ID integer, PROPERTY_KEY_ID integer, NODE_ID integer, BOOLEAN_VALUE BIT, DATETIME_VALUE timestamp, LONG_VALUE integer, DOUBLE_VALUE DOUBLE, TEXT_VALUE VARCHAR (254), CREATION_DATE timestamp, MODIFIED_DATE timestamp, PRIMARY KEY(PROPERTY_VALUE_ID) )
drop table PREF_PROPERTY_KEY if exists
CREATE TABLE PREF_PROPERTY_KEY ( PROPERTY_KEY_ID integer, PROPERTY_SET_DEF_ID integer, PROPERTY_NAME VARCHAR (100), PROPERTY_TYPE SMALLINT, CREATION_DATE timestamp, MODIFIED_DATE timestamp, PRIMARY KEY(PROPERTY_KEY_ID) )
drop table PREF_NODE if exists
CREATE TABLE PREF_NODE ( NODE_ID integer, PARENT_NODE_ID integer, PROPERTY_SET_DEF_ID integer, NODE_NAME VARCHAR (100), NODE_TYPE SMALLINT, FULL_PATH VARCHAR (254), CREATION_DATE timestamp, MODIFIED_DATE timestamp, PRIMARY KEY(NODE_ID) )
drop table PREF_PROPERTY_SET_DEF if exists
CREATE TABLE PREF_PROPERTY_SET_DEF ( PROPERTY_SET_DEF_ID integer, PROPERTY_SET_NAME VARCHAR (100), PROPERTY_SET_TYPE SMALLINT, CREATION_DATE timestamp, MODIFIED_DATE timestamp, PRIMARY KEY(PROPERTY_SET_DEF_ID) )
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_1 FOREIGN KEY (PROPERTY_KEY_ID) REFERENCES PREF_PROPERTY_KEY (PROPERTY_KEY_ID)
ALTER TABLE PREF_PROPERTY_VALUE ADD CONSTRAINT PREF_PROPERTY_VALUE_FK_2 FOREIGN KEY (NODE_ID) REFERENCES PREF_NODE (NODE_ID)
ALTER TABLE PREF_PROPERTY_KEY ADD CONSTRAINT PREF_PROPERTY_KEY_FK_1 FOREIGN KEY (PROPERTY_SET_DEF_ID) REFERENCES PREF_PROPERTY_SET_DEF (PROPERTY_SET_DEF_ID)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_1 FOREIGN KEY (PROPERTY_SET_DEF_ID) REFERENCES PREF_PROPERTY_SET_DEF (PROPERTY_SET_DEF_ID)
ALTER TABLE PREF_NODE ADD CONSTRAINT PREF_NODE_FK_2 FOREIGN KEY (PARENT_NODE_ID) REFERENCES PREF_NODE (NODE_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
drop table SECURITY_USER_ROLE if exists
CREATE TABLE SECURITY_USER_ROLE ( USER_ID integer, ROLE_ID integer, PRIMARY KEY(USER_ID,ROLE_ID) )
drop table SECURITY_USER_GROUP if exists
CREATE TABLE SECURITY_USER_GROUP ( USER_ID integer, GROUP_ID integer, PRIMARY KEY(USER_ID,GROUP_ID) )
drop table SECURITY_GROUP_ROLE if exists
CREATE TABLE SECURITY_GROUP_ROLE ( GROUP_ID integer, ROLE_ID integer, PRIMARY KEY(GROUP_ID,ROLE_ID) )
drop table SECURITY_PRINCIPAL_PERMISSION if exists
CREATE TABLE SECURITY_PRINCIPAL_PERMISSION ( PRINCIPAL_ID integer, PERMISSION_ID integer, PRIMARY KEY(PRINCIPAL_ID,PERMISSION_ID) )
drop table SECURITY_PERMISSION if exists
CREATE TABLE SECURITY_PERMISSION ( PERMISSION_ID integer, CLASSNAME VARCHAR (254), NAME VARCHAR (254), ACTIONS VARCHAR (254), CREATION_DATE timestamp, MODIFIED_DATE timestamp, PRIMARY KEY(PERMISSION_ID) )
drop table SECURITY_CREDENTIAL if exists
CREATE TABLE SECURITY_CREDENTIAL ( CREDENTIAL_ID integer, PRINCIPAL_ID integer, VALUE VARCHAR (254), TYPE SMALLINT, CLASSNAME VARCHAR (254), CREATION_DATE timestamp, MODIFIED_DATE timestamp, PRIMARY KEY(CREDENTIAL_ID) )
drop table SECURITY_PRINCIPAL if exists
CREATE TABLE SECURITY_PRINCIPAL ( PRINCIPAL_ID integer, CLASSNAME VARCHAR (254), FULL_PATH VARCHAR (254), CREATION_DATE timestamp, MODIFIED_DATE timestamp, PRIMARY KEY(PRINCIPAL_ID) )
ALTER TABLE SECURITY_USER_ROLE ADD CONSTRAINT SECURITY_USER_ROLE_FK_1 FOREIGN KEY (ROLE_ID) REFERENCES SECURITY_PRINCIPAL (PRINCIPAL_ID)
ALTER TABLE SECURITY_USER_ROLE ADD CONSTRAINT SECURITY_USER_ROLE_FK_2 FOREIGN KEY (USER_ID) REFERENCES SECURITY_PRINCIPAL (PRINCIPAL_ID)
ALTER TABLE SECURITY_USER_GROUP ADD CONSTRAINT SECURITY_USER_GROUP_FK_1 FOREIGN KEY (GROUP_ID) REFERENCES SECURITY_PRINCIPAL (PRINCIPAL_ID)
ALTER TABLE SECURITY_USER_GROUP ADD CONSTRAINT SECURITY_USER_GROUP_FK_2 FOREIGN KEY (USER_ID) REFERENCES SECURITY_PRINCIPAL (PRINCIPAL_ID)
ALTER TABLE SECURITY_GROUP_ROLE ADD CONSTRAINT SECURITY_GROUP_ROLE_FK_1 FOREIGN KEY (GROUP_ID) REFERENCES SECURITY_PRINCIPAL (PRINCIPAL_ID)
ALTER TABLE SECURITY_GROUP_ROLE ADD CONSTRAINT SECURITY_GROUP_ROLE_FK_2 FOREIGN KEY (ROLE_ID) REFERENCES SECURITY_PRINCIPAL (PRINCIPAL_ID)
ALTER TABLE SECURITY_PRINCIPAL_PERMISSION ADD CONSTRAINT SECURITY_PRINCIPAL_PERMISSION_FK_1 FOREIGN KEY (PERMISSION_ID) REFERENCES SECURITY_PERMISSION (PERMISSION_ID)
ALTER TABLE SECURITY_PRINCIPAL_PERMISSION ADD CONSTRAINT SECURITY_PRINCIPAL_PERMISSION_FK_2 FOREIGN KEY (PRINCIPAL_ID) REFERENCES SECURITY_PRINCIPAL (PRINCIPAL_ID)
ALTER TABLE SECURITY_CREDENTIAL ADD CONSTRAINT SECURITY_CREDENTIAL_FK_1 FOREIGN KEY (PRINCIPAL_ID) REFERENCES SECURITY_PRINCIPAL (PRINCIPAL_ID)
COMMIT
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT FALSE
INSERT INTO CAPABILITY VALUES(1,'HTML_3_2')
INSERT INTO CAPABILITY VALUES(2,'HTML_4_0')
INSERT INTO CAPABILITY VALUES(3,'HTML_TABLE')
INSERT INTO CAPABILITY VALUES(4,'HTML_NESTED_TABLE')
INSERT INTO CAPABILITY VALUES(5,'HTML_IMAGE')
INSERT INTO CAPABILITY VALUES(6,'HTML_FORM')
INSERT INTO CAPABILITY VALUES(7,'HTML_FRAME')
INSERT INTO CAPABILITY VALUES(8,'HTML_JAVA')
INSERT INTO CAPABILITY VALUES(9,'HTML_JAVA1_0')
INSERT INTO CAPABILITY VALUES(10,'HTML_JAVA1_1')
INSERT INTO CAPABILITY VALUES(11,'HTML_JAVA1_2')
INSERT INTO CAPABILITY VALUES(12,'HTML_JAVA_JRE')
INSERT INTO CAPABILITY VALUES(13,'HTML_JSCRIPT')
INSERT INTO CAPABILITY VALUES(14,'HTML_JSCRIPT1_0')
INSERT INTO CAPABILITY VALUES(15,'HTML_JSCRIPT1_1')
INSERT INTO CAPABILITY VALUES(16,'HTML_JSCRIPT1_2')
INSERT INTO CAPABILITY VALUES(17,'HTML_JAVASCRIPT')
INSERT INTO CAPABILITY VALUES(18,'HTML_JAVASCRIPT_1_0')
INSERT INTO CAPABILITY VALUES(19,'HTML_JAVASCRIPT_1_1')
INSERT INTO CAPABILITY VALUES(20,'HTML_JAVASCRIPT_1_2')
INSERT INTO CAPABILITY VALUES(21,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(22,'HTML_ACTIVEX')
INSERT INTO CAPABILITY VALUES(23,'HTML_PLUGIN')
INSERT INTO CAPABILITY VALUES(24,'HTML_CSS1')
INSERT INTO CAPABILITY VALUES(25,'HTML_CSS2')
INSERT INTO CAPABILITY VALUES(26,'HTML_CSSP')
INSERT INTO CAPABILITY VALUES(27,'HTML_IFRAME')
INSERT INTO CAPABILITY VALUES(28,'HTML_LAYER')
INSERT INTO CAPABILITY VALUES(29,'HTML_DOM_IE')
INSERT INTO CAPABILITY VALUES(30,'HTML_DOM_NS4')
INSERT INTO CAPABILITY VALUES(31,'HTML_DOM_1')
INSERT INTO CAPABILITY VALUES(32,'HTML_DOM_2')
INSERT INTO CAPABILITY VALUES(33,'WML_1_0')
INSERT INTO CAPABILITY VALUES(34,'WML_1_1')
INSERT INTO CAPABILITY VALUES(35,'WML_TABLE')
INSERT INTO CAPABILITY VALUES(36,'XML_XSLT')
INSERT INTO CAPABILITY VALUES(37,'XML_XPATH')
INSERT INTO CAPABILITY VALUES(38,'XML_XINCLUDE')
INSERT INTO CAPABILITY VALUES(39,'HTTP_1_1')
INSERT INTO CAPABILITY VALUES(40,'HTTP_COOKIE')
INSERT INTO CAPABILITY VALUES(41,'HTML_XML')
INSERT INTO CAPABILITY VALUES(42,'HTML_XSL')
INSERT INTO CAPABILITY VALUES(43,'HTML_DOM')
INSERT INTO MIMETYPE VALUES(1,'text/html')
INSERT INTO MIMETYPE VALUES(2,'text/vnd.wap.wml')
INSERT INTO MIMETYPE VALUES(3,'text/vxml')
INSERT INTO MIMETYPE VALUES(4,'text/xml')
INSERT INTO MIMETYPE VALUES(5,'text/xhtml')
INSERT INTO CLIENT VALUES(1,'ie5','.*MSIE 5.*','Microsoft','None','5.5',1)
INSERT INTO CLIENT VALUES(2,'ns4','.*Mozilla/4.*','Netscape','None','4.75',1)
INSERT INTO CLIENT VALUES(3,'mozilla','.*Mozilla/5.*','Mozilla','Mozilla','1.x',1)
INSERT INTO CLIENT VALUES(4,'lynx','Lynx.*','GNU','None','',1)
INSERT INTO CLIENT VALUES(5,'nokia_generic','Nokia.*','Nokia','Generic','',2)
INSERT INTO CLIENT VALUES(6,'up','UP.*|.*UP\.Browser.*','United Planet','Generic','',2)
INSERT INTO CLIENT VALUES(7,'sonyericsson','Ercis.*|SonyE.*','SonyEricsson','Generic','',2)
INSERT INTO CLIENT VALUES(8,'wapalizer','Wapalizer.*','Wapalizer','Generic','',2)
INSERT INTO CLIENT VALUES(9,'klondike','Klondike.*','Klondike','Generic','',2)
INSERT INTO CLIENT VALUES(10,'wml_generic','.*WML.*|.*WAP.*|.*Wap.*|.*wml.*','Generic','Generic','',2)
INSERT INTO CLIENT VALUES(11,'vxml_generic','.*VoiceXML.*','Generic','Generic','',3)
INSERT INTO CLIENT VALUES(12,'nuance','Nuance.*','Nuance','Generic','',3)
INSERT INTO CLIENT VALUES(13,'agentxml','agentxml/1.0.*','Unknown','Generic','',4)
INSERT INTO CLIENT VALUES(14,'opera7','.*Opera/7.*','Opera','Opera7','7.x',1)
INSERT INTO MEDIA_TYPE VALUES(1,'html','UTF-8','HTML','Rich HTML for HTML 4.0 compliants browsers')
INSERT INTO MEDIA_TYPE VALUES(2,'wml','UTF-8','WML','Format for mobile phones and PDAs compatible with WML 1.1')
INSERT INTO MEDIA_TYPE VALUES(3,'vxml','UTF-8','VoiceXML','Format suitable for use with an audio VoiceXML server')
INSERT INTO MEDIA_TYPE VALUES(4,'xml','','XML','XML 1.0')
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,22)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,29)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(1,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,28)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,21)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,30)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(2,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,12)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,31)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,23)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(3,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(4,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,1)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,2)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,3)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,8)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,12)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,17)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,4)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,6)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,7)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,5)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,27)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,24)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,25)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,26)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,31)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,40)
INSERT INTO CLIENT_TO_CAPABILITY VALUES(14,23)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(1,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(2,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,5)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(3,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(4,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(5,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(6,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(7,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(8,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(9,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(10,2)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(11,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(12,3)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(13,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,1)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,4)
INSERT INTO CLIENT_TO_MIMETYPE VALUES(14,5)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(1,1)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(2,2)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(3,3)
INSERT INTO MEDIATYPE_TO_MIMETYPE VALUES(4,4)
INSERT INTO PROFILING_RULE VALUES('j1','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','The default profiling rule following the Jetspeed-1 hard-coded profiler fallback algorithm.')
INSERT INTO RULE_CRITERION VALUES('1','j1',0,'path.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('2','j1',1,'group.role.user','user',NULL,0)
INSERT INTO RULE_CRITERION VALUES('3','j1',2,'mediatype','mediatype',NULL,1)
INSERT INTO RULE_CRITERION VALUES('4','j1',3,'language','language',NULL,1)
INSERT INTO RULE_CRITERION VALUES('5','j1',4,'country','country',NULL,1)
INSERT INTO PROFILING_RULE VALUES('role-fallback','org.apache.jetspeed.profiler.rules.impl.RoleFallbackProfilingRule','A role based fallback algorithm based on Jetspeed-1 role-based fallback')
INSERT INTO RULE_CRITERION VALUES('6','role-fallback',0,'request.session','page','default-page',0)
INSERT INTO RULE_CRITERION VALUES('7','role-fallback',1,'role','role',NULL,2)
INSERT INTO PROFILING_RULE VALUES('path','org.apache.jetspeed.profiler.rules.impl.StandardProfilingRule','use a path to locate.')
INSERT INTO RULE_CRITERION VALUES('10','path',0,'path','path','/',0)
INSERT INTO PRINCIPAL_RULE_ASSOC VALUES('anon','j1')
COMMIT
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT TRUE
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C22*/CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PORTLET_APPLICATION','deprecatedColumn',20,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PA_METADATA','deprecatedColumn',20,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_WEB_APPLICATION','deprecatedColumn',20,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PORTLET_DEFINITION','deprecatedColumn',20,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C21*/INSERT INTO PA_METADATA VALUES(1)
/*C22*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PA_METADATA_FIELDS','deprecatedColumn',20,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C21*/INSERT INTO PA_METADATA_FIELDS VALUES(1,1,'Test title 1','titles','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(2,1,'Test title 2','titles','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(3,1,'Test title 3','titles','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(4,1,'Contrib 1','contributors','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(5,1,'Coverage 1','coverages','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(6,1,'Coverage 2','coverages','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(7,1,'Creator 1','creators','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(8,1,'Description 1','descriptions','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(9,1,'Format 1','formats','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(10,1,'Identifier 1','identifiers','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(11,1,'Language 1','languages','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(12,1,'Publisher 1','publishers','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(13,1,'Relation 1','relations','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(14,1,'Right 1','rights','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(15,1,'Source 1','sources','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(16,1,'Subject 1','subjects','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(17,1,'Type 1','types','en,US,')
INSERT INTO WEB_APPLICATION VALUES(1,'/root')
/*C22*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_LOCALIZED_DESCRIPTION','deprecatedColumn',20,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C21*/INSERT INTO LOCALIZED_DESCRIPTION VALUES(1,1,'org.apache.jetspeed.om.impl.WebAppDescriptionImpl','This is an english desrcitpion','en,US,')
/*C22*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_LOCALIZED_DISPLAY_NAME','deprecatedColumn',20,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C21*/INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(1,1,'org.apache.jetspeed.om.impl.WebAppDisplayNameImpl','This is an english display name','en,US,')
INSERT INTO PORTLET_APPLICATION VALUES(1,'RegistryTestPortlet',NULL,'1.0',0,'This is a Registry Test Portlet.',1,1)
INSERT INTO PORTLET_DEFINITION VALUES(1,'Portlet 0','com.portlet.MyClass0',1,'com.portlet.MyClass0.Portlet 0',NULL,NULL)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM PORTLET_DEFINITION WHERE ID=1
DELETE FROM PORTLET_APPLICATION WHERE APPLICATION_ID=1
DELETE FROM PA_METADATA_FIELDS WHERE ID=1
DELETE FROM PA_METADATA_FIELDS WHERE ID=2
DELETE FROM PA_METADATA_FIELDS WHERE ID=3
DELETE FROM PA_METADATA_FIELDS WHERE ID=4
DELETE FROM PA_METADATA_FIELDS WHERE ID=5
DELETE FROM PA_METADATA_FIELDS WHERE ID=6
DELETE FROM PA_METADATA_FIELDS WHERE ID=7
DELETE FROM PA_METADATA_FIELDS WHERE ID=8
DELETE FROM PA_METADATA_FIELDS WHERE ID=9
DELETE FROM PA_METADATA_FIELDS WHERE ID=10
DELETE FROM PA_METADATA_FIELDS WHERE ID=11
DELETE FROM PA_METADATA_FIELDS WHERE ID=12
DELETE FROM PA_METADATA_FIELDS WHERE ID=13
DELETE FROM PA_METADATA_FIELDS WHERE ID=14
DELETE FROM PA_METADATA_FIELDS WHERE ID=15
DELETE FROM PA_METADATA_FIELDS WHERE ID=16
DELETE FROM PA_METADATA_FIELDS WHERE ID=17
DELETE FROM PA_METADATA WHERE ID=1
DELETE FROM LOCALIZED_DESCRIPTION WHERE ID=1
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=1
DELETE FROM WEB_APPLICATION WHERE ID=1
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO PA_METADATA VALUES(2)
INSERT INTO PA_METADATA_FIELDS VALUES(18,2,'Test title 1','titles','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(19,2,'Test title 2','titles','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(20,2,'Test title 3','titles','en,US,')
/*C22*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM OJB_HL_SEQ WHERE TABLENAME='SEQ_PA_METADATA_FIELDS' AND FIELDNAME='deprecatedColumn'
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PA_METADATA_FIELDS','deprecatedColumn',40,20,2)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C21*/INSERT INTO PA_METADATA_FIELDS VALUES(21,2,'Contrib 1','contributors','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(22,2,'Coverage 1','coverages','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(23,2,'Coverage 2','coverages','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(24,2,'Creator 1','creators','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(25,2,'Description 1','descriptions','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(26,2,'Format 1','formats','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(27,2,'Identifier 1','identifiers','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(28,2,'Language 1','languages','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(29,2,'Publisher 1','publishers','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(30,2,'Relation 1','relations','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(31,2,'Right 1','rights','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(32,2,'Source 1','sources','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(33,2,'Subject 1','subjects','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(34,2,'Type 1','types','en,US,')
INSERT INTO WEB_APPLICATION VALUES(2,'/root')
INSERT INTO LOCALIZED_DESCRIPTION VALUES(2,2,'org.apache.jetspeed.om.impl.WebAppDescriptionImpl','This is an english desrcitpion','en,US,')
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(2,2,'org.apache.jetspeed.om.impl.WebAppDisplayNameImpl','This is an english display name','en,US,')
INSERT INTO PORTLET_APPLICATION VALUES(2,'RegistryTestPortlet',NULL,'1.0',0,'This is a Registry Test Portlet.',2,2)
INSERT INTO PORTLET_DEFINITION VALUES(2,'Portlet 0','com.portlet.MyClass0',2,'com.portlet.MyClass0.Portlet 0',NULL,NULL)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM PORTLET_DEFINITION WHERE ID=2
DELETE FROM PORTLET_APPLICATION WHERE APPLICATION_ID=2
DELETE FROM PA_METADATA_FIELDS WHERE ID=18
DELETE FROM PA_METADATA_FIELDS WHERE ID=19
DELETE FROM PA_METADATA_FIELDS WHERE ID=20
DELETE FROM PA_METADATA_FIELDS WHERE ID=21
DELETE FROM PA_METADATA_FIELDS WHERE ID=22
DELETE FROM PA_METADATA_FIELDS WHERE ID=23
DELETE FROM PA_METADATA_FIELDS WHERE ID=24
DELETE FROM PA_METADATA_FIELDS WHERE ID=25
DELETE FROM PA_METADATA_FIELDS WHERE ID=26
DELETE FROM PA_METADATA_FIELDS WHERE ID=27
DELETE FROM PA_METADATA_FIELDS WHERE ID=28
DELETE FROM PA_METADATA_FIELDS WHERE ID=29
DELETE FROM PA_METADATA_FIELDS WHERE ID=30
DELETE FROM PA_METADATA_FIELDS WHERE ID=31
DELETE FROM PA_METADATA_FIELDS WHERE ID=32
DELETE FROM PA_METADATA_FIELDS WHERE ID=33
DELETE FROM PA_METADATA_FIELDS WHERE ID=34
DELETE FROM PA_METADATA WHERE ID=2
DELETE FROM LOCALIZED_DESCRIPTION WHERE ID=2
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=2
DELETE FROM WEB_APPLICATION WHERE ID=2
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO PA_METADATA VALUES(3)
INSERT INTO PA_METADATA_FIELDS VALUES(35,3,'Test title 1','titles','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(36,3,'Test title 2','titles','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(37,3,'Test title 3','titles','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(38,3,'Contrib 1','contributors','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(39,3,'Coverage 1','coverages','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(40,3,'Coverage 2','coverages','en,US,')
/*C22*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM OJB_HL_SEQ WHERE TABLENAME='SEQ_PA_METADATA_FIELDS' AND FIELDNAME='deprecatedColumn'
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PA_METADATA_FIELDS','deprecatedColumn',60,20,3)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C21*/INSERT INTO PA_METADATA_FIELDS VALUES(41,3,'Creator 1','creators','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(42,3,'Description 1','descriptions','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(43,3,'Format 1','formats','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(44,3,'Identifier 1','identifiers','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(45,3,'Language 1','languages','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(46,3,'Publisher 1','publishers','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(47,3,'Relation 1','relations','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(48,3,'Right 1','rights','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(49,3,'Source 1','sources','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(50,3,'Subject 1','subjects','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(51,3,'Type 1','types','en,US,')
INSERT INTO WEB_APPLICATION VALUES(3,'/root')
INSERT INTO LOCALIZED_DESCRIPTION VALUES(3,3,'org.apache.jetspeed.om.impl.WebAppDescriptionImpl','This is an english desrcitpion','en,US,')
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(3,3,'org.apache.jetspeed.om.impl.WebAppDisplayNameImpl','This is an english display name','en,US,')
INSERT INTO PORTLET_APPLICATION VALUES(3,'RegistryTestPortlet',NULL,'1.0',0,'This is a Registry Test Portlet.',3,3)
INSERT INTO PORTLET_DEFINITION VALUES(3,'Portlet 0','com.portlet.MyClass0',3,'com.portlet.MyClass0.Portlet 0',NULL,NULL)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM PORTLET_DEFINITION WHERE ID=3
DELETE FROM PORTLET_APPLICATION WHERE APPLICATION_ID=3
DELETE FROM PA_METADATA_FIELDS WHERE ID=35
DELETE FROM PA_METADATA_FIELDS WHERE ID=36
DELETE FROM PA_METADATA_FIELDS WHERE ID=37
DELETE FROM PA_METADATA_FIELDS WHERE ID=38
DELETE FROM PA_METADATA_FIELDS WHERE ID=39
DELETE FROM PA_METADATA_FIELDS WHERE ID=40
DELETE FROM PA_METADATA_FIELDS WHERE ID=41
DELETE FROM PA_METADATA_FIELDS WHERE ID=42
DELETE FROM PA_METADATA_FIELDS WHERE ID=43
DELETE FROM PA_METADATA_FIELDS WHERE ID=44
DELETE FROM PA_METADATA_FIELDS WHERE ID=45
DELETE FROM PA_METADATA_FIELDS WHERE ID=46
DELETE FROM PA_METADATA_FIELDS WHERE ID=47
DELETE FROM PA_METADATA_FIELDS WHERE ID=48
DELETE FROM PA_METADATA_FIELDS WHERE ID=49
DELETE FROM PA_METADATA_FIELDS WHERE ID=50
DELETE FROM PA_METADATA_FIELDS WHERE ID=51
DELETE FROM PA_METADATA WHERE ID=3
DELETE FROM LOCALIZED_DESCRIPTION WHERE ID=3
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=3
DELETE FROM WEB_APPLICATION WHERE ID=3
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO PA_METADATA VALUES(4)
INSERT INTO PA_METADATA_FIELDS VALUES(52,4,'Test title 1','titles','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(53,4,'Test title 2','titles','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(54,4,'Test title 3','titles','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(55,4,'Contrib 1','contributors','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(56,4,'Coverage 1','coverages','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(57,4,'Coverage 2','coverages','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(58,4,'Creator 1','creators','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(59,4,'Description 1','descriptions','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(60,4,'Format 1','formats','en,US,')
/*C22*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM OJB_HL_SEQ WHERE TABLENAME='SEQ_PA_METADATA_FIELDS' AND FIELDNAME='deprecatedColumn'
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PA_METADATA_FIELDS','deprecatedColumn',80,20,4)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C21*/INSERT INTO PA_METADATA_FIELDS VALUES(61,4,'Identifier 1','identifiers','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(62,4,'Language 1','languages','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(63,4,'Publisher 1','publishers','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(64,4,'Relation 1','relations','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(65,4,'Right 1','rights','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(66,4,'Source 1','sources','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(67,4,'Subject 1','subjects','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(68,4,'Type 1','types','en,US,')
INSERT INTO WEB_APPLICATION VALUES(4,'/root')
INSERT INTO LOCALIZED_DESCRIPTION VALUES(4,4,'org.apache.jetspeed.om.impl.WebAppDescriptionImpl','This is an english desrcitpion','en,US,')
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(4,4,'org.apache.jetspeed.om.impl.WebAppDisplayNameImpl','This is an english display name','en,US,')
INSERT INTO PORTLET_APPLICATION VALUES(4,'RegistryTestPortlet',NULL,'1.0',0,'This is a Registry Test Portlet.',4,4)
INSERT INTO PORTLET_DEFINITION VALUES(4,'Portlet 0','com.portlet.MyClass0',4,'com.portlet.MyClass0.Portlet 0',NULL,NULL)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM PA_METADATA_FIELDS WHERE ID=52
INSERT INTO PA_METADATA_FIELDS VALUES(52,4,'Test title 1','titles','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=53
INSERT INTO PA_METADATA_FIELDS VALUES(53,4,'Test title 2','titles','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=54
INSERT INTO PA_METADATA_FIELDS VALUES(54,4,'Test title 3','titles','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=55
INSERT INTO PA_METADATA_FIELDS VALUES(55,4,'Contrib 1','contributors','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=56
INSERT INTO PA_METADATA_FIELDS VALUES(56,4,'Coverage 1','coverages','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=57
INSERT INTO PA_METADATA_FIELDS VALUES(57,4,'Coverage 2','coverages','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=58
INSERT INTO PA_METADATA_FIELDS VALUES(58,4,'Creator 1','creators','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=59
INSERT INTO PA_METADATA_FIELDS VALUES(59,4,'Description 1','descriptions','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=60
INSERT INTO PA_METADATA_FIELDS VALUES(60,4,'Format 1','formats','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=61
INSERT INTO PA_METADATA_FIELDS VALUES(61,4,'Identifier 1','identifiers','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=62
INSERT INTO PA_METADATA_FIELDS VALUES(62,4,'Language 1','languages','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=63
INSERT INTO PA_METADATA_FIELDS VALUES(63,4,'Publisher 1','publishers','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=64
INSERT INTO PA_METADATA_FIELDS VALUES(64,4,'Relation 1','relations','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=65
INSERT INTO PA_METADATA_FIELDS VALUES(65,4,'Right 1','rights','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=66
INSERT INTO PA_METADATA_FIELDS VALUES(66,4,'Source 1','sources','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=67
INSERT INTO PA_METADATA_FIELDS VALUES(67,4,'Subject 1','subjects','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=68
INSERT INTO PA_METADATA_FIELDS VALUES(68,4,'Type 1','types','en,US,')
DELETE FROM WEB_APPLICATION WHERE ID=4
INSERT INTO WEB_APPLICATION VALUES(4,'/root')
DELETE FROM LOCALIZED_DESCRIPTION WHERE ID=4
INSERT INTO LOCALIZED_DESCRIPTION VALUES(4,4,'org.apache.jetspeed.om.impl.WebAppDescriptionImpl','This is an english desrcitpion','en,US,')
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=4
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(4,4,'org.apache.jetspeed.om.impl.WebAppDisplayNameImpl','This is an english display name','en,US,')
DELETE FROM PORTLET_APPLICATION WHERE APPLICATION_ID=4
INSERT INTO PORTLET_APPLICATION VALUES(4,'RegistryTestPortlet',NULL,'1.0',0,'This is a Registry Test Portlet.',4,4)
INSERT INTO PORTLET_DEFINITION VALUES(5,'Portlet 1','com.portlet.MyClass',4,'com.portlet.MyClass.Portlet 1',NULL,NULL)
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,5,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','Portlet 1 Display Name','en,US,')
INSERT INTO LOCALIZED_DESCRIPTION VALUES(5,5,'org.apache.jetspeed.om.impl.PortletDescriptionImpl','Portlet 1 Description','en,US,')
DELETE FROM PORTLET_DEFINITION WHERE ID=4
INSERT INTO PORTLET_DEFINITION VALUES(4,'Portlet 0','com.portlet.MyClass0',4,'com.portlet.MyClass0.Portlet 0',NULL,NULL)
DELETE FROM PA_METADATA_FIELDS WHERE ID=52
INSERT INTO PA_METADATA_FIELDS VALUES(52,4,'Test title 1','titles','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=53
INSERT INTO PA_METADATA_FIELDS VALUES(53,4,'Test title 2','titles','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=54
INSERT INTO PA_METADATA_FIELDS VALUES(54,4,'Test title 3','titles','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=55
INSERT INTO PA_METADATA_FIELDS VALUES(55,4,'Contrib 1','contributors','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=56
INSERT INTO PA_METADATA_FIELDS VALUES(56,4,'Coverage 1','coverages','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=57
INSERT INTO PA_METADATA_FIELDS VALUES(57,4,'Coverage 2','coverages','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=58
INSERT INTO PA_METADATA_FIELDS VALUES(58,4,'Creator 1','creators','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=59
INSERT INTO PA_METADATA_FIELDS VALUES(59,4,'Description 1','descriptions','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=60
INSERT INTO PA_METADATA_FIELDS VALUES(60,4,'Format 1','formats','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=61
INSERT INTO PA_METADATA_FIELDS VALUES(61,4,'Identifier 1','identifiers','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=62
INSERT INTO PA_METADATA_FIELDS VALUES(62,4,'Language 1','languages','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=63
INSERT INTO PA_METADATA_FIELDS VALUES(63,4,'Publisher 1','publishers','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=64
INSERT INTO PA_METADATA_FIELDS VALUES(64,4,'Relation 1','relations','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=65
INSERT INTO PA_METADATA_FIELDS VALUES(65,4,'Right 1','rights','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=66
INSERT INTO PA_METADATA_FIELDS VALUES(66,4,'Source 1','sources','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=67
INSERT INTO PA_METADATA_FIELDS VALUES(67,4,'Subject 1','subjects','en,US,')
DELETE FROM PA_METADATA_FIELDS WHERE ID=68
INSERT INTO PA_METADATA_FIELDS VALUES(68,4,'Type 1','types','en,US,')
DELETE FROM WEB_APPLICATION WHERE ID=4
INSERT INTO WEB_APPLICATION VALUES(4,'/root')
DELETE FROM LOCALIZED_DESCRIPTION WHERE ID=4
INSERT INTO LOCALIZED_DESCRIPTION VALUES(4,4,'org.apache.jetspeed.om.impl.WebAppDescriptionImpl','This is an english desrcitpion','en,US,')
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=4
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(4,4,'org.apache.jetspeed.om.impl.WebAppDisplayNameImpl','This is an english display name','en,US,')
DELETE FROM PORTLET_APPLICATION WHERE APPLICATION_ID=4
INSERT INTO PORTLET_APPLICATION VALUES(4,'RegistryTestPortlet',NULL,'1.0',0,'This is a Registry Test Portlet.',4,4)
DELETE FROM PORTLET_DEFINITION WHERE ID=4
INSERT INTO PORTLET_DEFINITION VALUES(4,'Portlet 0','com.portlet.MyClass0',4,'com.portlet.MyClass0.Portlet 0',NULL,NULL)
DELETE FROM PORTLET_DEFINITION WHERE ID=5
INSERT INTO PORTLET_DEFINITION VALUES(5,'Portlet 1','com.portlet.MyClass',4,'com.portlet.MyClass.Portlet 1',NULL,NULL)
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,5,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','Portlet 1 Display Name','en,US,')
DELETE FROM LOCALIZED_DESCRIPTION WHERE ID=5
INSERT INTO LOCALIZED_DESCRIPTION VALUES(5,5,'org.apache.jetspeed.om.impl.PortletDescriptionImpl','Portlet 1 Description','en,US,')
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM PORTLET_DEFINITION WHERE ID=4
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
DELETE FROM LOCALIZED_DESCRIPTION WHERE ID=5
DELETE FROM PORTLET_DEFINITION WHERE ID=5
DELETE FROM PORTLET_APPLICATION WHERE APPLICATION_ID=4
DELETE FROM PA_METADATA_FIELDS WHERE ID=52
DELETE FROM PA_METADATA_FIELDS WHERE ID=53
DELETE FROM PA_METADATA_FIELDS WHERE ID=54
DELETE FROM PA_METADATA_FIELDS WHERE ID=55
DELETE FROM PA_METADATA_FIELDS WHERE ID=56
DELETE FROM PA_METADATA_FIELDS WHERE ID=57
DELETE FROM PA_METADATA_FIELDS WHERE ID=58
DELETE FROM PA_METADATA_FIELDS WHERE ID=59
DELETE FROM PA_METADATA_FIELDS WHERE ID=60
DELETE FROM PA_METADATA_FIELDS WHERE ID=61
DELETE FROM PA_METADATA_FIELDS WHERE ID=62
DELETE FROM PA_METADATA_FIELDS WHERE ID=63
DELETE FROM PA_METADATA_FIELDS WHERE ID=64
DELETE FROM PA_METADATA_FIELDS WHERE ID=65
DELETE FROM PA_METADATA_FIELDS WHERE ID=66
DELETE FROM PA_METADATA_FIELDS WHERE ID=67
DELETE FROM PA_METADATA_FIELDS WHERE ID=68
DELETE FROM PA_METADATA WHERE ID=4
DELETE FROM LOCALIZED_DESCRIPTION WHERE ID=4
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=4
DELETE FROM WEB_APPLICATION WHERE ID=4
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO PA_METADATA VALUES(5)
INSERT INTO PA_METADATA_FIELDS VALUES(69,5,'Test title 1','titles','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(70,5,'Test title 2','titles','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(71,5,'Test title 3','titles','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(72,5,'Contrib 1','contributors','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(73,5,'Coverage 1','coverages','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(74,5,'Coverage 2','coverages','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(75,5,'Creator 1','creators','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(76,5,'Description 1','descriptions','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(77,5,'Format 1','formats','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(78,5,'Identifier 1','identifiers','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(79,5,'Language 1','languages','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(80,5,'Publisher 1','publishers','en,US,')
/*C22*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM OJB_HL_SEQ WHERE TABLENAME='SEQ_PA_METADATA_FIELDS' AND FIELDNAME='deprecatedColumn'
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PA_METADATA_FIELDS','deprecatedColumn',100,20,5)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C21*/INSERT INTO PA_METADATA_FIELDS VALUES(81,5,'Relation 1','relations','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(82,5,'Right 1','rights','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(83,5,'Source 1','sources','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(84,5,'Subject 1','subjects','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(85,5,'Type 1','types','en,US,')
INSERT INTO WEB_APPLICATION VALUES(5,'/root')
INSERT INTO LOCALIZED_DESCRIPTION VALUES(6,5,'org.apache.jetspeed.om.impl.WebAppDescriptionImpl','This is an english desrcitpion','en,US,')
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(5,5,'org.apache.jetspeed.om.impl.WebAppDisplayNameImpl','This is an english display name','en,US,')
INSERT INTO PORTLET_APPLICATION VALUES(5,'RegistryTestPortlet',NULL,'1.0',0,'This is a Registry Test Portlet.',5,5)
INSERT INTO PORTLET_DEFINITION VALUES(6,'Portlet 0','com.portlet.MyClass0',5,'com.portlet.MyClass0.Portlet 0',NULL,NULL)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C22*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_LANGUAGE','deprecatedColumn',20,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PORTLET_CONTENT_TYPE','deprecatedColumn',20,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PARAMETER','deprecatedColumn',20,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C21*/INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,6,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','Portlet 0 Display Name','en,US,')
INSERT INTO LANGUAGE VALUES(2,6,'Test Portlet 0','Portlet 0','en,US,',NULL)
INSERT INTO PORTLET_CONTENT_TYPE VALUES(3,6,'html/text','"view","help","edit"')
INSERT INTO PORTLET_CONTENT_TYPE VALUES(4,6,'wml','"view","help"')
INSERT INTO PARAMETER VALUES(3,6,'org.apache.jetspeed.om.impl.PortletInitParameterImpl','param 1','value 1')
INSERT INTO PARAMETER VALUES(4,6,'org.apache.jetspeed.om.impl.PortletInitParameterImpl','param 2','value 2')
INSERT INTO PORTLET_PREFERENCE VALUES(0,6,'preference 1','org.apache.jetspeed.om.preference.impl.DefaultPreferenceImpl','FALSE')
/*C22*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PREFERENCE_VALUE','deprecatedColumn',20,20,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C21*/INSERT INTO PREFERENCE_VALUE VALUES(1,0,'pref 1 values 1')
INSERT INTO PREFERENCE_VALUE VALUES(2,0,'pref 1 value 2')
INSERT INTO LOCALIZED_DESCRIPTION VALUES(9,0,'org.apache.jetspeed.om.impl.PreferenceDescriptionImpl','Preference 1 description','en,US,')
INSERT INTO LOCALIZED_DESCRIPTION VALUES(8,6,'org.apache.jetspeed.om.impl.PortletDescriptionImpl','Portlet 0 Description','en,US,')
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
DELETE FROM LANGUAGE WHERE ID=2
DELETE FROM PORTLET_CONTENT_TYPE WHERE CONTENT_TYPE_ID=3
DELETE FROM PORTLET_CONTENT_TYPE WHERE CONTENT_TYPE_ID=4
DELETE FROM PARAMETER WHERE PARAMETER_ID=3
DELETE FROM PARAMETER WHERE PARAMETER_ID=4
DELETE FROM PREFERENCE_VALUE WHERE ID=1
DELETE FROM PREFERENCE_VALUE WHERE ID=2
DELETE FROM LOCALIZED_DESCRIPTION WHERE ID=9
DELETE FROM PORTLET_PREFERENCE WHERE ID=0
DELETE FROM LOCALIZED_DESCRIPTION WHERE ID=8
DELETE FROM PORTLET_DEFINITION WHERE ID=6
DELETE FROM PORTLET_APPLICATION WHERE APPLICATION_ID=5
DELETE FROM PA_METADATA_FIELDS WHERE ID=69
DELETE FROM PA_METADATA_FIELDS WHERE ID=70
DELETE FROM PA_METADATA_FIELDS WHERE ID=71
DELETE FROM PA_METADATA_FIELDS WHERE ID=72
DELETE FROM PA_METADATA_FIELDS WHERE ID=73
DELETE FROM PA_METADATA_FIELDS WHERE ID=74
DELETE FROM PA_METADATA_FIELDS WHERE ID=75
DELETE FROM PA_METADATA_FIELDS WHERE ID=76
DELETE FROM PA_METADATA_FIELDS WHERE ID=77
DELETE FROM PA_METADATA_FIELDS WHERE ID=78
DELETE FROM PA_METADATA_FIELDS WHERE ID=79
DELETE FROM PA_METADATA_FIELDS WHERE ID=80
DELETE FROM PA_METADATA_FIELDS WHERE ID=81
DELETE FROM PA_METADATA_FIELDS WHERE ID=82
DELETE FROM PA_METADATA_FIELDS WHERE ID=83
DELETE FROM PA_METADATA_FIELDS WHERE ID=84
DELETE FROM PA_METADATA_FIELDS WHERE ID=85
DELETE FROM PA_METADATA WHERE ID=5
DELETE FROM LOCALIZED_DESCRIPTION WHERE ID=6
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=5
DELETE FROM WEB_APPLICATION WHERE ID=5
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO PA_METADATA VALUES(6)
INSERT INTO PA_METADATA_FIELDS VALUES(86,6,'Test title 1','titles','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(87,6,'Test title 2','titles','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(88,6,'Test title 3','titles','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(89,6,'Contrib 1','contributors','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(90,6,'Coverage 1','coverages','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(91,6,'Coverage 2','coverages','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(92,6,'Creator 1','creators','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(93,6,'Description 1','descriptions','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(94,6,'Format 1','formats','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(95,6,'Identifier 1','identifiers','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(96,6,'Language 1','languages','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(97,6,'Publisher 1','publishers','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(98,6,'Relation 1','relations','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(99,6,'Right 1','rights','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(100,6,'Source 1','sources','en,US,')
/*C22*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM OJB_HL_SEQ WHERE TABLENAME='SEQ_PA_METADATA_FIELDS' AND FIELDNAME='deprecatedColumn'
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PA_METADATA_FIELDS','deprecatedColumn',120,20,6)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C21*/INSERT INTO PA_METADATA_FIELDS VALUES(101,6,'Subject 1','subjects','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(102,6,'Type 1','types','en,US,')
INSERT INTO WEB_APPLICATION VALUES(6,'/root')
INSERT INTO LOCALIZED_DESCRIPTION VALUES(10,6,'org.apache.jetspeed.om.impl.WebAppDescriptionImpl','This is an english desrcitpion','en,US,')
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(6,6,'org.apache.jetspeed.om.impl.WebAppDisplayNameImpl','This is an english display name','en,US,')
INSERT INTO PORTLET_APPLICATION VALUES(6,'RegistryTestPortlet',NULL,'1.0',0,'This is a Registry Test Portlet.',6,6)
INSERT INTO PORTLET_DEFINITION VALUES(7,'Portlet 0','com.portlet.MyClass0',6,'com.portlet.MyClass0.Portlet 0',NULL,NULL)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM PORTLET_DEFINITION WHERE ID=7
DELETE FROM PORTLET_APPLICATION WHERE APPLICATION_ID=6
DELETE FROM PA_METADATA_FIELDS WHERE ID=86
DELETE FROM PA_METADATA_FIELDS WHERE ID=87
DELETE FROM PA_METADATA_FIELDS WHERE ID=88
DELETE FROM PA_METADATA_FIELDS WHERE ID=89
DELETE FROM PA_METADATA_FIELDS WHERE ID=90
DELETE FROM PA_METADATA_FIELDS WHERE ID=91
DELETE FROM PA_METADATA_FIELDS WHERE ID=92
DELETE FROM PA_METADATA_FIELDS WHERE ID=93
DELETE FROM PA_METADATA_FIELDS WHERE ID=94
DELETE FROM PA_METADATA_FIELDS WHERE ID=95
DELETE FROM PA_METADATA_FIELDS WHERE ID=96
DELETE FROM PA_METADATA_FIELDS WHERE ID=97
DELETE FROM PA_METADATA_FIELDS WHERE ID=98
DELETE FROM PA_METADATA_FIELDS WHERE ID=99
DELETE FROM PA_METADATA_FIELDS WHERE ID=100
DELETE FROM PA_METADATA_FIELDS WHERE ID=101
DELETE FROM PA_METADATA_FIELDS WHERE ID=102
DELETE FROM PA_METADATA WHERE ID=6
DELETE FROM LOCALIZED_DESCRIPTION WHERE ID=10
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=6
DELETE FROM WEB_APPLICATION WHERE ID=6
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
INSERT INTO PA_METADATA VALUES(7)
INSERT INTO PA_METADATA_FIELDS VALUES(103,7,'Test title 1','titles','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(104,7,'Test title 2','titles','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(105,7,'Test title 3','titles','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(106,7,'Contrib 1','contributors','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(107,7,'Coverage 1','coverages','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(108,7,'Coverage 2','coverages','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(109,7,'Creator 1','creators','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(110,7,'Description 1','descriptions','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(111,7,'Format 1','formats','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(112,7,'Identifier 1','identifiers','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(113,7,'Language 1','languages','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(114,7,'Publisher 1','publishers','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(115,7,'Relation 1','relations','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(116,7,'Right 1','rights','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(117,7,'Source 1','sources','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(118,7,'Subject 1','subjects','en,US,')
INSERT INTO PA_METADATA_FIELDS VALUES(119,7,'Type 1','types','en,US,')
INSERT INTO WEB_APPLICATION VALUES(7,'/root')
INSERT INTO LOCALIZED_DESCRIPTION VALUES(12,7,'org.apache.jetspeed.om.impl.WebAppDescriptionImpl','This is an english desrcitpion','en,US,')
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(7,7,'org.apache.jetspeed.om.impl.WebAppDisplayNameImpl','This is an english display name','en,US,')
INSERT INTO PORTLET_APPLICATION VALUES(7,'RegistryTestPortlet',NULL,'1.0',0,'This is a Registry Test Portlet.',7,7)
INSERT INTO PORTLET_DEFINITION VALUES(8,'Portlet 0','com.portlet.MyClass0',7,'com.portlet.MyClass0.Portlet 0',NULL,NULL)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM PORTLET_DEFINITION WHERE ID=8
DELETE FROM PORTLET_APPLICATION WHERE APPLICATION_ID=7
DELETE FROM PA_METADATA_FIELDS WHERE ID=103
DELETE FROM PA_METADATA_FIELDS WHERE ID=104
DELETE FROM PA_METADATA_FIELDS WHERE ID=105
DELETE FROM PA_METADATA_FIELDS WHERE ID=106
DELETE FROM PA_METADATA_FIELDS WHERE ID=107
DELETE FROM PA_METADATA_FIELDS WHERE ID=108
DELETE FROM PA_METADATA_FIELDS WHERE ID=109
DELETE FROM PA_METADATA_FIELDS WHERE ID=110
DELETE FROM PA_METADATA_FIELDS WHERE ID=111
DELETE FROM PA_METADATA_FIELDS WHERE ID=112
DELETE FROM PA_METADATA_FIELDS WHERE ID=113
DELETE FROM PA_METADATA_FIELDS WHERE ID=114
DELETE FROM PA_METADATA_FIELDS WHERE ID=115
DELETE FROM PA_METADATA_FIELDS WHERE ID=116
DELETE FROM PA_METADATA_FIELDS WHERE ID=117
DELETE FROM PA_METADATA_FIELDS WHERE ID=118
DELETE FROM PA_METADATA_FIELDS WHERE ID=119
DELETE FROM PA_METADATA WHERE ID=7
DELETE FROM LOCALIZED_DESCRIPTION WHERE ID=12
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=7
DELETE FROM WEB_APPLICATION WHERE ID=7
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C22*/CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C23*/CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C24*/CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM OJB_HL_SEQ WHERE TABLENAME='SEQ_PORTLET_APPLICATION' AND FIELDNAME='deprecatedColumn'
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PORTLET_APPLICATION','deprecatedColumn',40,20,2)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM OJB_HL_SEQ WHERE TABLENAME='SEQ_PA_METADATA' AND FIELDNAME='deprecatedColumn'
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PA_METADATA','deprecatedColumn',40,20,2)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM OJB_HL_SEQ WHERE TABLENAME='SEQ_WEB_APPLICATION' AND FIELDNAME='deprecatedColumn'
INSERT INTO OJB_HL_SEQ VALUES('SEQ_WEB_APPLICATION','deprecatedColumn',40,20,2)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM OJB_HL_SEQ WHERE TABLENAME='SEQ_PORTLET_DEFINITION' AND FIELDNAME='deprecatedColumn'
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PORTLET_DEFINITION','deprecatedColumn',40,20,2)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C23*/INSERT INTO PA_METADATA VALUES(21)
INSERT INTO WEB_APPLICATION VALUES(21,'/HW_App')
/*C24*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM OJB_HL_SEQ WHERE TABLENAME='SEQ_LOCALIZED_DISPLAY_NAME' AND FIELDNAME='deprecatedColumn'
INSERT INTO OJB_HL_SEQ VALUES('SEQ_LOCALIZED_DISPLAY_NAME','deprecatedColumn',40,20,2)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C23*/INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(21,21,'org.apache.jetspeed.om.impl.WebAppDisplayNameImpl','HW_App','en,US,')
INSERT INTO PORTLET_APPLICATION VALUES(21,'HW_App','HW_App','1.0',0,NULL,21,21)
INSERT INTO PORTLET_DEFINITION VALUES(21,'HelloPortlet','org.apache.jetspeed.portlet.helloworld.HelloWorld',21,'HelloPortlet','-1',NULL)
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,21,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','HelloWorld Portlet Wrapper','en,US,')
/*C24*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM OJB_HL_SEQ WHERE TABLENAME='SEQ_LANGUAGE' AND FIELDNAME='deprecatedColumn'
INSERT INTO OJB_HL_SEQ VALUES('SEQ_LANGUAGE','deprecatedColumn',40,20,2)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C23*/INSERT INTO LANGUAGE VALUES(21,21,'HelloWorldTitle','This is the short title','en,US,','"Test"')
/*C24*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM OJB_HL_SEQ WHERE TABLENAME='SEQ_PORTLET_CONTENT_TYPE' AND FIELDNAME='deprecatedColumn'
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PORTLET_CONTENT_TYPE','deprecatedColumn',40,20,2)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C23*/INSERT INTO PORTLET_CONTENT_TYPE VALUES(21,21,'text/html','"view","help","edit"')
/*C24*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM OJB_HL_SEQ WHERE TABLENAME='SEQ_PARAMETER' AND FIELDNAME='deprecatedColumn'
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PARAMETER','deprecatedColumn',40,20,2)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C23*/INSERT INTO PARAMETER VALUES(21,21,'org.apache.jetspeed.om.impl.PortletInitParameterImpl','hello','Hello Portlet')
/*C24*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM OJB_HL_SEQ WHERE TABLENAME='SEQ_LOCALIZED_DESCRIPTION' AND FIELDNAME='deprecatedColumn'
INSERT INTO OJB_HL_SEQ VALUES('SEQ_LOCALIZED_DESCRIPTION','deprecatedColumn',40,20,2)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C23*/INSERT INTO LOCALIZED_DESCRIPTION VALUES(21,21,'org.apache.jetspeed.om.impl.ParameterDescriptionImpl','test init param','en,US,')
INSERT INTO LOCALIZED_DESCRIPTION VALUES(22,21,'org.apache.jetspeed.om.impl.PortletDescriptionImpl','This is the hello world of portlets, it doesn''t do much','en,US,')
INSERT INTO PORTLET_DEFINITION VALUES(22,'JMXPortlet','org.apache.jetspeed.demo.jmx.JMXPortlet',21,'JMXPortlet','-1',NULL)
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,22,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','JMX Registry Access portlet','en,US,')
INSERT INTO LANGUAGE VALUES(22,22,'JMX Portal Console','JMX Portlet Console','en,US,','"JMX"')
INSERT INTO PORTLET_CONTENT_TYPE VALUES(22,22,'text/html','"view"')
INSERT INTO PORTLET_DEFINITION VALUES(23,'PreferencePortlet','org.apache.jetspeed.demo.preferences.PreferencePortlet',21,'PreferencePortlet','-1',NULL)
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,23,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','PreferencePortlet','en,US,')
INSERT INTO LANGUAGE VALUES(23,23,'Preference Test','Preference Test','en,US,','"Preferences"')
INSERT INTO PORTLET_CONTENT_TYPE VALUES(23,23,'text/html','"view"')
INSERT INTO PORTLET_PREFERENCE VALUES(0,23,'pref1','org.apache.jetspeed.om.preference.impl.DefaultPreferenceImpl','FALSE')
/*C24*/SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
DELETE FROM OJB_HL_SEQ WHERE TABLENAME='SEQ_PREFERENCE_VALUE' AND FIELDNAME='deprecatedColumn'
INSERT INTO OJB_HL_SEQ VALUES('SEQ_PREFERENCE_VALUE','deprecatedColumn',40,20,2)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C23*/INSERT INTO PREFERENCE_VALUE VALUES(21,0,'Hello')
INSERT INTO PREFERENCE_VALUE VALUES(22,0,'Hello2')
INSERT INTO PORTLET_DEFINITION VALUES(24,'DisplayRequestPortlet','org.apache.jetspeed.portlet.ServletPortlet',21,'DisplayRequestPortlet','-1',NULL)
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,24,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','DisplayRequest Portlet Wrapper','en,US,')
INSERT INTO LANGUAGE VALUES(24,24,'Display the Portlet Request Information','Portlet Request Information','en,US,',NULL)
INSERT INTO PORTLET_CONTENT_TYPE VALUES(24,24,'text/html','"view","help"')
INSERT INTO PARAMETER VALUES(22,24,'org.apache.jetspeed.om.impl.PortletInitParameterImpl','HelpPage','/WEB-INF/demo/simple/DisplayRequestHelp.jsp')
INSERT INTO PARAMETER VALUES(23,24,'org.apache.jetspeed.om.impl.PortletInitParameterImpl','ViewPage','/WEB-INF/demo/simple/DisplayRequest.jsp')
INSERT INTO PORTLET_DEFINITION VALUES(25,'PickANumberPortlet','org.apache.jetspeed.demo.simple.PickANumberServlet',21,'PickANumberPortlet','-1',NULL)
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,25,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','Pick a number game','en,US,')
INSERT INTO LANGUAGE VALUES(25,25,'Pick a Number',NULL,'en,US,',NULL)
INSERT INTO PORTLET_CONTENT_TYPE VALUES(25,25,'text/html','"view","help"')
INSERT INTO PORTLET_DEFINITION VALUES(26,'AttributeScopePortlet','org.apache.jetspeed.demo.simple.AttributeScopeServlet',21,'AttributeScopePortlet','-1',NULL)
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,26,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','Attribute Scope Demo','en,US,')
INSERT INTO LANGUAGE VALUES(26,26,'Attribute Scope Demo Portlet',NULL,'en,US,',NULL)
INSERT INTO PORTLET_CONTENT_TYPE VALUES(26,26,'text/html','"view","help"')
INSERT INTO PORTLET_DEFINITION VALUES(27,'CustomerList','org.apache.jetspeed.demo.customerInfo.CustomerPortlet',21,'CustomerList','-1',NULL)
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,27,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','Customer List','en,US,')
INSERT INTO LANGUAGE VALUES(27,27,'Customer List','Customer List','en,US,',NULL)
INSERT INTO PORTLET_CONTENT_TYPE VALUES(27,27,'text/html','"view"')
INSERT INTO PARAMETER VALUES(24,27,'org.apache.jetspeed.om.impl.PortletInitParameterImpl','ViewPage','/WEB-INF/demo/customerInfo/Page1.jsp')
INSERT INTO PORTLET_DEFINITION VALUES(28,'CustomerInfo','org.apache.jetspeed.demo.customerInfo.CustomerPortlet',21,'CustomerInfo','-1',NULL)
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,28,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','Customer Information','en,US,')
INSERT INTO LANGUAGE VALUES(28,28,'Customer Information','Customer Info','en,US,',NULL)
INSERT INTO PORTLET_CONTENT_TYPE VALUES(28,28,'text/html','"view"')
INSERT INTO PARAMETER VALUES(25,28,'org.apache.jetspeed.om.impl.PortletInitParameterImpl','ViewPage','/WEB-INF/demo/customerInfo/Page2.jsp')
INSERT INTO PORTLET_DEFINITION VALUES(29,'CustomerDetail','org.apache.jetspeed.demo.customerInfo.CustomerPortlet',21,'CustomerDetail','-1',NULL)
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,29,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','Customer Detail','en,US,')
INSERT INTO LANGUAGE VALUES(29,29,'Customer Detail','Customer Detail','en,US,',NULL)
INSERT INTO PORTLET_CONTENT_TYPE VALUES(29,29,'text/html','"view"')
INSERT INTO PARAMETER VALUES(26,29,'org.apache.jetspeed.om.impl.PortletInitParameterImpl','ViewPage','/WEB-INF/demo/customerInfo/Page3.jsp')
INSERT INTO PORTLET_DEFINITION VALUES(30,'LoginPortlet','org.apache.jetspeed.portlet.ServletPortlet',21,'LoginPortlet','-1',NULL)
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,30,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','LoginRequest Portlet Wrapper','en,US,')
INSERT INTO LANGUAGE VALUES(30,30,'Login/Logout  Request Information','Portlet Request Information','en,US,',NULL)
INSERT INTO PORTLET_CONTENT_TYPE VALUES(30,30,'text/html','"view"')
INSERT INTO PARAMETER VALUES(27,30,'org.apache.jetspeed.om.impl.PortletInitParameterImpl','ViewPage','/WEB-INF/demo/simple/Login.jsp')
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT TRUE
/*C22*/DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
INSERT INTO LOCALIZED_DISPLAY_NAME VALUES(0,21,'org.apache.jetspeed.om.impl.PortletDisplayNameImpl','HelloWorld Portlet Wrapper','en,US,')
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=0
DELETE FROM LANGUAGE WHERE ID=21
DELETE FROM PORTLET_CONTENT_TYPE WHERE CONTENT_TYPE_ID=21
DELETE FROM LOCALIZED_DESCRIPTION WHERE ID=21
DELETE FROM PARAMETER WHERE PARAMETER_ID=21
DELETE FROM LOCALIZED_DESCRIPTION WHERE ID=22
DELETE FROM PORTLET_DEFINITION WHERE ID=21
DELETE FROM PORTLET_DEFINITION WHERE ID=22
DELETE FROM PREFERENCE_VALUE WHERE ID=21
DELETE FROM PREFERENCE_VALUE WHERE ID=22
DELETE FROM PORTLET_PREFERENCE WHERE ID=0
DELETE FROM PORTLET_DEFINITION WHERE ID=23
DELETE FROM PARAMETER WHERE PARAMETER_ID=22
DELETE FROM PARAMETER WHERE PARAMETER_ID=23
DELETE FROM PORTLET_DEFINITION WHERE ID=24
DELETE FROM PORTLET_DEFINITION WHERE ID=25
DELETE FROM PORTLET_DEFINITION WHERE ID=26
DELETE FROM PARAMETER WHERE PARAMETER_ID=24
DELETE FROM PORTLET_DEFINITION WHERE ID=27
DELETE FROM PARAMETER WHERE PARAMETER_ID=25
DELETE FROM PORTLET_DEFINITION WHERE ID=28
DELETE FROM PARAMETER WHERE PARAMETER_ID=26
DELETE FROM PORTLET_DEFINITION WHERE ID=29
DELETE FROM PARAMETER WHERE PARAMETER_ID=27
DELETE FROM PORTLET_DEFINITION WHERE ID=30
DELETE FROM PORTLET_APPLICATION WHERE APPLICATION_ID=21
DELETE FROM PA_METADATA WHERE ID=21
DELETE FROM LOCALIZED_DISPLAY_NAME WHERE ID=21
DELETE FROM WEB_APPLICATION WHERE ID=21
/*C25*/CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C26*/CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C27*/CONNECT USER sa PASSWORD ""
SET AUTOCOMMIT TRUE
SET READONLY FALSE
SET AUTOCOMMIT FALSE
/*C28*/CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
CONNECT USER sa PASSWORD ""
