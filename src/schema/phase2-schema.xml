<?xml version="1.0"?>
<!DOCTYPE database SYSTEM "http://db.apache.org/torque/dtd/database_3_1.dtd">
<!-- Autogenerated by JDBCToXMLSchema! -->
<database>

    <!--
       Desktop 
    -->
    
    <table name="DESKTOP">
        <column name="DESKTOP_ID" primaryKey="true" required="true"
            size="80" type="VARCHAR"/>
        <column name="TITLE" size="100" type="VARCHAR"/>
        <column name="COMPONENT_NAME" size="100" type="VARCHAR"/>
        <column name="ACL" size="80" type="VARCHAR"/>
        <column name="DEFAULT_PAGE_ID" size="80" type="VARCHAR"/>
        <column name="DEFAULT_THEME" size="100" type="VARCHAR"/>
        <column name="DEFAULT_DECORATOR" size="100" type="VARCHAR"/>
        <column name="DEFAULT_PORTLET_DECORATOR" size="100" type="VARCHAR"/>
    </table>
    
    <!-- associates a desktop with its top level pages -->
    <table name="DESKTOP_PAGES">
        <column name="DESKTOP_ID" required="true" size="80" type="VARCHAR"/>
        <column name="PAGE_ID" required="true" size="80" type="VARCHAR"/>
        <index name="IX_DESKTOP_PAGES_1">
            <index-column name="DESKTOP_ID" />
            <index-column name="PAGE_ID" />
        </index>
    </table>
    
    <!-- associates a page with its sub group pages -->
    <table name="SUB_PAGES">
        <column name="PAGE_ID" required="true" size="80" type="VARCHAR"/>
        <column name="SUB_PAGE_ID" required="true" size="80" type="VARCHAR"/>
        <index name="IX_SUB_PAGES_1">
            <index-column name="PAGE_ID" />
            <index-column name="SUB_PAGE_ID" />
        </index>
    </table>
    
    <!--
       Page Definitions
    -->

    <table name="PAGE">
        <column name="PAGE_ID" primaryKey="true" required="true"
            size="80" type="VARCHAR"/>
        <column name="TITLE" size="100" type="VARCHAR"/>
        <column name="DEFAULT_SKIN" size="100" type="VARCHAR"/>
        <column name="DEFAULT_DECORATOR" size="100" type="VARCHAR"/>
        <column name="DEFAULT_PORTLET_DECORATOR" size="100" type="VARCHAR"/>
        <column name="ACL" size="80" type="VARCHAR"/>
    </table>
    
    <!--
       Fragments (portlets, layouts)
    -->

    <table name="FRAGMENT">
        <column name="FRAGMENT_ID" primaryKey="true" required="true"
            size="80" type="VARCHAR"/>
        <column name="COMPONENT_NAME" size="100" type="VARCHAR"/>
        <column name="ACL" size="80" type="VARCHAR"/>
        <column name="TITLE" size="100" type="VARCHAR"/>
        <column name="TYPE" size="40" type="VARCHAR"/>
        <column name="SKIN" size="80" type="VARCHAR"/>
        <column name="DECORATOR" size="80" type="VARCHAR"/>
        <column name="STATE" size="40" type="VARCHAR"/>
    </table>
    
    <!-- associates a page with its top level fragments -->
    <table name="PAGE_FRAGMENTS">
        <column name="PAGE_ID" required="true" size="80" type="VARCHAR"/>
        <column name="FRAGMENT_ID" required="true" size="80" type="VARCHAR"/>
        <index name="IX_PAGE_FRAGMENTS_1">
            <index-column name="PAGE_ID" />
            <index-column name="FRAGMENT_ID" />
        </index>
    </table>
    
    <!-- associates a fragment with its top level fragments -->
    <table name="SUB_FRAGMENTS">
        <column name="FRAGMENT_ID" required="true" size="80" type="VARCHAR"/>
        <column name="SUB_FRAGMENT_ID" required="true" size="80" type="VARCHAR"/>
        <index name="IX_SUB_FRAGMENTS_1">
            <index-column name="FRAGMENT_ID" />
            <index-column name="SUB_FRAGMENT_ID" />
        </index>
    </table>
    
    <table name="FRAGMENT_PARAMETER">
        <column name="PARAMETER_ID" primaryKey="true" required="true" type="INTEGER"/>
        <column name="FRAGMENT_ID" required="true" type="INTEGER"/>
        <column name="NAME" required="true" size="80" type="VARCHAR"/>
        <column name="VALUE" required="true" type="LONGVARCHAR"/>
        <unique name="UN_FRAGMENT_PARAMETER_1">
          <unique-column name="FRAGMENT_ID" />
          <unique-column name="PARAMETER_ID" />
        </unique>
    </table>
    
    <!-- names a reference to a fragment subtree -->
    <table name="FRAGMENT_REF">
        <column name="FRAGMENT_REF_ID" primaryKey="true" required="true"
            size="80" type="VARCHAR"/>
        <column name="FRAGMENT_ID" required="true" size="80" type="VARCHAR"/>
        <column name="NAME" required="true" size="80" type="VARCHAR"/>
        <column name="TITLE" size="100" type="VARCHAR"/>
    </table>
    
    <table name="FRAGMENT_REFS">
        <column name="FRAGMENT_REF_ID" required="true" size="80" type="VARCHAR"/>
        <column name="FRAGMENT_ID" required="true" size="80" type="VARCHAR"/>
    </table>
    
    <!--
       Profiler
    -->

    <table name="PROFILING_RULE">
        <column name="RULE_ID" primaryKey="true" required="true"
            size="80" type="VARCHAR"/>
        <column name="CLASS_NAME" required="true" size="100" type="VARCHAR"/>
        <column name="TITLE" size="100" type="VARCHAR"/>
    </table>
    
    <table name="RULE_CRITERION">
        <column name="CRITERION_ID" primaryKey="true" required="true"
            size="80" type="VARCHAR"/>
        <column name="RULE_ID" required="true" size="80" type="VARCHAR"/>
        <column name="FALLBACK_ORDER" required="true" type="INTEGER"/>
        <column name="REQUEST_TYPE" required="true" size="40" type="VARCHAR"/>
        <column name="NAME" required="true" size="80" type="VARCHAR"/>
        <column name="VALUE" size="128" type="VARCHAR"/>
        <column default="1" name="FALLBACK_TYPE" type="INTEGER"/>
        <index name="IX_RULE_CRITERION_1">
            <index-column name="RULE_ID" />
            <index-column name="FALLBACK_ORDER" />
        </index>
    </table>
    
    <table name="PRINCIPAL_RULE_ASSOC">
        <column name="PRINCIPAL_NAME" required="true" size="80" type="VARCHAR"/>
        <column name="RULE_ID" required="true" size="80" type="VARCHAR"/>
    </table>
    
    <table name="PROFILE_DESKTOP_ASSOC">
        <column name="LOCATOR_HASH" required="true" size="40" type="VARCHAR"/>
        <column name="DESKTOP_ID" required="true" size="80" type="VARCHAR"/>
        <unique name="UN_PROFILE_DESKTOP_1">
          <unique-column name="LOCATOR_HASH" />
          <unique-column name="DESKTOP_ID" />
        </unique>
    </table>
    
    <table name="PROFILE_PAGE_ASSOC">
        <column name="LOCATOR_HASH" required="true" size="40" type="VARCHAR"/>
        <column name="PAGE_ID" required="true" size="80" type="VARCHAR"/>
        <unique name="UN_PROFILE_PAGE_1">
          <unique-column name="LOCATOR_HASH" />
          <unique-column name="PAGE_ID" />
        </unique>
    </table>
    
</database>
