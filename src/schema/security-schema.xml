<?xml version="1.0"?>
<!DOCTYPE database SYSTEM "http://db.apache.org/torque/dtd/database_3_1.dtd">
<!-- Autogenerated by JDBCToXMLSchema! -->
<database>

    <!--
       Create Security Principal Table
    -->
    <table name="SECURITY_PRINCIPAL">
        <column name="PRINCIPAL_ID" primaryKey="true" required="true" type="INTEGER"/>
        <column name="CLASSNAME" required="true" size="254" type="VARCHAR"/>
        <column name="FULL_PATH" required="true" size="254" type="VARCHAR"/>
        <column name="CREATION_DATE" required="true" type="TIMESTAMP"/>
        <column name="MODIFIED_DATE" required="true" type="TIMESTAMP"/>
    </table>
    
    <!--
       Create Security Credential Table
    -->
    <table name="SECURITY_CREDENTIAL">
        <column name="CREDENTIAL_ID" primaryKey="true" required="true" type="INTEGER"/>
        <column name="PRINCIPAL_ID" required="true" type="INTEGER"/>
        <column name="VALUE" required="true" size="254" type="VARCHAR"/>
        <column name="TYPE" required="true" type="SMALLINT"/>
        <column name="CLASSNAME" size="254" type="VARCHAR"/>
        <column name="CREATION_DATE" required="true" type="TIMESTAMP"/>
        <column name="MODIFIED_DATE" required="true" type="TIMESTAMP"/>
        <foreign-key foreignTable="SECURITY_PRINCIPAL">
            <reference foreign="PRINCIPAL_ID" local="PRINCIPAL_ID"/>
        </foreign-key>
    </table>
    
    <!--
       Create Security User Role Table
    -->
    <table name="SECURITY_USER_ROLE">
        <column name="USER_ID" primaryKey="true" required="true" type="INTEGER"/>
        <column name="ROLE_ID" primaryKey="true" required="true" type="INTEGER"/>
        <foreign-key foreignTable="SECURITY_PRINCIPAL">
            <reference foreign="PRINCIPAL_ID" local="ROLE_ID"/>
        </foreign-key>
        <foreign-key foreignTable="SECURITY_PRINCIPAL">
            <reference foreign="PRINCIPAL_ID" local="USER_ID"/>
        </foreign-key>
    </table>
    
    <!-- 
       Create Security User Group Table
    -->
    <table name="SECURITY_USER_GROUP">
        <column name="USER_ID" primaryKey="true" required="true" type="INTEGER"/>
        <column name="GROUP_ID" primaryKey="true" required="true" type="INTEGER"/>
        <foreign-key foreignTable="SECURITY_PRINCIPAL">
            <reference foreign="PRINCIPAL_ID" local="GROUP_ID"/>
        </foreign-key>
        <foreign-key foreignTable="SECURITY_PRINCIPAL">
            <reference foreign="PRINCIPAL_ID" local="USER_ID"/>
        </foreign-key>
    </table>
    
    <!--
       Create Security Group Role Table
    -->
    <table name="SECURITY_GROUP_ROLE">
        <column name="GROUP_ID" primaryKey="true" required="true" type="INTEGER"/>
        <column name="ROLE_ID" primaryKey="true" required="true" type="INTEGER"/>
        <foreign-key foreignTable="SECURITY_PRINCIPAL">
            <reference foreign="PRINCIPAL_ID" local="GROUP_ID"/>
        </foreign-key>
        <foreign-key foreignTable="SECURITY_PRINCIPAL">
            <reference foreign="PRINCIPAL_ID" local="ROLE_ID"/>
        </foreign-key>
    </table>
    
    <!--
       Create Security Permission Table
    -->
    <table name="SECURITY_PERMISSION">
        <column name="PERMISSION_ID" primaryKey="true" required="true" type="INTEGER"/>
        <column name="CLASSNAME" required="true" size="254" type="VARCHAR"/>
        <column name="NAME" required="true" size="254" type="VARCHAR"/>
        <column name="ACTIONS" required="true" size="254" type="VARCHAR"/>
        <column name="CREATION_DATE" required="true" type="TIMESTAMP"/>
        <column name="MODIFIED_DATE" required="true" type="TIMESTAMP"/>
    </table>
    
    <!--
       Create Security Principal Permission Table
    -->
    <table name="SECURITY_PRINCIPAL_PERMISSION">
        <column name="PRINCIPAL_ID" primaryKey="true" required="true" type="INTEGER"/>
        <column name="PERMISSION_ID" primaryKey="true" required="true" type="INTEGER"/>
        <foreign-key foreignTable="SECURITY_PERMISSION">
            <reference foreign="PERMISSION_ID" local="PERMISSION_ID"/>
        </foreign-key>
        <foreign-key foreignTable="SECURITY_PRINCIPAL">
            <reference foreign="PRINCIPAL_ID" local="PRINCIPAL_ID"/>
        </foreign-key>
    </table>
</database>
