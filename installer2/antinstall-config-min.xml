<?xml version="1.0"?>
<!DOCTYPE installer PUBLIC "-//tp23 //DTD Ant Installer Config//EN"
    "http://antinstaller.sourceforge.net/dtd/antinstall-config-0.7.dtd">
<!--

This is an example installer from which you can start a project
Edit this file to select the properties you want decided, at the end
of the installation screen the properties will be available in a file
in the current directory for your ant script


lookAndFeel="com.jgoodies.plaf.windows.ExtWindowsLookAndFeel"  - not recommended since it is not linux compatible due to Micro$oft License restrictions

lookAndFeel="net.sourceforge.mlf.metouia.MetouiaLookAndFeel"  - good, and cross platform

lookAndFeel="com.jgoodies.plaf.plastic.Plastic3DLookAndFeel"  - good, and cross platform

lookAndFeel="com.jgoodies.plaf.plastic.PlasticXPLookAndFeel"  - good, and cross platform

lookAndFeel="com.jgoodies.plaf.plastic.PlasticLookAndFeel" - good but flat, and cross platform
-->

<!--

defaultImageResource,windowIcon,resource and imageResource load from the classpath
the installer script should put the locations of these resources on the classpath

-->
<installer ui="swing,text" verbose="false"
    lookAndFeel="org.tp23.jgoodies.plaf.plastic.PlasticXPLookAndFeel"
    name="Jetspeed 2.1 Installer" windowIcon="/resources/feather-small.png"
    defaultImageResource="/resources/apache-portals.gif" minJavaVersion="1.4" wide="650:250">
    <!--  each page element represents a page of the installer -->
    <page type="input" name="intro" displayText="Jetspeed 2.1">
        <comment displayText="Welcome to Jetspeed 2.1!" title="true"/>
        <comment
            displayText="This installer program will guide you through an install of the core Jetspeed 2.1 Portal."/>
    </page>
    <!--  type="license" shows a license page to click through -->
    <page type="license" name="license" displayText="License conditions"
        resource="/resources/LICENSE.TXT">
    </page>
    <!--  type="input" shows a list of editable options for the installer -->
    <page type="input" name="properties" displayText="Required install options">
        <directory property="installDir" 
            defaultValue="/usr/local/ApacheJetspeed-2.1"
            defaultValueWin="c:/ApacheJetspeed-2.1"
            displayText="Select an installation directory" create="true" checkExists="true"/>
    </page>
    <page type="input" name="requiredComponents" displayText="Required Components">
        <comment displayText="Required Components - Click Next" bold="true"/>
        <target displayText="Core components" target="install" defaultValue="true"
            force="true"/>
        <target displayText="Create Database" target="generateDb"
            defaultValue="true" force="true"/>
        <target displayText="Populate Database" target="populateDB"
            defaultValue="true" force="true"/>
        <target displayText="Layout Portlets" target="layoutPortlets"
            defaultValue="true" force="true"/>
        <target displayText="Portal Administration Portlets"
            target="j2admin" defaultValue="true" force="true"/>
        <target displayText="MinInstall"
            target="MinInstall" defaultValue="true" force="true"/>
    </page>
    
    <!--  These are some other input types       -->
        
    <page type="input" name="databaseInfo" displayText="Database information">
        
        <comment
            displayText="Please fill in the fields below with the approriate database information."/>
        <comment  displayText=" The default values should install Apache Derby as the Database."/>
        <large-select property="dbName" displayText="Database type" defaultValue="derby" >
           <option text="derby"  value="derby" />
           <option text="mysql"  value="mysql" />
           <option text="hsql"  value="hsql" />
           <option text="postgres"  value="postgres" />
           <option text="sapdb"  value="sapdb" />
           <option text="oracle"  value="oracle" />
           <option text="mssql"  value="mssql" />
        </large-select> 
<!--        <text property="dbName" displayText="Database type"
            defaultValue="derby"/>
-->
        <text property="dbUser" displayText="Database User Name"/>
        <text property="dbPassword" displayText="Database Password"/>
        
        <text property="jdbcUrl" displayText="JDBC Connection String"
            defaultValue="jdbc:derby:${installDir}/webapps/jetspeed/WEB-INF/productiondb;create=true"/>
        <text property="jdbcDriverClass" displayText="JDBC Driver Classname"
            defaultValue="org.apache.derby.jdbc.EmbeddedDriver"/>
        
        <file property="jdbcDriverJar"
            defaultValue="${installDir}/shared/lib/derby-10.1.1.0.jar"
            defaultValueWin="${installDir}/shared/lib/derby-10.1.1.0.jar"
            displayText="JDBC driver" checkExists="false"/>
        
    </page> 
    <!--  page type="progress" shows a progress page with the install button 
    
    Its target is set to cleanuptarget since it is the last page this target will be run last-->
    <page type="progress" name="progress" displayText="Installation progress">
    </page> </installer>
