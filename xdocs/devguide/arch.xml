<?xml version="1.0"?>
<!--
    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at
    
    http://www.apache.org/licenses/LICENSE-2.0
    
    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<document>
    <properties>
        <title>Jetspeed 2 Security - Architecture Overview</title>
        <authors>
            <person name="David Le Strat" email="dlestrat@apache.org" />
        </authors>
    </properties>
    <body>
        <section name="Architecture Overview">
            <p>
                Jetspeed 2 security leverages J2EE authentication and authorization standards for both authentication 
                and authorization through the implementation of a default <code>LoginModule</code> and a default authorization
                <code>Policy</code>.
            </p>
            <p>
                Authentication establishes the identity of the user and populates the <code>Subject</code> with all
                the user principals.  In a portal context, the populated <code>Subject</code> is added to the session
                in the <code>org.apache.jetspeed.security.SecurityValve</code> implementation.  The <code>Subject</code>
                principals are then used to authorize the user's access to a given resource.  It leverages JAAS authorization
                by checking the user's permission with the
                <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/AccessController.html">AccessController</a>.  More details
                on authorization are provided in the <a href="atz-jaas.html">JAAS authorization section</a> of this documentation.
            </p>
            <p>
                The following diagram describes the high level security architecture:
            </p>
            <p align="center">
                <img src="images/arch-overview.gif" border="0" />
            </p>
            <p>
                Configuration files for each component areas are specified.  For more information, see the
                <a href="../deployguide/security-config.html">Security Configuration section</a> in the Deployment Guide.
            </p>
            <p>
                Jetspeed security architecture is fully JAAS compliant.  Developers can replace Jetspeed security
                architecture with their own <code>LoginModule</code> and <code>Policy</code> implementation.  Jetspeed
                implementation provides management programming and user interfaces as well as an SPI model to facilitate
                its extension.
            </p>
        </section>
    </body>
</document>