<?xml version="1.0"?>
<!--
  Copyright 2004 The Apache Software Foundation
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
  
  http://www.apache.org/licenses/LICENSE-2.0
  
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<document>
  <properties>
    <title>Jetspeed-2 Release Notes</title>
    <subtitle>Jetspeed-2 Release Notes</subtitle>
    <authors>
      <person name="Ate Douma" email="ate@douma.nu" />
    </authors>
  </properties>
  <body>
  	  <section name="Release Notes - Jetspeed 2 - Version 2.1">  
  	  <p>
  	  The list below outlines the issues that are addressed with release 2.1.  For a full list of features, see the
  	  <a href="features.html">features list</a>.
  	  </p>
  	    <subsection name="Bug">
  	      <ul>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-134'>JS2-134</a>] - Language Set not created from supported-locale</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-168'>JS2-168</a>] - capabilities test fails on hsql</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-204'>JS2-204</a>] - PLT.7.1.2 Portlet URL securit y not implemented and absolute URL rendering</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-226'>JS2-226</a>] - Page Aggregation using STRATEGY_PARALLEL severly broken</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-273'>JS2-273</a>] - Editing Page Layout works incorrectly</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-282'>JS2-282</a>] - Error when session expires and portlet window is maximized</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-315'>JS2-315</a>] - Premature access to portal can break access to portlets.</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-316'>JS2-316</a>] - JSF Component javascript not being rendered</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-339'>JS2-339</a>] - Calls to preferences.store() trigger a warning about missing transaction in OJB</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-375'>JS2-375</a>] - Database scripts broken on Oracle 8i</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-405'>JS2-405</a>] - Logout Problem when running behind Apache with mod_jk</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-438'>JS2-438</a>] - Broken link on web site</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-439'>JS2-439</a>] - typo in SSO sites portlet</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-445'>JS2-445</a>] - Unable to build J2 - Failed to download, Missing version numbers</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-448'>JS2-448</a>] - Oracle installer broken.</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-450'>JS2-450</a>] - portlet application manager eats useful exception message</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-452'>JS2-452</a>] - unable to add a custom mode to the portlet.</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-456'>JS2-456</a>] - PageImporter did not import <users/> element in page.security to database</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-458'>JS2-458</a>] - J2 Security constraint is broken by  DatabasePageManager</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-460'>JS2-460</a>] - Minimize/Restore broken</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-464'>JS2-464</a>] - Redeployment of portlets that have services defined jetspeed-portlet.xml ARE NOT updating the JETSPEED_SERVICES table with new/altered values.</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-467'>JS2-467</a>] - Broken links in http://portals.apache.org/jetspeed-2/getting-started-binary.html</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-468'>JS2-468</a>] - Customizer cannot edit nested layouts.</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-473'>JS2-473</a>] - Many uses of Fragment.getFragments() assume access to the underlying list, not a copy: this is invalid</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-475'>JS2-475</a>] - Proposed changes in portal permissions</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-478'>JS2-478</a>] - admin portlets application inconsistency</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-479'>JS2-479</a>] - Non-thread safe code in the DB PageManager</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-481'>JS2-481</a>] - Unable to change Jetspeed2's default theme "tigris" to another one.</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-483'>JS2-483</a>] - buggy css layouts / patch for table based layout</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-485'>JS2-485</a>] - admin portlets profiler admin</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-495'>JS2-495</a>] - OJB + Spring Transactions broken</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-496'>JS2-496</a>] - J2 on tomcat 5.5.15: 403 returned to client browser when any user that doesn't have admin role attempts to log in</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-497'>JS2-497</a>] - Can not correctly display the display-names of layout-portlet when editing  a page in Chinese or Japanese.</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-498'>JS2-498</a>] - When editting page, can not correctly display the display-name in the language, which have country name.</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-501'>JS2-501</a>] - Pluto ObjectID implementation produces invalid map key values</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-503'>JS2-503</a>] - UserManager's setUserEnabled() method fails after creating new users</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-509'>JS2-509</a>] - Portlet Preferences are not stored on a user by user basis</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-511'>JS2-511</a>] - org.apache.jetspeed.om.portlet.impl.PortletDefinitionImpl line 558 throws NPE</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-518'>JS2-518</a>] - Setting PorletPreferences in PSML does not work</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-519'>JS2-519</a>] - Concurrency issues due to ServletPortletInvoker being used as singleton</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-520'>JS2-520</a>] - RSSPortlet ignores preference itemdisplayed</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-522'>JS2-522</a>] - Infinite loop created in PortletWindowAccessorImpl.getWindowFromCache() while under load</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-526'>JS2-526</a>] - JBoss web.xml entry for security-constraint login/redirector wont work under Tomcat</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-528'>JS2-528</a>] - Error while trying to deploy portlets</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-530'>JS2-530</a>] - MenuElementImpl.getMetadata does not return the defined data</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-535'>JS2-535</a>] - SSO default resources</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-556'>JS2-556</a>] - decorator.vm in portlet decorators not overriden</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-562'>JS2-562</a>] - LDAP attribute name comparison should be case-insensitive</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-564'>JS2-564</a>] - wrong italian localization strings</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-571'>JS2-571</a>] - Changes to page structure (PSML) using the DatabasePageManager are not reflected to the internal page representation.</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-572'>JS2-572</a>] - Maven 2 build requires spring-portlet and spring-beans version</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-576'>JS2-576</a>] - PortletDefinitionImpl.getDisplayNameSet() returns empty set if getDisplayName() is not called first</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-582'>JS2-582</a>] - Portlet sessions are not invalidated when the portal session is destroyed with emptySessionPath="true"</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-588'>JS2-588</a>] - "Portal Site Detail" portlet doesn't work in trunk</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-590'>JS2-590</a>] - Moving / Deleting portlets doesn't always work under DatabasePageManager</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-591'>JS2-591</a>] - cannot access a new page with a multibyte page name</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-592'>JS2-592</a>] - The customizer portlet cannot add portlets to a .psml page when logged in as admin</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-599'>JS2-599</a>] - Statistics throw a NumberFormatException for last 24 hours and last 7 days</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-605'>JS2-605</a>] - Query string parameters should not (by default) be provided to portlets to be compliant to JSR 168 spec requirements</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-607'>JS2-607</a>] - An error occur when trying storing a null value in preferences</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-611'>JS2-611</a>] - Custom Portlet Mode and Window State incorrectly handled / processed from portlet.xml</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-613'>JS2-613</a>] - ConcurrentModificationException under high load</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-633'>JS2-633</a>] - nested layout broken with permission security enabled</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-635'>JS2-635</a>] - count of portlet on portlet selecotor</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-641'>JS2-641</a>] - override.properties isn't loaded by the bean 'placeholderConfig'</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-646'>JS2-646</a>] - ActionValveImpl can throw NullPointerException under clustered environment.</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-651'>JS2-651</a>] - Add Portlet fails when logged in as Subsite User</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-652'>JS2-652</a>] - Desktop does not render page if any portlet on the page shows "Failed to retrieve Portlet Definition"</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-655'>JS2-655</a>] - Entity Editor Broken</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-656'>JS2-656</a>] - Cross-Site Scripting (XSS)  vulnerability</li>
  	      </ul>
  	    </subsection>
  	    <subsection name="Improvement">
  	      <ul>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-110'>JS2-110</a>] - Replace HSQL with Axion as default database in J2</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-190'>JS2-190</a>] - Changing the portlet.xml in a deployed portlet/webapp does not change Jetspeed.</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-198'>JS2-198</a>] - Portlets don't use user-specific preferences. The Portlet Preferences for anon user are always used.</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-264'>JS2-264</a>] - Updating just the portlet content</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-329'>JS2-329</a>] - 3 new 100% table-free portlet decorations.</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-354'>JS2-354</a>] - Provision for portlet-level permissions</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-449'>JS2-449</a>] - User Specific Preferences</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-461'>JS2-461</a>] - Serializer component</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-462'>JS2-462</a>] - Need to clean up Velocity logs, too many warnings and some errors even</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-470'>JS2-470</a>] - LDAP Authorization Support Implementation + Sun LDAP Authentication Support</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-480'>JS2-480</a>] - Statistics cleanup</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-491'>JS2-491</a>] - Enhance J2 LDAP Security Documentation</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-493'>JS2-493</a>] - More chinese Localization</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-504'>JS2-504</a>] - update chinese Localization</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-506'>JS2-506</a>] - Extend profiler to fallback to parent folders when requested path is not available.</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-508'>JS2-508</a>] - Fixing commons-logging on WebSphere and other application servers</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-516'>JS2-516</a>] - Make selection of last visited page in folder on folder request optional</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-527'>JS2-527</a>] - Allow email addresses to be used for user accounts by making hierarchical interpretation of principal names optional</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-534'>JS2-534</a>] - Korean translation for portal, portal-site, j2-admin, demo, rss, gems, layout-portlets, and jetspeed-api.</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-539'>JS2-539</a>] - Korean translation for *.psml, *.link, and folder.metadata files under the /WEB-INF/pages/**/ folder.</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-541'>JS2-541</a>] - Log initialization failures when deploying on Websphere 6.0.2.x</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-543'>JS2-543</a>] - Velocity logging using the jetspeed-webapp-logging component</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-549'>JS2-549</a>] - Simple documentation for using the JSF bridge in Jetspeed</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-568'>JS2-568</a>] - Upgrade commons-httpclient bundled in jetspeed war</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-575'>JS2-575</a>] - Sun LDAP connection pooling implementation needed so that Jetspeed does not need to be restarted if LDAP server is restarted or connection is lost.</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-578'>JS2-578</a>] - Improve Creation of PSML pages for new users</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-600'>JS2-600</a>] - update Chinese Localization</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-603'>JS2-603</a>] - Upgrade Search component to lucene 2.0.0</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-606'>JS2-606</a>] - Allow deployment of local portlet applications without a jetspeed- name prefix</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-614'>JS2-614</a>] - Jetspeed Deploy compliant with servlet spec 2.4</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-640'>JS2-640</a>] - Run with active Java security manager enabled</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-642'>JS2-642</a>] - update chinese LOCALIZATION</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-648'>JS2-648</a>] - A multi-database profile settings for maven 2</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-649'>JS2-649</a>] - XML Schemas for Jetspeed XML Data</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-654'>JS2-654</a>] - enhance components to use JetspeedCache for distributed environments</li>
  	      </ul>
  	    </subsection>
  	    <subsection name="New Feature">
  	      <ul>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-275'>JS2-275</a>] - Option to make Action URLs relative or absolute</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-283'>JS2-283</a>] - Basic Ajax Service Implementation</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-466'>JS2-466</a>] - Production Configuration / Hardcode Base URL</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-476'>JS2-476</a>] - Create user pages from a user's roles</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-490'>JS2-490</a>] - A profiler rule which serves content based on the network associated with the http request</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-514'>JS2-514</a>] - Jetspeed Desktop</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-523'>JS2-523</a>] - Supporting custom PortletModes and WindowStates</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-524'>JS2-524</a>] - Providing a "print" custom PortletMode and a "solo" custom  WindowState</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-550'>JS2-550</a>] - A new Two-way password encoding service allowing decoding of encoded passwords</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-557'>JS2-557</a>] - Property Loader Valve</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-559'>JS2-559</a>] - Place portlets in decorators</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-583'>JS2-583</a>] - Message properties files in greek</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-585'>JS2-585</a>] - A continuous build script</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-596'>JS2-596</a>] - CLONE -Support Tomcat TCP Clustering</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-610'>JS2-610</a>] - Categorization of Portlets with new Category Portlet Selector</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-644'>JS2-644</a>] - Remote Portlet Application Deployer</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-645'>JS2-645</a>] - Portlet Security Constraints</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-647'>JS2-647</a>] - Cluster Deployment</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-653'>JS2-653</a>] - Show theme depending what user you are</li>
  	      </ul>
  	    </subsection>
  	    <subsection name="Task">
  	      <ul>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-361'>JS2-361</a>] - Portlet Caching implemented in Aggregator</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-366'>JS2-366</a>] - Clean up orphan tables in J2 DB schema</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-529'>JS2-529</a>] - Minimize verbose debugging output of Missing/Forbidden page fallback in PortalSiteSessionContextImpl</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-570'>JS2-570</a>] - Add Support for SpringMVC Portlet framework plus doHeader phase</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-573'>JS2-573</a>] - Profiler docs</li>
  	      </ul>
  	    </subsection>
  	    <subsection name="Wish">
  	      <ul>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-344'>JS2-344</a>] - PHP 5 support</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-521'>JS2-521</a>] - j2-admin: Styling of login error messages (Login.jsp)</li>
  	        <li>[<a href='https://issues.apache.org/jira/browse/JS2-554'>JS2-554</a>] - Upload Jetspeed jars to Ibiblio</li>
  	      </ul>
  	    </subsection>
  	    
            
      </section>
  </body>
</document>