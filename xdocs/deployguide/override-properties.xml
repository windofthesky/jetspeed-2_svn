<?xml version="1.0"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<document>
  <properties>
    <title>Override Properties</title>
    <subtitle>Override Properties</subtitle>
    <authors>
      <person name="David Sean Taylor" email="taylor@apache.org"/>
    </authors>
  </properties>
  <body>
<section name="Override Properties">

    <p>The default <strong><code>jetspeed.properties</code></strong> can be overridden by creating a <strong><code>/WEB-INF/conf/override.properties</code></strong> file.  Additional properties can be declared in this file as well.</p>
    <p>It is strongly recommended that you <strong>never</strong> change the <strong><code>jetspeed.properties</code></strong>, but instead only modify the override.properties to make any property configuration changes.
    The reason is simple: for upgrades. New versions of Jetspeed can make changes to the jetspeed.properties, and your modifications will be lost. If you use the override.properties, your modifications will continue to override
    subsequent releases of Jetspeed properties.</p><p> Properties are overriden by property name. For example, if there is a property in jetspeed.properties like:
    </p>
    <source>
    email.sender = admin@somedomain.com
    </source> 
<p>To override it to a mail server on your company's Jetspeed portal, do not edit the jetspeed.properties, but instead edit override.properties, setting the property with the same name:
</p>
    <source>
    email.sender = admin@aig-handouts.com
    </source> 
	<subsection name="Sample override.properties file">
		<p>
<source><![CDATA[
# Use this to override settings in jetspeed.properties

psml.pages.path = ${applicationRoot}/WEB-INF/some-pages

email.sender = emailsender@somedomain.com
merge.portal.parameters.with.portlet.parameters=true

email.admin = emailadmin@somedomain.com
# email of the system manager
email.manager = emailmanager@somedomain.com
# email user info attribute (non standard)
email.userinfo.attribute = user.email
# smtp email server address
email.smtp.server.address=secondhost
# smtp email server user name
email.smtp.user.name=
# smtp email server user password
email.smtp.user.password=
#mail.smtp.auth
email.smtp.auth=false
]]></source>
		</p>
	</subsection>
	<subsection name='Variable Substitution'>
	<p>
	Variables declared in jetspeed.properties (or even higher up in override.properties) can be referenced using a syntax called variable substitution.
	In defining a property, you can refer to the value of another property by surrounding the referenced variable name with "${}":
	</p>
	<source>
		${variableName}
	</source>
	<p>There is one variable made available to you by Jetspeed called ${applicationRoot}. This variable references the full file system path to your web application.
	Its useful for referencing resources that are not opened as a web application resource (opened with java.io.File) such as the location of the PSML files.</p>
	</subsection>
</section>
</body>
</document>
