<?xml version="1.0"?>
<!--
	Licensed to the Apache Software Foundation (ASF) under one or more
	contributor license agreements.  See the NOTICE file distributed with
	this work for additional information regarding copyright ownership.
	The ASF licenses this file to You under the Apache License, Version 2.0
	(the "License"); you may not use this file except in compliance with
	the License.  You may obtain a copy of the License at
	
	http://www.apache.org/licenses/LICENSE-2.0
	
	Unless required by applicable law or agreed to in writing, software
	distributed under the License is distributed on an "AS IS" BASIS,
	WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	See the License for the specific language governing permissions and
	limitations under the License.
-->
<document>
	<properties>
		<title>Role Administration Guide</title>
		<subtitle>Guide to Administering Roles</subtitle>
		<authors>
			<person name="David Sean Taylor" email="taylor@apache.org" />
			<person name="Jody McAlister" email="jmcalister@onehippo.com" />
			<person name="Jeff Maddux" email="jmaddux@onehippo.com" />
		</authors>
	</properties>
	<body>
		<section name="Role Administration Guide">
			<p>
			Role Management is where you manage individual portal roles. You can create new roles and remove existing roles.
			You can assign users to roles. The Role Management page is located inside the Jetspeed Administrative Portlets section.
			The Role Management page is the second tab on the administrative menu across the top. The Role management section is comprised 
			of two portlets, Role Admin and Role Detail Information.																	
			</p>
		</section>
		<section name="Role Admin">
			<p>
			The Role Admin portlet lists all portal roles and allows you to search for a particular role.
			</p>
			<p>			
			<img src="images/roles.png"/>								
			</p>
			<subsection name="Searching">
				<p>
				You can search for a particular role by entering the role name or part of the role name in the search text box.
				After clicking on the "Search" button, the role listing will show the search results, starting with the user that best matched your 
				search query, followed by the users that normally appear after the matched user in alphabetical order.
				</p>
			</subsection>
			<subsection name="Filtering">
				<p>
				To get only exact matches when searching for (or part of) a particular role name, check the "filter" checkbox below the
				search text box.
				</p>
			</subsection>		
		</section>
		<section name="Adding and Deleting Roles">
			<p>
			The Role Detail Information portlet allows you to add and/or remove roles. Select a role in the Role admin portlet and the Role 
			Detail Information portlet will update with members of that role.  The selected role in the Role admin porlet will now have an 
			arrow marking it.
			</p>
			<p>
				<img src="images/roledetail.png"/>
			</p>
			<subsection name="Adding a Role">
				<p>
				To add a role, depending on the Role Detail Information portlets state, you either need to...
	                <ul>
	                	<li>select "Add New Role", enter a role name and press "Save" (screenshot above), or</li>
	                    <li>enter a role name and press "Save" (screenshot below).</li>          
	                </ul> 					
				</p>		
				<p>
				<img src="images/roledetailsimple.png"/>
				</p>
			</subsection>		
			<subsection name="Removing a Role">
				<p>
				To remove a role from the system, click on the desired role in the Role Admin portlet. A small arrow will appear in front of the
				role name to indicate it is currently selected, and the role's existing users will be loaded in the Role Details Information portlet.				
				Click the "Remove Role" button. This action is permanent.
				</p>
			</subsection>			
		</section>		
		<section name="Adding Users to Roles">
			<p>	
			To add or remove users assigned to a role, click on the role name in the Role Admin portlet. A small arrow will appear in front of the
			role name to indicate it is currently selected, and the role's existing users will be loaded in the Role Details Information portlet.					
			</p>
			<subsection name="Paging">
				<p>
				If there are more than ten users assigned to a role in the system, the role listing is spread over several pages
				each displaying ten users. You can navigate through the pages using the buttons right below the listing.
				Clicking on the "Refresh" button will reset the user listing to the first page.
				</p>
				<p>				
					<img src="images/roledetailpaging.png"/>			
				</p>
			</subsection>				
			<subsection name="Add Users to Role">
				<p>
				The Role Detail Information portlet allows you to add users to a role. Select "Add Users to Role".
				A pop-up window will appear.  Check the users you wish to add and click "Add Users". The Role Detail Information portlet
				will be populated with the selected users.	
				</p>
				<p>			
					<img src="images/roleuserchooser.png"/>	
				</p>			
			</subsection>
			<subsection name="Remove Checked Users">
				<p>
				To remove a user from a role, select the user(s) you wish to remove and click on the "Remove Checked Users" button.
				Be aware that this action is permanent!				
				</p>
				<p>			
					<img src="images/roleremove.png"/>	
				</p>				
			</subsection>
			<subsection name="Search Users in Role">
				<p>
				You can search for a particular user by entering the users name or part of the users name in the search text box.
				After clicking on the "Search" button, the "Users in Role" listing will show the search results, starting with the user that best matched your 
				search query, followed by the users that normally appear after the matched user in alphabetical order.
				</p>
			</subsection>
			<subsection name="Filter Users in Role">
				<p>
				To get only exact matches when searching for (or part of) a particular user name, check the "filter" checkbox below the
				search text box. Clicking on the "Refresh" button will reset the group listing to the first page. 
				</p>
			</subsection>			
		</section>	
	</body>
</document>